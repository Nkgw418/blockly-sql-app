/*! SQLBlockly 2022-10-19 by SPE Systemhaus GmbH <spe@spe-systemhaus.de> */

/* Copyright 2016 SPE Systemhaus GmbH

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License. */
function ColourGradient(){var a=null,b=null,c=null,d=null;!function(){a=document.getElementsByTagName("svg")[0],c=a.getElementsByTagName("defs")[0],b=a.namespaceURI}();this.setHorizontalGradient=function(a,b,c){var g=a.getParent();d="gradient_"+g.id+"_"+a.id;var h={start:b||g.getColour(),end:c||a.getColour()},i=g.getSvgRoot().getElementsByClassName("blocklyPath")[0],j=document.getElementById(d),k=[{offset:"20%","stop-color":h.start},{offset:"80%","stop-color":h.end}];j?e(j,k):j=f(k,!1),i.setAttribute("fill","url('#"+d+"')")},this.setVerticalGradient=function(a,b,c){if(!a&&!b&&!c)return!1;d="gradient_"+a.id,a.updateColour=function(){};var g=a.getSvgRoot().getElementsByClassName("blocklyPath")[0],h=document.getElementById(d),i=0,j=100/a.getHeightWidth().height;c.forEach(function(b){var c=a.getInput(b);c&&c.renderHeight&&(i+=c.renderHeight)}),i*=j;var k=[{offset:i-5+"%","stop-color":b.start},{offset:i+5+"%","stop-color":b.stop}];h?e(h,k):h=f(k,!0),g.setAttribute("fill","url('#"+d+"')")};var e=function(a,b){for(var c=a.getElementsByTagName("stop"),d=0;d<c.length;d++){var e=b[d],f=c[d];for(var g in e)f.setAttribute(g,e[g])}}.bind(this),f=function(a,e){var f=document.createElementNS(b,"linearGradient");f.setAttribute("id",d),e&&(f.setAttribute("x1","0"),f.setAttribute("x2","0"),f.setAttribute("y1","1"),f.setAttribute("y2","0"));for(var g=0;g<a.length;g++){var h=a[g],i=document.createElementNS(b,"stop");for(var j in h)h.hasOwnProperty(j)&&i.setAttribute(j,h[j]);f.appendChild(i)}return c.appendChild(f)}.bind(this)}function Language(){var a=null;!function(){localStorage.getItem("lang")||localStorage.setItem("lang",SQLBlockly.LANG),a=localStorage.getItem("lang")}();this.readLanguageFile=function(c){var d=new XMLHttpRequest;d.open("GET","lang/"+a+".js",!0),d.responseType="text",d.onreadystatechange=function(){if(200===d.status&&4===d.readyState){var e=d.responseText,f=document.getElementById("languageHeader");null==f&&(f=document.createElement("script"),f.id="languageHeader");var g=new XMLHttpRequest;g.open("GET",SQLBlockly.BLOCKLY_PATH+"msg/js/"+a+".js",!0),g.responseType="text",g.onreadystatechange=function(){200===g.status&&4===g.readyState&&(f.innerHTML=e+g.responseText,document.getElementsByTagName("head")[0].appendChild(f),b(),c())},g.send(null)}},d.send(null)},this.updateLanguage=function(a){localStorage.setItem("lang",a),window.location.reload()},this.getLanguage=function(){return localStorage.getItem("lang")},this.updateLanguageSelect=function(){for(var a=document.getElementById("languageSelect");a.firstChild;)a.removeChild(a.firstChild);for(var b in SQLBlocks.Msg.languages){var c=SQLBlocks.Msg.languages[b],d=document.createElement("option");d.value=b,d.innerHTML=c,b===this.getLanguage()&&(d.selected="selected"),a.appendChild(d)}};var b=function(){c("innerHTML"),c("title"),c("value")}.bind(this),c=function(a){for(var b in SQLBlocks.Msg.html[a]){var c=document.getElementsByClassName(b);if(c)for(var d=0;d<c.length;d++)c[d][a]=SQLBlocks.Msg.html[a][b]}}.bind(this)}function SQLHelper(){this.separateTableFromColumn=function(a){var b={table:null,column:null};if(-1!==a.indexOf(".")){var c=a.indexOf("."),d=a.length;b.table=a.substring(0,c),b.column=a.substring(c+1,d)}else b.column=a;return b},this.getTableOfColumn=function(a){console.warn("Caution this table is only the first occurence!");for(var b in dbStructure){var c=dbStructure[b];for(columnKey in c)if(a===c[columnKey].name)return b}throw new TableNotFoundException},this.getTypeColour=function(a,b){var c=getColumnsArrayFromStructure(a),d=-1;if("*"===b)return SQLBlockly.Colours.list;if(c.forEach(function(a,c){b===a.name&&(d=c)}),-1!==d){switch(c[d].type.toLowerCase().trim()){case"int":case"int unsigned":case"integer":case"integer unsigned":case"tinyint":case"tinyint unsigned":case"smallint":case"smallint unsigned":case"mediumint":case"mediumint unsigned":case"bigint":case"bigint unsigned":case"double":case"float":case"decimal":return SQLBlockly.Colours.number;case"char":case"varchar":case"text":case"string":return SQLBlockly.Colours.string;case"date":case"datetime":return SQLBlockly.Colours.date;case"bool":case"boolean":case"binary":return SQLBlockly.Colours.boolean;case"enum":return SQLBlockly.Colours.list;case"blob":default:return SQLBlockly.Colours.undefined}}return SQLBlockly.Colours.undefined},this.getTypeByColour=function(a){switch(a){case SQLBlockly.Colours.string:return"string";case SQLBlockly.Colours.number:return"number";case SQLBlockly.Colours.date:return"date";case SQLBlockly.Colours.boolean:return"bool"}return"undefined"},this.getType=function(a,b){getColumnsArrayFromStructure(a);switch(this.getTypeColour(a,b)){case SQLBlockly.Colours.string:return"string";case SQLBlockly.Colours.number:return"number";case SQLBlockly.Colours.date:return"date";case SQLBlockly.Colours.boolean:return"bool";case SQLBlockly.Colours.list:return"tables_column_var"}return null},this.getTableDropdowndata=function(){var a=(getTablesArrayFromStructure(),[]);for(var b in dbStructure){var c=[];c[0]=b,c[1]=b,a.push(c)}return a},this.getColumnDropdowndata=function(a,b){var c=getColumnsArrayFromStructure(a),d=new Array;b&&(d[0]=new Array,d[0][0]="*",d[0][1]="*");for(var e=0;e<c.length;e++){var f=e;b&&f++,d[f]=new Array,d[f][0]=c[e].name,d[f][1]=c[e].name}return d},this.colourTheParent=function(a){if(a){var b=a.getParent(),c=new ColourGradient;if(b){a.lastConnectedParent=b;var d=!1,e=b.getChildren(),f=[];if(e.forEach(function(a){var b=a.getColour();b in f||f.push(b)}),f.length>1&&f.forEach(function(a){f[0]!==a&&(d=!0,b.setColour(b.getColour()))}),b.getColour()!==a.getColour()&&!d)switch(b.type){case"compare_operator":case"conditions":case"logical_conjunction":case"to":case"array":c.setHorizontalGradient(a)}}}},this.getChildColour=function(a){var b=a.getColour(),c=a.getChildren();if(c.length>1)return SQLBlockly.Colours.list;for(var d in c){var e=c[d];if("tables_and_columns"===e.type&&0===e.getChildren().length)return b=e.getColour()}return b},this.createBlock=function(a,b){var c=a.newBlock(b);return c.initSvg(),c.render(),c},this.clearInputList=function(a){for(var b in a.inputList)a.removeInput(a.inputList[b].name)},this.addGroupByInput=function(a){a.groupByCount_=1,a.appendStatementInput("group_by").setCheck(["table_column"]).appendField(SQLBlocks.Msg.Blocks.GROUP_BY)},this.addHavingInput=function(a){a.groupByHavingCount_=1,a.appendValueInput("having").setCheck(["LogicOPs","condition","table_column"]).appendField(SQLBlocks.Msg.Blocks.HAVING)},this.addOrderByInput=function(a){a.orderByCount_=1,a.appendStatementInput("order_by").setCheck(["table_column","name"]).appendField(SQLBlocks.Msg.Blocks.ORDER_BY),a.appendDummyInput("sort").appendField(new Blockly.FieldDropdown(SQLBlocks.Msg.DROPDOWN.SORTDIRECTIONS),"sort")},this.addLimitInput=function(a){a.limitCount_=1,a.appendValueInput("limit").setCheck("number").appendField(SQLBlocks.Msg.Blocks.LIMIT)},this.addAliasInput=function(a){a.aliasCount_=1,a.appendDummyInput("VALUE").appendField(SQLBlocks.Msg.Blocks.VARIABLES_SET_TITLE).appendField(new Blockly.FieldTextInput(Blockly.Msg.VARIABLES_SET_ITEM),"VAR"),a.contextMenuMsg_=Blockly.Msg.VARIABLES_SET_CREATE_GET,a.contextMenuType_="fieldname_get"},this.decomposeGroupBy=function(a,b,c){if(1===b.groupByCount_){var d=this.createBlock(a,"group_by");if(c.getInput("group_by").connection.connect(d.outputConnection),b.groupByHavingCount_){var e=this.createBlock(a,"having");d.getInput("having").connection.connect(e.outputConnection)}}},this.composeGroupBy=function(c,d){var e=d.getInputTargetBlock("group_by");e?(0===c.groupByCount_&&this.addGroupByInput(c),e.getInputTargetBlock("having")?c.groupByHavingCount_<1&&this.addHavingInput(c):b(c)):a(c)},this.decomposeOrderBy=function(a,b,c){if(1===b.orderByCount_){var d=this.createBlock(a,"order_by");c.getInput("order_by").connection.connect(d.outputConnection)}},this.composeOrderBy=function(a,b){b.getInputTargetBlock("order_by")?0===a.orderByCount_&&this.addOrderByInput(a):c(a)},this.decomposeLimit=function(a,b,c){if(1===b.limitCount_){var d=this.createBlock(a,"limit");c.getInput("limit").connection.connect(d.outputConnection)}},this.composeLimit=function(a,b){b.getInputTargetBlock("limit")?0===a.limitCount_&&this.addLimitInput(a):d(a)},this.decomposeAlias=function(a,b,c){if(1===b.aliasCount_){var d=this.createBlock(a,"alias");c.getInput("alias").connection.connect(d.outputConnection)}},this.composeAlias=function(a,b){b.getInputTargetBlock("alias")?0===a.aliasCount_&&this.addAliasInput(a):e(a)},this.sortInputs=function(a){var b={bla:1,select:2,Clause:3,group_by:4,having:5,order_by:6,sort:7,limit:8,VALUE:9};a.inputList.sort(function(a,c){return b[a.name]-b[c.name]}),a.onchange()};var a=function(a){a.getInput("group_by")&&(a.groupByCount_=0,a.removeInput("group_by"),b(a))}.bind(this),b=function(a){a.getInput("having")&&(a.groupByHavingCount_=0,a.removeInput("having"))}.bind(this),c=function(a){a.getInput("order_by")&&(a.orderByCount_=0,a.removeInput("order_by"),a.removeInput("sort"))}.bind(this),d=function(a){a.getInput("limit")&&(a.limitCount_=0,a.removeInput("limit"))}.bind(this),e=function(a){a.getInput("VALUE")&&(a.aliasCount_=0,a.removeInput("VALUE"))}.bind(this)}function checkInsertStatement(a){for(var b=a.setCount_,c=new Array,d=0;d<=b&&null!=a.getInputTargetBlock("set"+d);d++){var e=a.getInputTargetBlock("set"+d),f=e.getInputTargetBlock("A");if(null!=f&&(c[d]=new Array,c[d][0]=f.getFieldValue("tabele"),c[d][1]=f.getFieldValue("Column"),c.length>1))if(c[0][0]==c[d][0])for(var g=0;g<c.length-1;g++)c[g][1]==c[d][1]?f.warning?f.warning.getText()!==SQLBlocks.Msg.Warnings.TWO_VALUES_SAME_COLUMN&&f.setWarningText(SQLBlocks.Msg.Warnings.TWO_VALUES_SAME_COLUMN):f.setWarningText(SQLBlocks.Msg.Warnings.TWO_VALUES_SAME_COLUMN):f.setWarningText(null);else f.warning&&f.msg!==SQLBlocks.Msg.Warnings.TWO_VALUES_SAME_COLUMN?f.setWarningText(SQLBlocks.Msg.Warnings.DIFFERENT_TABLES):f.setWarningText(null)}}function checkUpdate(a){if(null!=a.getInputTargetBlock("up"))for(var b=a.getInputTargetBlock("up"),c=b.getFieldValue("tabele");null!=b;)if("tables_and_colums"==b.type)if(b.childBlocks_.length>0){var d=b.childBlocks_[0],e=d.getFieldValue("tabele");e==c?(msg=null,a.setWarningText(msg),b=d):(msg=SQLBlocks.Msg.Warnings.DIFFERENT_TABLES,a.setWarningText(msg),b=null)}else b=null;else b.unplug(!0,!0),b=null}function checkTypeByColour(a){var b=a.getInputTargetBlock("A"),c=a.getInputTargetBlock("B"),d=null,e=null;if(b)if("tables_and_columns_var"===b.type){var f=b.getFieldValue("tabele"),g=b.getFieldValue("Column");d=sqlHelp.getTypeColour(f,g)}else d=b.getColour();if(c)if("tables_and_columns_var"===c.type){var f=c.getFieldValue("tabele"),g=c.getFieldValue("Column");e=sqlHelp.getTypeColour(f,g)}else e=c.getColour();d!==e&&null!==e&&null!==d&&(c.unplug(!0,!0),c.moveBy(100,100))}function allowOnlyNumeric(a){a&&a.getColour()!==SQLBlockly.Colours.number&&(a.unplug(!0,!0),a.moveBy(100,100))}function groupFunctioneval(a){if(null!=a.getInputTargetBlock("group")){var b=a.getInputTargetBlock("group"),c=a.getFieldValue("group_function");if("avg"==c||"max"==c||"min"==c)if("tables_and_colums"==b.type)b.childBlocks_.length>0&&b.childBlocks_[0].unplug(!0,!0);else if("distinct"==b.type){if(1==b.childBlocks_.length){var d=b.getInputTargetBlock("distinct2");d.childBlocks_length>0&&d.childBlocks_[0].unplug(!0,!0)}}else b.unplug(!0,!0);else"tables_and_colums"==b.type?b.childBlocks_.length>0&&b.childBlocks_[0].unplug(!0,!0):b.unplug(!0,!0)}}function groupbyval(a){if(null!=a.getInputTargetBlock("select")){var b=a.getInputTargetBlock("select"),c=null,d=0,e=0,f=0,g=0,h=new Array,i=new Array,j="";if(b.childBlocks_)for(;null!=b;)if("tables_and_colums"==b.type)d++,i[g]=new Array,i[g][0]=b.getFieldValue("tabele"),i[g][1]=b.getFieldValue("Column"),g++,b=b.childBlocks_.length>0?b.childBlocks_[f]:null;else if("distinct"==b.type)if(b.getInputTargetBlock("distinct2")){if("tables_and_colums"==b.getInputTargetBlock("distinct2").type){var k=b.getInputTargetBlock("distinct2");d++,i[g]=new Array,i[g][0]=k.getFieldValue("tabele"),i[g][1]=k.getFieldValue("Column"),g++,b=b.nextConnection.targetConnection.sourceBlock_?b.nextConnection.targetConnection.sourceBlock_:null}}else b=null;else"sub_select"==b.type?b.getInput("VALUE")?(d++,i[g]=new Array,i[g][0]=b.getFieldValue("VAR"),b=null):null!=b.getInputTargetBlock("select")?(j=b.getInputTargetBlock("select"),d++,i[g]=new Array,i[g][0]=j.getFieldValue("tabele"),i[g][1]=j.getFieldValue("Column"),g++,b=j.childBlocks_.length>0?j.childBlocks_[f]:null):b=null:b=null;if(a.getInput("group_by")||a.getInput("group_by_have")||a.getInput("order_by")){var l=new Array;for(a.getInput("group_by")?h=a.getInputTargetBlock("group_by"):a.getInput("group_by_have")?h=a.getInputTargetBlock("group_by_have"):a.getInput("order_by")&&(h=a.getInputTargetBlock("order_by"));null!=h;)if("tables_and_colums"==h.type){if(e++,l[0]=new Array,l[0][0]=h.getFieldValue("tabele"),l[0][1]=h.getFieldValue("Column"),e>d){h.unplug(!0,!0);break}e<d?(a.getInput("order_by")?a.setWarningText(null):a.setWarningText(SQLBlocks.Msg.Warnings.NOT_ENOUGH_TABLES),a.setWarningText(SQLBlocks.Msg.Warnings.NOT_ENOUGH_TABLES)):(e=d)&&a.setWarningText(null);for(var m=0;m<i.length;m++)if(l[0][0]==i[m][0]){if(l[0][1]==i[m][1]||!i[m][1]){c=null,i.splice(m,1);break}c=SQLBlocks.Msg.Warnings.WRONG_COLUMN}else l[0][0]!=i[m][0]&&(c=SQLBlocks.Msg.Warnings.WRONG_COLUMN);h.setWarningText(c),h=h.childBlocks_.length>0?h.childBlocks_[f]:null}else if(h.type="fieldname_get"){if(e++,l[0]=new Array,l[0][0]=h.getFieldValue("VAR"),e>d){h.unplug(!0,!0);break}e<d?a.getInput("order_by")?a.setWarningText(null):a.setWarningText(SQLBlocks.Msg.Warnings.NOT_ENOUGH_TABLES):(e=d)&&a.setWarningText(null);for(var m=0;m<i.length;m++){if(l[0][0]==i[m][0]){c=null,i.splice(m,1);break}c=SQLBlocks.Msg.Warnings.WRONG_ALIAS}h.setWarningText(c),h=null}else h.unplug(!0,!0),h=null}}}function othereval(a){var b=null,c=0,d=0,e=new Array,f=a.getFieldValue("other_function");if("greatest"==f||"least"==f){var g=a.valueCount_;e[0]=a.getInputTargetBlock("object");for(var h=1;h<=g;h++)null!=a.getInputTargetBlock("object"+h)&&(e[h]=a.getInputTargetBlock("object"+h));for(var i=0;i<a.childBlocks_.length;i++)e.length<=1&&(d=4),e[i].childBlocks_.length>0&&e[i].childBlocks_[0].unplug(!0,!0),e[i+1].getColour()!=a.getColour()&&e[i+1].unplug(!0,!0)}if("nvl"==f){var j=0;null!=a.getInputTargetBlock("object")&&(e[j]=a.getInputTargetBlock("object"),j++),null!=a.getInputTargetBlock("expr")&&(e[j]=a.getInputTargetBlock("expr"),j++),1==e.length?(d=1,c=1):e.length>1&&e[1].getColour()!=a.getColour()&&e[1].unplug(!0,!0)}if("decode"==f){var j=0;null!=a.getInputTargetBlock("object")&&(e[j]=a.getInputTargetBlock("object"),j++),null!=a.getInputTargetBlock("expr")&&(e[j]=a.getInputTargetBlock("expr"),j++),null!=a.getInputTargetBlock("expr2")&&(e[j]=a.getInputTargetBlock("expr2"),j++),1==e.length&&(d=1,c=2),2==e.length&&(d=1,c=1)}1==d&&(b="Missing statement. Needed "+c+"more"),4==d&&(b="Missing parameters.Needed minimal 2."),a.setWarningText(b)}function chareval(a){var b=null,c=0,d=0,e=new Array,f=0,g=a.getFieldValue("char_function");if("lpad"==g||"rpad"==g){null!=a.getInputTargetBlock("option")&&(e[f]=a.getInputTargetBlock("option"),f++),null!=a.getInputTargetBlock("num")&&(e[f]=a.getInputTargetBlock("num"),f++),null!=a.getInputTargetBlock("option2")&&(e[f]=a.getInputTargetBlock("option2"),f++);for(var h=0;h<e.length;h++){var i=e[h].getColour();"tables_and_colums_var"==e[h].type&&15!=i&&e[h].unplug(!0,!0)}1==e.length?(c=6,d=2):2==e.length&&(c=6,d=1)}else if("replace"==g){null!=a.getInputTargetBlock("option")&&(e[f]=a.getInputTargetBlock("option"),f++),null!=a.getInputTargetBlock("option2")&&(e[f]=a.getInputTargetBlock("option2"),f++),null!=a.getInputTargetBlock("option3")&&(e[f]=a.getInputTargetBlock("option3"),f++);for(var h=0;h<e.length;h++){var i=e[h].getColour();"tables_and_colums_var"==e[h].type&&i!=SQLBlockly.Colours.string&&e[h].unplug(!0,!0),1==e.length?(c=6,d=2):2==e.length&&(c=6,d=1)}}else if("substring"==g){null!=a.getInputTargetBlock("option")&&(e[f]=a.getInputTargetBlock("option"),f++),null!=a.getInputTargetBlock("num")&&(e[f]=a.getInputTargetBlock("num"),f++);for(var h=0;h<e.length;h++){var i=e[h].getColour();"tables_and_colums_var"==e[h].type&&i!=SQLBlockly.Colours.string&&e[h].unplug(!0,!0)}1==e.length&&(c=6,d=1)}else if("instr"==g){null!=a.getInputTargetBlock("option")&&(e[f]=a.getInputTargetBlock("option"),f++),null!=a.getInputTargetBlock("option2")&&(e[f]=a.getInputTargetBlock("option2"),f++);for(var h=0;h<e.length;h++){var i=e[h].getColour();"tables_and_colums_var"==e[h].type&&i!=SQLBlockly.Colours.string&&e[h].unplug(!0,!0)}1==e.length&&(c=6,d=1)}else if("str_to_date"==g){null!=a.getInputTargetBlock("option")&&(e[f]=a.getInputTargetBlock("option"),f++),null!=a.getInputTargetBlock("option2")&&(e[f]=a.getInputTargetBlock("option2"),f++);for(var h=0;h<e.length;h++){var i=e[h].getColour();15!=i&&"tables_and_colums_var"==e[h].type&&e[h].unplug(!0,!0)}}else if(null!=a.getInputTargetBlock("option")){e=a.getInputTargetBlock("option");var i=e.getColour();"tables_and_colums_var"==e.type&&i!=SQLBlockly.Colours.string&&e.unplug(!0,!0)}0==c&&(b=null),6==c&&(b="Missing statement. Needed "+d+" more"),a.setWarningText(b)}function dateeval(a){var b=null,c=0;if(null!=a.getInputTargetBlock("object")){var d=a.getInputTargetBlock("object"),e=new Array,f=0,g=a.getFieldValue("date_function");if("sysdate"==g||"now"==g||"curdate"==g)c=0;else if("date_format"==g){var h=d.getColour();"tables_and_colums_var"==d.type&&330!=h&&d.unplug(!0,!0)}else if("extract"==g){if("date"==d.type||"datefunction"==d.type){if(d.childBlocks_&&null!=d.getInputTargetBlock("object"))if(e=d.getInputTargetBlock("object"),"datefunction"==e.type||"date"==e[y].type)"now"==e.getFieldValue("date_function")||"sysdate"==e.getFieldValue("date_function")||"curdate"==e.getFieldValue("date_function")?c=0:e.unplug(!0,!0);else if("tables_and_colums_var"==e.type){var h=e.getColour();330!=h&&e.unplug(!0,!0)}else e.unplug(!0,!0)}else if("tables_and_colums_var"==d.type){var h=d.getColour();330!=h&&d.unplug(!0,!0)}}else if("date"==d.type);else if("datefunction"==d.type)"now"==d.getFieldValue("date_function")||"sysdate"==d.getFieldValue("date_function")||"curdate"==d.getFieldValue("date_function")?c=0:d.unplug(!0,!0),1==d.childBlocks_.length&&(e=d.getInputTargetBlock("object"),e.unplug(!0,!0));else if("tables_and_colums_var"==d.type){var h=d.getColour();330!=h&&d.unplug(!0,!0)}}0==c&&(b=null),1==c&&(b="Missing statement. Needed "+f+"more."),a.setWarningText(b)}function checkNumeric(a){var b=/^-?(\d+(\.\d{0,4})?)$/g;try{return a.match(b)?a:null}catch(b){return a}}function checkUndefined(a){return void 0!==a&&a}function TableNotFoundException(a){this.message="Table not found in the current database!",a&&(this.message=a),this.name="TableNotFoundException"}function AllColumnsException(a){this.message="You can select all columns with the * only once!",a&&(this.message=a),this.name="AllColumnsException"}function main(){(new Language).readLanguageFile(init),document.onmousemove=_move_elem,document.onmouseup=_destroy}function init(){(new Language).updateLanguageSelect(),initCodeEditor(),initHelp(),initError(),initAddDSN(),initUpdateDSN(),getDataSourceNames()}function initUpdateDSN(){var a=document.getElementById("updateDSN");document.getElementById("updateDSNBar").onmousedown=function(){return _drag_init(a)}}function initAddDSN(){var a=document.getElementById("addDSN");document.getElementById("addDSNBar").onmousedown=function(){return _drag_init(a)}}function initBlockly(){var a=Blockly.Blocks.init(),b=document.getElementById("blocklyDiv"),c=Blockly.inject(b,{toolbox:a,trashcan:!0,media:SQLBlockly.MEDIA_PATH,zoom:{controls:!0,wheel:!0,startScale:1,maxScale:3,minScale:.3,scaleSpeed:1.2},scrollbars:!0});loadWorkspace(),c.addChangeListener(onchangeWorkspace)}function onchangeWorkspace(a){saveWorkspace()}function saveWorkspace(){localStorage.setItem("tmpSQLWorkspace",Blockly.Xml.domToText(Blockly.Xml.workspaceToDom(Blockly.mainWorkspace)))}function loadWorkspace(){var a=localStorage.getItem("tmpSQLWorkspace");a&&(Blockly.Xml.domToWorkspace(Blockly.Xml.textToDom(a),Blockly.mainWorkspace),Blockly.mainWorkspace.render())}function _drag_init(a){return selected=a,x_elem=x_pos-selected.offsetLeft,y_elem=y_pos-selected.offsetTop,!1}function _move_elem(a){x_pos=document.all?window.event.clientX:a.pageX,y_pos=document.all?window.event.clientY:a.pageY,null!=selected&&(selected.style.left=x_pos-x_elem+"px",selected.style.top=y_pos-y_elem+"px")}function _destroy(){selected=null}function initHelp(){var a=document.getElementById("help");a.style.height="0px",document.getElementById("sqlHelpBar").onmousedown=function(){return _drag_init(a)},document.getElementById("helpcontent").onmousedown=function(){return _drag_init(a)}}function initError(){var a=document.getElementById("errorSQL");document.getElementById("sqlErrorBar").onmousedown=function(){return _drag_init(a)}}function initCodeEditor(){editor=ace.edit("sqlStatement"),editor.setTheme("ace/theme/monokai"),editor.getSession().setMode("ace/mode/sql"),editor.setHighlightActiveLine(!1),editor.getSession().setUseWrapMode(!0),editor.$blockScrolling=1/0;var a=document.getElementById("writeSQL");document.getElementById("sqlEditorBar").onmousedown=function(){return _drag_init(a)}}function parsingSQL(){var a=Blockly.mainWorkspace,b=editor.getValue(),c=Blockly.Xml.workspaceToDom(a);Blockly.mainWorkspace.clear(),closeErrorBox();try{parser.parse(b),showNotification(SQLBlocks.Msg.User.WORKSPACE_UPDATED,2)}catch(b){Blockly.Xml.domToWorkspace(c,a),openErrorBox(b.message),console.error(b)}}function openErrorBox(a){document.getElementById("errorSQL").style.display="block",document.getElementById("sqlErrorMessage").value=a}function closeErrorBox(){document.getElementById("errorSQL").style.display="none",document.getElementById("sqlErrorMessage").value=""}function editStatement(){generateSQLCode(),openCodeEditor()}function generateSQLCode(){var a=SQLBlockly.SQLGen.workspaceToCode(Blockly.mainWorkspace);1===a.length&&";"===a&&(a=""),editor.setValue(a)}function openCodeEditor(){document.getElementById("writeSQL").style.display="block"}function closeCodeEditor(){document.getElementById("writeSQL").style.display="none"}function closeAllPopups(){closeCodeEditor(),closeHelp(),closeTooltip(),closeErrorBox(),closeUpdateDataSource(),closeAddDataSource()}function closeHelp(){document.getElementById("help").style.display="none"}function openUpdateDataSource(){document.getElementById("updateDSN").style.display="block"}function closeUpdateDataSource(){document.getElementById("updateDSN").style.display="none"}function openAddDataSource(){document.getElementById("addDSN").style.display="block"}function closeAddDataSource(){document.getElementById("addDSN").style.display="none"}function setTooltip(){var a=document.getElementById("tooltip");a.innerHTML=SQLBlocks.Msg.User.TOOLTIP_SQL_BOX,a.style.display="block"}function closeTooltip(){var a=document.getElementById("tooltip");a.innerHTML="",a.style.display="none"}function addDataSource(a){var b=document.getElementById("addDSNForm"),c=new XMLHttpRequest,d=null;d=a||new FormData(b),c.open("POST","backend/addDataSource.php",!0),c.responseType="json",c.onreadystatechange=function(){4==this.readyState&&200==this.status&&(0===this.response[0].code?(getDataSourceNames(),closeAddDataSource(),closeUpdateDataSource()):openErrorBox(JSON.stringify(this.response)))},c.send(d)}function updateDataSource(){var a=document.getElementById("dataSourceNames").value,b=new FormData(document.getElementById("updateDSNForm"));b.append("dsn",a),addDataSource(b)}function removeDataSource(){if(!confirm(SQLBlocks.Msg.User.CONFIRM_DELETE_DSN))return!1;var a=document.getElementById("dataSourceNames"),b=a.value,c=new XMLHttpRequest;c.open("GET","backend/removeDataSource.php?dsn="+b,!0),c.responseType="json",c.onreadystatechange=function(){4===c.readyState&&200===c.status&&0===c.response.code&&(getDataSourceNames(),showNotification(b+SQLBlocks.Msg.User.DSN_DELETED,2)),200!=c.status&&openErrorBox(JSON.stringify(c.response))},c.send()}function getDataSourceNames(){var a=new XMLHttpRequest;a.open("GET","backend/getDataSources.php",!0),a.responseType="json",a.onload=function(){200==a.status?updateDataSourceNames(a.response):openErrorBox(JSON.stringify(a.response))},a.send()}function updateDataSourceNames(a){for(var b=document.getElementById("dataSourceNames"),c=!0;b.firstChild;)b.removeChild(b.firstChild);for(var d in a){var e=a[d],f=document.createElement("option");f.value=e,f.innerHTML=e,b.appendChild(f),c&&(SQLBlockly.DSN=e,c=!1)}getDBStructure()}function loadDatabaseStructure(a){var b=!0;if(Blockly.mainWorkspace&&(b=confirm(SQLBlocks.Msg.User.CONFIRM_LOAD_WORKSPACE)),!b)return a.value=SQLBlockly.DSN,!1;SQLBlockly.DSN=a.value,getDBStructure()}function getDBStructure(){var a=new XMLHttpRequest;a.open("GET","databases/"+SQLBlockly.DSN+".json",!0),a.responseType="json",a.onload=function(){200==a.status&&(dbStructure=a.response,initBlockly(),showNotification(SQLBlocks.Msg.User.WORKSPACE_UPDATED,2))},a.send()}function showNotification(a,b){var c=document.getElementById("notifications");c.innerHTML=a,c.style.visibility="visible",c.style.opacity=1,c.style.transition="opacity "+b+"s linear",setTimeout(function(){hideNotification(b)},1e3*b)}function hideNotification(a){var b=document.getElementById("notifications");b.style.visibility="hidden",b.style.opacity=0,b.style.transition="visibility 0s "+a+"s, opacity "+a+"s linear"}function getTablesArrayFromStructure(){return Object.keys(dbStructure)}function getColumnsArrayFromStructure(a){return dbStructure[a]}function SQLStatement(){var a=null,b=null,c=null;!function(){a={selection:"ALL",columns:[],tables:[],where:null,subselect:null,statement:null,limit:null},b={table:null,columns:[],values:[]},c={table:null,columns:[],values:[],where:null}}();this.setSelect=function(b,c,d,e,f,g,h,i){return a.selection=b,a.columns=c,a.tables=d,a.where=e,a.subselect=f,a.groupby=g,a.orderby=h,a.limit=i,a},this.getSelect=function(){return a},this.setInsert=function(a,c,d){var e=[],f=[];if(d)e=c,f=d;else for(var g in c){var h=c[g];e.push(h.column),f.push(h.value)}return b.table=a,b.columns=e,b.values=f,b},this.getInsert=function(){return b},this.setUpdate=function(a,b,d){var e=[],f=[];for(var g in b){var h=b[g];e.push(h.column),f.push(h.value)}return c.table=a,c.columns=e,c.values=f,c.where=d,c},this.getUpdate=function(){return c}}function SQLXML(){var a=null,b=null,c=null,d=null,e=null;!function(){b=new SQLHelper,c=new SQLStatement,d=new SQLStatement,e=new SQLStatement}();this.printSQLOnWorkspace=function(f){k(),a.appendChild(f),console.log(a),Blockly.Xml.domToWorkspace(a,Blockly.mainWorkspace),Blockly.mainWorkspace.render(),delete c,delete d,delete e,delete b},this.createSelect=function(a){c=a;var b={},d={groupby:0,groupbyhaving:0,orderby:0,limit:0},e={},f={};if(c.selection){var g=document.createElement("next");g.appendChild(c.columns),c.selection.appendChild(g),f.select=c.selection}else f.select=c.columns;for(var h in c.columns.getElementsByTagName("block")){var i=c.columns.getElementsByTagName("block")[h];"object"==typeof i&&"groupfunction_factor"===i.getAttribute("type")&&i.setAttribute("type","groupfunction")}return l(c.tables,c.columns),c.where&&(e.Clause=c.where),c.groupby&&(l(c.tables,c.groupby.expressions),d.groupby=1,f.group_by=c.groupby.expressions,c.groupby.having&&(d.groupbyhaving=1,e.having=c.groupby.having)),c.orderby&&(l(c.tables,c.orderby.expressions),d.orderby=1,f.order_by=c.orderby.expressions,d.sortDirection=b.sort=c.orderby.direction?c.orderby.direction.toLowerCase():"asc"),c.limit&&(d.limit=1,e.limit=c.limit),j("select",f,e,b,d)},this.createInsert=function(a){var b=[],c=0;d=a,"*"===d.columns&&(d.columns=getColumnsArrayFromStructure(d.table));for(var e in d.columns){var f="set"+c,g=this.createTableVar({table:[d.table],column:[d.columns[c]]}),h=d.values[e],i={A:g,B:h},k=j("to",[],i);b[f]=k,c++}return j("insert",[],b,[],{set:c-1})},this.createUpdate=function(a){var b=[],c=0;e=a;for(var d in e.columns){var f="set"+c,g=this.createTableVar({table:[e.table],column:[e.columns[c]]}),h=e.values[d],i=j("to",[],{A:g,B:h},[],{colour:"#000000"});b[f]=i,c++}return b.Clause=e.where,j("update",[],b,[],{set:c-1,colorhue:"#000000"})},this.addAlias=function(a,b){var c=a.getElementsByTagName("mutation")[0];return a.appendChild(g("VAR",b)),c?c.setAttribute("alias",1):a.appendChild(h({alias:1})),a},this.createTo=function(a,b){return j("to",[],{A:a,B:b})},this.createArray=function(a){return j("array",[],{ADD0:a})},this.addArray=function(a,b){for(var c=a.getElementsByTagName("value"),d=0,e=0;e<c.length;e++){var f=c[e].getAttribute("name");f&&(d=parseInt(f.substring(3,f.length),10)+1)}var g=document.createElement("value");return g.setAttribute("name","ADD"+d),g.appendChild(b),a.appendChild(g),a},this.addTable=function(a,b){var c=document.createElement("next"),d=a.getElementsByTagName("next");return c.appendChild(b),0===d.length?a.appendChild(c):d[d.length-1].getElementsByTagName("block")[0].appendChild(c),a},this.createTable=function(a,c){c||"*"===a||(c=b.getTableOfColumn(a));var d={tabele:c,Column:a};return j("tables_and_columns",[],[],d,d)},this.createTableVar=function(a){var c=null,d=a.column;c=a.table?a.table:b.getTableOfColumn(a.column);var e={tabele:c,Column:d};return j("tables_and_columns_var",[],[],e,e)},this.createNumberFunction=function(a,b,c){var d={object:b};return c&&(d.number=c),j("numberfunction",[],d,{number_function:a},{numberfunction:a})},this.createCharFunction=function(a,b,c,d){var e={option:b};return c&&(e.num=c),d&&(e.option2=d),j("charfunction",[],e,{char_function:a},{charfunction:a})},this.createDateFunction=function(a,b){return j("datefunction",[],[],{date_function:a})},this.createMath=function(a,b,c){return j("terms_simple_expressions",[],{A:a,B:b},{OP:c},{op:c,colour:"#5ba58c"})},this.createAnd=function(a,b){var c={A:a,B:b};return andBlock=j("logical_conjunction",[],c,{operator:"AND"})},this.createOr=function(a,b){return j("logical_conjunction",[],{A:a,B:b},{operator:"OR"})},this.createCompareOperator=function(a,b,c){var d={};return a&&("tables_and_columns_var"===a.type&&(a.type="tables_and_columns"),d.A=a),b&&("tables_and_columns_var"===b.type&&(b.type="tables_and_columns"),d.B=b),j("compare_operator",[],d,{OP:c},{op:c,colour:"#5ba58c"})},this.createString=function(a){return j("string",[],[],{String:a})},this.createNumber=function(a){return j("num",[],[],{NUM:a})},this.createDate=function(a){return j("date",[],[],{Date_:a})},this.negate=function(a){return j("conditions",[],{A:a})},this.createBool=function(a){return j("bool",[],[],{BOOL:!0===a?1:0})},this.createNumberFunction=function(a,b,c){var d={};return b&&(d.object=b),c&&(d.number=c),j("numberfunction",[],d,[],{number_function:a.toLowerCase(),colorHue:"#000000"})},this.createGroupFunction=function(a,b,c){var d={group_function:a.toLowerCase(),colour:"#000000"},e={group:b},f={group_function:a.toLowerCase()},g=j("groupfunction",[],e,f,d);return c?this.addAlias(g,c):g},this.createGroupFunctionFactor=function(a,b){return j("groupfunction_factor",[],{group:b},[],{group_function:a.toLowerCase(),colour:"#000000"})},this.createDistinct=function(){return j("distinct")};var f=function(a){var b=document.createElement("statement");return b.setAttribute("name",a),b}.bind(this),g=function(a,b){var c=document.createElement("field");return c.setAttribute("name",a),c.textContent=b,c}.bind(this),h=function(a){var b=document.createElement("mutation");for(var c in a){var d=a[c];b.setAttribute(c,d)}return b}.bind(this),i=function(a){var b=document.createElement("value");return b.setAttribute("name",a),b}.bind(this),j=function(a,b,c,d,e){var j=document.createElement("block");if(j.setAttribute("type",a),e){var k=h(e);j.appendChild(k)}for(var l in b){var m=b[l],n=f(l);m&&n.appendChild(m),j.appendChild(n)}for(var o in c){var p=c[o],q=i([o]);p&&q.appendChild(p),j.appendChild(q)}for(var r in d){var s=g(r,d[r]);j.appendChild(s)}return j}.bind(this),k=function(){a=document.createElement("xml"),a.setAttribute("xmlns","http://www.w3.org/1999/xhtml")}.bind(this),l=function(a,b){var c=b.getElementsByTagName("field"),d=b.getElementsByTagName("mutation"),e={};for(var f in a){var g=a[f].tablename;e[g]=getColumnsArrayFromStructure(g)}for(var h=0,i=0;i<c.length;i+=2){console.log(c[i].parentNode.parentNode);var g=i,j=i+1,k=null,l=null;c[g]&&(k=c[g].innerHTML),c[j]&&(l=c[j].innerHTML),1===Object.keys(e).length&&""===k&&"*"===l&&(c[g].innerHTML=Object.keys(e)[0]);for(var m in e)for(var n=e[m],o=0;o<n.length;o++)n[o]===l&&(c[g].innerHTML=m);d[h].setAttribute("tabele",c[g].innerHTML),d[h].setAttribute("Column",c[j].innerHTML),h++}}.bind(this)}(function(){function a(a){var b=c;a&&(c[a]||(c[a]={}),b=c[a]),b.define&&b.define.packaged||(d.original=b.define,b.define=d,b.define.packaged=!0),b.require&&b.require.packaged||(f.original=b.require,b.require=f,b.require.packaged=!0)}var b="",c=function(){return this}();if(!c&&"undefined"!=typeof window&&(c=window),b||"undefined"==typeof requirejs){var d=function(a,b,c){if("string"!=typeof a)return void(d.original?d.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace()));2==arguments.length&&(c=b),d.modules[a]||(d.payloads[a]=c,d.modules[a]=null)};d.modules={},d.payloads={};var e=function(a,b,c){if("string"==typeof b){var d=h(a,b);if(void 0!=d)return c&&c(),d}else if("[object Array]"===Object.prototype.toString.call(b)){for(var e=[],g=0,i=b.length;g<i;++g){var j=h(a,b[g]);if(void 0==j&&f.original)return;e.push(j)}return c&&c.apply(null,e)||!0}},f=function(a,b){var c=e("",a,b);return void 0==c&&f.original?f.original.apply(this,arguments):c},g=function(a,b){if(-1!==b.indexOf("!")){var c=b.split("!");return g(a,c[0])+"!"+g(a,c[1])}if("."==b.charAt(0)){var d=a.split("/").slice(0,-1).join("/");for(b=d+"/"+b;-1!==b.indexOf(".")&&e!=b;){var e=b;b=b.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return b},h=function(a,b){b=g(a,b);var c=d.modules[b];if(!c){if("function"==typeof(c=d.payloads[b])){var f={},h={id:b,uri:"",exports:f,packaged:!0};f=c(function(a,c){return e(b,a,c)},f,h)||h.exports,d.modules[b]=f,delete d.payloads[b]}c=d.modules[b]=f||c}return c};a(b)}})(),define("ace/lib/es6-shim",["require","exports","module"],function(a,b,c){function d(a,b,c){Object.defineProperty(a,b,{value:c,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||d(String.prototype,"startsWith",function(a,b){return b=b||0,this.lastIndexOf(a,b)===b}),String.prototype.endsWith||d(String.prototype,"endsWith",function(a,b){var c=this;(void 0===b||b>c.length)&&(b=c.length),b-=a.length;var d=c.indexOf(a,b);return-1!==d&&d===b}),String.prototype.repeat||d(String.prototype,"repeat",function(a){for(var b="",c=this;a>0;)1&a&&(b+=c),(a>>=1)&&(c+=c);return b}),String.prototype.includes||d(String.prototype,"includes",function(a,b){return-1!=this.indexOf(a,b)}),Object.assign||(Object.assign=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];void 0!==d&&null!==d&&Object.keys(d).forEach(function(a){b[a]=d[a]})}return b}),Object.values||(Object.values=function(a){return Object.keys(a).map(function(b){return a[b]})}),Array.prototype.find||d(Array.prototype,"find",function(a){for(var b=this.length,c=arguments[1],d=0;d<b;d++){var e=this[d];if(a.call(c,e,d,this))return e}}),Array.prototype.findIndex||d(Array.prototype,"findIndex",function(a){for(var b=this.length,c=arguments[1],d=0;d<b;d++){var e=this[d];if(a.call(c,e,d,this))return d}}),Array.prototype.includes||d(Array.prototype,"includes",function(a,b){return-1!=this.indexOf(a,b)}),Array.prototype.fill||d(Array.prototype,"fill",function(a){for(var b=this,c=b.length>>>0,d=arguments[1],e=d>>0,f=e<0?Math.max(c+e,0):Math.min(e,c),g=arguments[2],h=void 0===g?c:g>>0,i=h<0?Math.max(c+h,0):Math.min(h,c);f<i;)b[f]=a,f++;return b}),Array.of||d(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(a,b,c){"use strict";a("./es6-shim")}),define("ace/lib/lang",["require","exports","module"],function(a,b,c){"use strict";b.last=function(a){return a[a.length-1]},b.stringReverse=function(a){return a.split("").reverse().join("")},b.stringRepeat=function(a,b){for(var c="";b>0;)1&b&&(c+=a),(b>>=1)&&(a+=a);return c};var d=/^\s\s*/,e=/\s\s*$/;b.stringTrimLeft=function(a){return a.replace(d,"")},b.stringTrimRight=function(a){return a.replace(e,"")},b.copyObject=function(a){var b={};for(var c in a)b[c]=a[c];return b},b.copyArray=function(a){for(var b=[],c=0,d=a.length;c<d;c++)a[c]&&"object"==typeof a[c]?b[c]=this.copyObject(a[c]):b[c]=a[c];return b},b.deepCopy=function a(b){if("object"!=typeof b||!b)return b;var c;if(Array.isArray(b)){c=[];for(var d=0;d<b.length;d++)c[d]=a(b[d]);return c}if("[object Object]"!==Object.prototype.toString.call(b))return b;c={};for(var d in b)c[d]=a(b[d]);return c},b.arrayToMap=function(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=1;return b},b.createMap=function(a){var b=Object.create(null);for(var c in a)b[c]=a[c];return b},b.arrayRemove=function(a,b){for(var c=0;c<=a.length;c++)b===a[c]&&a.splice(c,1)},b.escapeRegExp=function(a){return a.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},b.escapeHTML=function(a){return(""+a).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},b.getMatchOffsets=function(a,b){var c=[];return a.replace(b,function(a){c.push({offset:arguments[arguments.length-2],length:a.length})}),c},b.deferredCall=function(a){var b=null,c=function(){b=null,a()},d=function(a){return d.cancel(),b=setTimeout(c,a||0),d};return d.schedule=d,d.call=function(){return this.cancel(),a(),d},d.cancel=function(){return clearTimeout(b),b=null,d},d.isPending=function(){return b},d},b.delayedCall=function(a,b){var c=null,d=function(){c=null,a()},e=function(a){null==c&&(c=setTimeout(d,a||b))};return e.delay=function(a){c&&clearTimeout(c),c=setTimeout(d,a||b)},e.schedule=e,e.call=function(){this.cancel(),a()},e.cancel=function(){c&&clearTimeout(c),c=null},e.isPending=function(){return c},e}}),define("ace/lib/oop",["require","exports","module"],function(a,b,c){"use strict";b.inherits=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})},b.mixin=function(a,b){for(var c in b)a[c]=b[c];return a},b.implement=function(a,c){b.mixin(a,c)}}),define("ace/lib/useragent",["require","exports","module"],function(a,b,c){"use strict";b.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},b.getOS=function(){return b.isMac?b.OS.MAC:b.isLinux?b.OS.LINUX:b.OS.WINDOWS};var d="object"==typeof navigator?navigator:{},e=(/mac|win|linux/i.exec(d.platform)||["other"])[0].toLowerCase(),f=d.userAgent||"",g=d.appName||"";b.isWin="win"==e,b.isMac="mac"==e,b.isLinux="linux"==e,b.isIE="Microsoft Internet Explorer"==g||g.indexOf("MSAppHost")>=0?parseFloat((f.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((f.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),b.isOldIE=b.isIE&&b.isIE<9,b.isGecko=b.isMozilla=f.match(/ Gecko\/\d+/),b.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),b.isWebKit=parseFloat(f.split("WebKit/")[1])||void 0,b.isChrome=parseFloat(f.split(" Chrome/")[1])||void 0,b.isEdge=parseFloat(f.split(" Edge/")[1])||void 0,b.isAIR=f.indexOf("AdobeAIR")>=0,b.isAndroid=f.indexOf("Android")>=0,b.isChromeOS=f.indexOf(" CrOS ")>=0,b.isIOS=/iPad|iPhone|iPod/.test(f)&&!window.MSStream,b.isIOS&&(b.isMac=!0),b.isMobile=b.isIOS||b.isAndroid}),define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(a,b,c){"use strict";function d(){var a=h;h=null,a&&a.forEach(function(a){e(a[0],a[1])})}function e(a,c,e){if("undefined"!=typeof document){if(h)if(e)d();else if(!1===e)return h.push([a,c]);if(!g){var f=e;e&&e.getRootNode?(f=e.getRootNode())&&f!=e||(f=document):f=document;var i=f.ownerDocument||f;if(c&&b.hasCssString(c,f))return null;c&&(a+="\n/*# sourceURL=ace/css/"+c+" */");var j=b.createElement("style");j.appendChild(i.createTextNode(a)),c&&(j.id=c),f==i&&(f=b.getDocumentHead(i)),f.insertBefore(j,f.firstChild)}}}var f=a("./useragent");b.buildDom=function a(b,c,d){if("string"==typeof b&&b){var e=document.createTextNode(b);return c&&c.appendChild(e),e}if(!Array.isArray(b))return b&&b.appendChild&&c&&c.appendChild(b),b;if("string"!=typeof b[0]||!b[0]){for(var f=[],g=0;g<b.length;g++){var h=a(b[g],c,d);h&&f.push(h)}return f}var i=document.createElement(b[0]),j=b[1],k=1;j&&"object"==typeof j&&!Array.isArray(j)&&(k=2);for(var g=k;g<b.length;g++)a(b[g],i,d);return 2==k&&Object.keys(j).forEach(function(a){var b=j[a];"class"===a?i.className=Array.isArray(b)?b.join(" "):b:"function"==typeof b||"value"==a||"$"==a[0]?i[a]=b:"ref"===a?d&&(d[b]=i):"style"===a?"string"==typeof b&&(i.style.cssText=b):null!=b&&i.setAttribute(a,b)}),c&&c.appendChild(i),i},b.getDocumentHead=function(a){return a||(a=document),a.head||a.getElementsByTagName("head")[0]||a.documentElement},b.createElement=function(a,b){return document.createElementNS?document.createElementNS(b||"http://www.w3.org/1999/xhtml",a):document.createElement(a)},b.removeChildren=function(a){a.innerHTML=""},b.createTextNode=function(a,b){return(b?b.ownerDocument:document).createTextNode(a)},b.createFragment=function(a){return(a?a.ownerDocument:document).createDocumentFragment()},b.hasCssClass=function(a,b){return-1!==(a.className+"").split(/\s+/g).indexOf(b)},b.addCssClass=function(a,c){b.hasCssClass(a,c)||(a.className+=" "+c)},b.removeCssClass=function(a,b){for(var c=a.className.split(/\s+/g);;){var d=c.indexOf(b);if(-1==d)break;c.splice(d,1)}a.className=c.join(" ")},b.toggleCssClass=function(a,b){for(var c=a.className.split(/\s+/g),d=!0;;){var e=c.indexOf(b);if(-1==e)break;d=!1,c.splice(e,1)}return d&&c.push(b),a.className=c.join(" "),d},b.setCssClass=function(a,c,d){d?b.addCssClass(a,c):b.removeCssClass(a,c)},b.hasCssString=function(a,b){var c,d=0;if(b=b||document,c=b.querySelectorAll("style"))for(;d<c.length;)if(c[d++].id===a)return!0},b.removeElementById=function(a,b){b=b||document,b.getElementById(a)&&b.getElementById(a).remove()};var g,h=[];if(b.useStrictCSP=function(a){g=a,0==a?d():h||(h=[])},b.importCssString=e,b.importCssStylsheet=function(a,c){b.buildDom(["link",{rel:"stylesheet",href:a}],b.getDocumentHead(c))},b.scrollbarWidth=function(a){var c=b.createElement("ace_inner");c.style.width="100%",c.style.minWidth="0px",c.style.height="200px",c.style.display="block";var d=b.createElement("ace_outer"),e=d.style;e.position="absolute",e.left="-10000px",e.overflow="hidden",e.width="200px",e.minWidth="0px",e.height="150px",e.display="block",d.appendChild(c);var f=a.documentElement;f.appendChild(d);var g=c.offsetWidth;e.overflow="scroll";var h=c.offsetWidth;return g==h&&(h=d.clientWidth),f.removeChild(d),g-h},b.computedStyle=function(a,b){return window.getComputedStyle(a,"")||{}},b.setStyle=function(a,b,c){a[b]!==c&&(a[b]=c)},b.HAS_CSS_ANIMATION=!1,b.HAS_CSS_TRANSFORMS=!1,b.HI_DPI=!f.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,f.isChromeOS&&(b.HI_DPI=!1),"undefined"!=typeof document){var i=document.createElement("div");b.HI_DPI&&void 0!==i.style.transform&&(b.HAS_CSS_TRANSFORMS=!0),!f.isEdge&&void 0!==i.style.animationName&&(b.HAS_CSS_ANIMATION=!0),i=null}b.HAS_CSS_TRANSFORMS?b.translate=function(a,b,c){a.style.transform="translate("+Math.round(b)+"px, "+Math.round(c)+"px)"}:b.translate=function(a,b,c){a.style.top=Math.round(c)+"px",a.style.left=Math.round(b)+"px"}}),define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(a,b,c){"use strict";var d=a("./dom");b.get=function(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.onreadystatechange=function(){4===c.readyState&&b(c.responseText)},c.send(null)},b.loadScript=function(a,b){var c=d.getDocumentHead(),e=document.createElement("script");e.src=a,c.appendChild(e),e.onload=e.onreadystatechange=function(a,c){!c&&e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(e=e.onload=e.onreadystatechange=null,c||b())}},b.qualifyURL=function(a){var b=document.createElement("a");return b.href=a,b.href}}),define("ace/lib/event_emitter",["require","exports","module"],function(a,b,c){"use strict";var d={},e=function(){this.propagationStopped=!0},f=function(){this.defaultPrevented=!0};d._emit=d._dispatchEvent=function(a,b){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[a]||[],d=this._defaultHandlers[a];if(c.length||d){"object"==typeof b&&b||(b={}),b.type||(b.type=a),b.stopPropagation||(b.stopPropagation=e),b.preventDefault||(b.preventDefault=f),c=c.slice();for(var g=0;g<c.length&&(c[g](b,this),!b.propagationStopped);g++);return d&&!b.defaultPrevented?d(b,this):void 0}},d._signal=function(a,b){var c=(this._eventRegistry||{})[a];if(c){c=c.slice();for(var d=0;d<c.length;d++)c[d](b,this)}},d.once=function(a,b){var c=this;if(this.on(a,function d(){c.off(a,d),b.apply(null,arguments)}),!b)return new Promise(function(a){b=a})},d.setDefaultHandler=function(a,b){var c=this._defaultHandlers;if(c||(c=this._defaultHandlers={_disabled_:{}}),c[a]){var d=c[a],e=c._disabled_[a];e||(c._disabled_[a]=e=[]),e.push(d);var f=e.indexOf(b);-1!=f&&e.splice(f,1)}c[a]=b},d.removeDefaultHandler=function(a,b){var c=this._defaultHandlers;if(c){var d=c._disabled_[a];if(c[a]==b)d&&this.setDefaultHandler(a,d.pop());else if(d){var e=d.indexOf(b);-1!=e&&d.splice(e,1)}}},d.on=d.addEventListener=function(a,b,c){this._eventRegistry=this._eventRegistry||{};var d=this._eventRegistry[a];return d||(d=this._eventRegistry[a]=[]),-1==d.indexOf(b)&&d[c?"unshift":"push"](b),b},d.off=d.removeListener=d.removeEventListener=function(a,b){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[a];if(c){var d=c.indexOf(b);-1!==d&&c.splice(d,1)}},d.removeAllListeners=function(a){a||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[a]=void 0),this._defaultHandlers&&(this._defaultHandlers[a]=void 0)},b.EventEmitter=d}),define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(a,b,c){"no use strict";function d(a){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function e(a,b){var c=new Error(a);c.data=b,"object"==typeof console&&console.error&&console.error(c),setTimeout(function(){throw c})}var f=a("./oop"),g=a("./event_emitter").EventEmitter,h={setOptions:function(a){Object.keys(a).forEach(function(b){this.setOption(b,a[b])},this)},getOptions:function(a){var b={};if(a)Array.isArray(a)||(b=a,a=Object.keys(b));else{var c=this.$options;a=Object.keys(c).filter(function(a){return!c[a].hidden})}return a.forEach(function(a){b[a]=this.getOption(a)},this),b},setOption:function(a,b){if(this["$"+a]!==b){var c=this.$options[a];return c?c.forwardTo?this[c.forwardTo]&&this[c.forwardTo].setOption(a,b):(c.handlesSet||(this["$"+a]=b),void(c&&c.set&&c.set.call(this,b))):d('misspelled option "'+a+'"')}},getOption:function(a){var b=this.$options[a];return b?b.forwardTo?this[b.forwardTo]&&this[b.forwardTo].getOption(a):b&&b.get?b.get.call(this):this["$"+a]:d('misspelled option "'+a+'"')}},i=function(){this.$defaultOptions={}};(function(){f.implement(this,g),this.defineOptions=function(a,b,c){return a.$options||(this.$defaultOptions[b]=a.$options={}),Object.keys(c).forEach(function(b){var d=c[b];"string"==typeof d&&(d={forwardTo:d}),d.name||(d.name=b),a.$options[d.name]=d,"initialValue"in d&&(a["$"+d.name]=d.initialValue)}),f.implement(a,h),this},this.resetOptions=function(a){Object.keys(a.$options).forEach(function(b){var c=a.$options[b];"value"in c&&a.setOption(b,c.value)})},this.setDefaultValue=function(a,b,c){if(!a){for(a in this.$defaultOptions)if(this.$defaultOptions[a][b])break;if(!this.$defaultOptions[a][b])return!1}var d=this.$defaultOptions[a]||(this.$defaultOptions[a]={});d[b]&&(d.forwardTo?this.setDefaultValue(d.forwardTo,b,c):d[b].value=c)},this.setDefaultValues=function(a,b){Object.keys(b).forEach(function(c){this.setDefaultValue(a,c,b[c])},this)},this.warn=d,this.reportError=e}).call(i.prototype),b.AppConfig=i}),define("ace/theme/textmate.css",["require","exports","module"],function(a,b,c){c.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'}),define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],function(a,b,c){"use strict";b.isDark=!1,b.cssClass="ace-tm",b.cssText=a("./textmate.css"),b.$id="ace/theme/textmate",a("../lib/dom").importCssString(b.cssText,b.cssClass,!1)}),define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(a,b,c){"no use strict";var d=a("./lib/lang"),e=(a("./lib/oop"),a("./lib/net")),f=a("./lib/dom"),g=a("./lib/app_config").AppConfig;c.exports=b=new g;var h={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};b.get=function(a){if(!h.hasOwnProperty(a))throw new Error("Unknown config key: "+a);return h[a]},b.set=function(a,b){if(h.hasOwnProperty(a))h[a]=b;else if(0==this.setDefaultValue("",a,b))throw new Error("Unknown config key: "+a);"useStrictCSP"==a&&f.useStrictCSP(b)},b.all=function(){return d.copyObject(h)},b.$modes={},b.moduleUrl=function(a,b){if(h.$moduleUrls[a])return h.$moduleUrls[a];var c=a.split("/");b=b||c[c.length-2]||"";var d="snippets"==b?"/":"-",e=c[c.length-1];if("worker"==b&&"-"==d){var f=new RegExp("^"+b+"[\\-_]|[\\-_]"+b+"$","g");e=e.replace(f,"")}(!e||e==b)&&c.length>1&&(e=c[c.length-2]);var g=h[b+"Path"];return null==g?g=h.basePath:"/"==d&&(b=d=""),g&&"/"!=g.slice(-1)&&(g+="/"),g+b+d+e+this.get("suffix")},b.setModuleUrl=function(a,b){return h.$moduleUrls[a]=b};var i=function(b,c){return"ace/theme/textmate"==b?c(null,a("./theme/textmate")):console.error("loader is not configured")};b.setLoader=function(a){i=a},b.$loading={},b.loadModule=function(c,d){var f,g;Array.isArray(c)&&(g=c[0],c=c[1]);try{f=a(c)}catch(a){}if(f&&!b.$loading[c])return d&&d(f);if(b.$loading[c]||(b.$loading[c]=[]),b.$loading[c].push(d),!(b.$loading[c].length>1)){var h=function(){i(c,function(a,d){b._emit("load.module",{name:c,module:d});var e=b.$loading[c];b.$loading[c]=null,e.forEach(function(a){a&&a(d)})})};if(!b.get("packaged"))return h();e.loadScript(b.moduleUrl(c,g),h),j()}};var j=function(){!h.basePath&&!h.workerPath&&!h.modePath&&!h.themePath&&!Object.keys(h.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),j=function(){})};b.version="1.12.3"}),define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(a,b,c){"use strict";function d(b){if(g&&g.document){f.set("packaged",b||a.packaged||c.packaged||g.define&&define.packaged);for(var d={},h="",i=document.currentScript||document._currentScript,j=i&&i.ownerDocument||document,k=j.getElementsByTagName("script"),l=0;l<k.length;l++){var m=k[l],n=m.src||m.getAttribute("src");if(n){for(var o=m.attributes,p=0,q=o.length;p<q;p++){var r=o[p];0===r.name.indexOf("data-ace-")&&(d[e(r.name.replace(/^data-ace-/,""))]=r.value)}var s=n.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);s&&(h=s[1])}}h&&(d.base=d.base||h,d.packaged=!0),d.basePath=d.base,d.workerPath=d.workerPath||d.base,d.modePath=d.modePath||d.base,d.themePath=d.themePath||d.base,delete d.base;for(var t in d)void 0!==d[t]&&f.set(t,d[t])}}function e(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}a("./lib/fixoldbrowsers");var f=a("./config");f.setLoader(function(b,c){a([b],function(a){c(null,a)})});var g=function(){return this||"undefined"!=typeof window&&window}();c.exports=function(b){f.init=d,b.require=a,"function"==typeof define&&(b.define=define)}}),define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(a,b,c){"use strict";var d=a("./oop"),e=function(){var a,b,c={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(b in c.FUNCTION_KEYS)a=c.FUNCTION_KEYS[b].toLowerCase(),c[a]=parseInt(b,10);for(b in c.PRINTABLE_KEYS)a=c.PRINTABLE_KEYS[b].toLowerCase(),c[a]=parseInt(b,10);return d.mixin(c,c.MODIFIER_KEYS),d.mixin(c,c.PRINTABLE_KEYS),d.mixin(c,c.FUNCTION_KEYS),c.enter=c.return,c.escape=c.esc,c.del=c.delete,c[173]="-",function(){for(var a=["cmd","ctrl","alt","shift"],b=Math.pow(2,a.length);b--;)c.KEY_MODS[b]=a.filter(function(a){return b&c.KEY_MODS[a]}).join("-")+"-"}(),c.KEY_MODS[0]="",c.KEY_MODS[-1]="input-",c}();d.mixin(b,e),b.keyCodeToString=function(a){var b=e[a];return"string"!=typeof b&&(b=String.fromCharCode(a)),b.toLowerCase()}}),define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(a,b,c){"use strict";function d(){i=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){i={passive:!1}}})}catch(a){}}function e(){return void 0==i&&d(),i}function f(a,b,c){this.elem=a,this.type=b,this.callback=c}function g(a,b,c){var d=p(b);if(!k.isMac&&l){if(b.getModifierState&&(b.getModifierState("OS")||b.getModifierState("Win"))&&(d|=8),l.altGr){if(3==(3&d))return;l.altGr=0}if(18===c||17===c){var e="location"in b?b.location:b.keyLocation;if(17===c&&1===e)1==l[c]&&(m=b.timeStamp);else if(18===c&&3===d&&2===e){var f=b.timeStamp-m;f<50&&(l.altGr=!0)}}}if(c in j.MODIFIER_KEYS&&(c=-1),!d&&13===c){var e="location"in b?b.location:b.keyLocation;if(3===e&&(a(b,d,-c),b.defaultPrevented))return}if(k.isChromeOS&&8&d){if(a(b,d,c),b.defaultPrevented)return;d&=-9}return!!(d||c in j.FUNCTION_KEYS||c in j.PRINTABLE_KEYS)&&a(b,d,c)}function h(){l=Object.create(null)}var i,j=a("./keys"),k=a("./useragent"),l=null,m=0;f.prototype.destroy=function(){o(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var n=b.addListener=function(a,b,c,d){a.addEventListener(b,c,e()),d&&d.$toDestroy.push(new f(a,b,c))},o=b.removeListener=function(a,b,c){a.removeEventListener(b,c,e())};b.stopEvent=function(a){return b.stopPropagation(a),b.preventDefault(a),!1},b.stopPropagation=function(a){a.stopPropagation&&a.stopPropagation()},b.preventDefault=function(a){a.preventDefault&&a.preventDefault()},b.getButton=function(a){return"dblclick"==a.type?0:"contextmenu"==a.type||k.isMac&&a.ctrlKey&&!a.altKey&&!a.shiftKey?2:a.button},b.capture=function(a,b,c){function d(a){b&&b(a),c&&c(a),o(e,"mousemove",b),o(e,"mouseup",d),o(e,"dragstart",d)}var e=a&&a.ownerDocument||document;return n(e,"mousemove",b),n(e,"mouseup",d),n(e,"dragstart",d),d},b.addMouseWheelListener=function(a,b,c){n(a,"wheel",function(a){var c=.15,d=a.deltaX||0,e=a.deltaY||0;switch(a.deltaMode){case a.DOM_DELTA_PIXEL:a.wheelX=d*c,a.wheelY=e*c;break;case a.DOM_DELTA_LINE:var f=15;a.wheelX=d*f,a.wheelY=e*f;break;case a.DOM_DELTA_PAGE:var g=150;a.wheelX=d*g,a.wheelY=e*g}b(a)},c)},b.addMultiMouseDownListener=function(a,c,d,e,f){function g(a){if(0!==b.getButton(a)?l=0:a.detail>1?++l>4&&(l=1):l=1,k.isIE){var f=Math.abs(a.clientX-h)>5||Math.abs(a.clientY-i)>5;j&&!f||(l=1),j&&clearTimeout(j),j=setTimeout(function(){j=null},c[l-1]||600),1==l&&(h=a.clientX,i=a.clientY)}if(a._clicks=l,d[e]("mousedown",a),l>4)l=0;else if(l>1)return d[e](m[l],a)}var h,i,j,l=0,m={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(a)||(a=[a]),a.forEach(function(a){n(a,"mousedown",g,f)})};var p=function(a){return 0|(a.ctrlKey?1:0)|(a.altKey?2:0)|(a.shiftKey?4:0)|(a.metaKey?8:0)};if(b.getModifierString=function(a){return j.KEY_MODS[p(a)]},b.addCommandKeyListener=function(a,c,d){if(k.isOldGecko||k.isOpera&&!("KeyboardEvent"in window)){var e=null;n(a,"keydown",function(a){e=a.keyCode},d),n(a,"keypress",function(a){return g(c,a,e)},d)}else{var f=null;n(a,"keydown",function(a){l[a.keyCode]=(l[a.keyCode]||0)+1;var b=g(c,a,a.keyCode);return f=a.defaultPrevented,b},d),n(a,"keypress",function(a){f&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey)&&(b.stopEvent(a),f=null)},d),n(a,"keyup",function(a){l[a.keyCode]=null},d),l||(h(),n(window,"focus",h))}},"object"==typeof window&&window.postMessage&&!k.isOldIE){var q=1;b.nextTick=function(a,c){c=c||window;var d="zero-timeout-message-"+q++,e=function(f){f.data==d&&(b.stopPropagation(f),o(c,"message",e),a())};n(c,"message",e),c.postMessage(d,"*")}}b.$idleBlocked=!1,b.onIdle=function(a,c){return setTimeout(function c(){b.$idleBlocked?setTimeout(c,100):a()},c)},b.$idleBlockId=null,b.blockIdle=function(a){b.$idleBlockId&&clearTimeout(b.$idleBlockId),b.$idleBlocked=!0,b.$idleBlockId=setTimeout(function(){b.$idleBlocked=!1},a||100)},b.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),b.nextFrame?b.nextFrame=b.nextFrame.bind(window):b.nextFrame=function(a){setTimeout(a,17)}}),define("ace/range",["require","exports","module"],function(a,b,c){"use strict";var d=function(a,b){return a.row-b.row||a.column-b.column},e=function(a,b,c,d){this.start={row:a,column:b},this.end={row:c,column:d}};(function(){this.isEqual=function(a){return this.start.row===a.start.row&&this.end.row===a.end.row&&this.start.column===a.start.column&&this.end.column===a.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(a,b){return 0==this.compare(a,b)},this.compareRange=function(a){var b,c=a.end,d=a.start;return b=this.compare(c.row,c.column),1==b?(b=this.compare(d.row,d.column),1==b?2:0==b?1:0):-1==b?-2:(b=this.compare(d.row,d.column),-1==b?-1:1==b?42:0)},this.comparePoint=function(a){return this.compare(a.row,a.column)},this.containsRange=function(a){return 0==this.comparePoint(a.start)&&0==this.comparePoint(a.end)},this.intersects=function(a){var b=this.compareRange(a);return-1==b||0==b||1==b},this.isEnd=function(a,b){return this.end.row==a&&this.end.column==b},this.isStart=function(a,b){return this.start.row==a&&this.start.column==b},this.setStart=function(a,b){"object"==typeof a?(this.start.column=a.column,this.start.row=a.row):(this.start.row=a,this.start.column=b)},this.setEnd=function(a,b){"object"==typeof a?(this.end.column=a.column,this.end.row=a.row):(this.end.row=a,this.end.column=b)},this.inside=function(a,b){return 0==this.compare(a,b)&&(!this.isEnd(a,b)&&!this.isStart(a,b))},this.insideStart=function(a,b){return 0==this.compare(a,b)&&!this.isEnd(a,b)},this.insideEnd=function(a,b){return 0==this.compare(a,b)&&!this.isStart(a,b)},this.compare=function(a,b){return this.isMultiLine()||a!==this.start.row?a<this.start.row?-1:a>this.end.row?1:this.start.row===a?b>=this.start.column?0:-1:this.end.row===a?b<=this.end.column?0:1:0:b<this.start.column?-1:b>this.end.column?1:0},this.compareStart=function(a,b){return this.start.row==a&&this.start.column==b?-1:this.compare(a,b)},this.compareEnd=function(a,b){return this.end.row==a&&this.end.column==b?1:this.compare(a,b)},this.compareInside=function(a,b){return this.end.row==a&&this.end.column==b?1:this.start.row==a&&this.start.column==b?-1:this.compare(a,b)},this.clipRows=function(a,b){if(this.end.row>b)var c={row:b+1,column:0};else if(this.end.row<a)var c={row:a,column:0};if(this.start.row>b)var d={row:b+1,column:0};else if(this.start.row<a)var d={row:a,column:0};return e.fromPoints(d||this.start,c||this.end)},this.extend=function(a,b){var c=this.compare(a,b);if(0==c)return this;if(-1==c)var d={row:a,column:b};else var f={row:a,column:b};return e.fromPoints(d||this.start,f||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return e.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new e(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new e(this.start.row,0,this.end.row,0)},this.toScreenRange=function(a){var b=a.documentToScreenPosition(this.start),c=a.documentToScreenPosition(this.end);return new e(b.row,b.column,c.row,c.column)},this.moveBy=function(a,b){this.start.row+=a,this.start.column+=b,this.end.row+=a,this.end.column+=b}}).call(e.prototype),e.fromPoints=function(a,b){return new e(a.row,a.column,b.row,b.column)},e.comparePoints=d,e.comparePoints=function(a,b){return a.row-b.row||a.column-b.column},b.Range=e}),define("ace/clipboard",["require","exports","module"],function(a,b,c){"use strict";var d;c.exports={lineMode:!1,pasteCancelled:function(){return!!(d&&d>Date.now()-50)||(d=!1)},cancel:function(){d=Date.now()}}}),define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(a,b,c){"use strict";var d=a("../lib/event"),e=a("../lib/useragent"),f=a("../lib/dom"),g=a("../lib/lang"),h=a("../clipboard"),i=e.isChrome<18,j=e.isIE,k=e.isChrome>63,l=400,m=a("../lib/keys"),n=m.KEY_MODS,o=e.isIOS,p=o?/\s/:/\n/,q=e.isMobile,r=function(a,b){function c(){B=!0,u.blur(),u.focus(),B=!1}function r(a){27==a.keyCode&&u.value.length<u.selectionStart&&(x||(C=u.value),D=E=-1,H()),W()}function s(){clearTimeout(X),X=setTimeout(function(){z&&(u.style.cssText=z,z=""),b.renderer.$isMousePressed=!1,b.renderer.$keepTextAreaAtCursor&&b.renderer.$moveTextAreaToCursor()},0)}function t(a,b,c){var d=null,e=!1;c.addEventListener("keydown",function(a){d&&clearTimeout(d),e=!0},!0),c.addEventListener("keyup",function(a){d=setTimeout(function(){e=!1},100)},!0);var f=function(a){if(document.activeElement===c&&!(e||x||b.$mouseHandler.isMousePressed||v)){var d=c.selectionStart,f=c.selectionEnd,g=null,h=0;if(0==d?g=m.up:1==d?g=m.home:f>E&&"\n"==C[f]?g=m.end:d<D&&" "==C[d-1]?(g=m.left,h=n.option):d<D||d==D&&E!=D&&d==f?g=m.left:f>E&&C.slice(0,f).split("\n").length>2?g=m.down:f>E&&" "==C[f-1]?(g=m.right,h=n.option):(f>E||f==E&&E!=D&&d==f)&&(g=m.right),d!==f&&(h|=n.shift),g){if(!b.onCommandKey({},h,g)&&b.commands){g=m.keyCodeToString(g);var i=b.commands.findKeyCommand(h,g);i&&b.execCommand(i)}D=d,E=f,H("")}}};document.addEventListener("selectionchange",f),b.on("destroy",function(){document.removeEventListener("selectionchange",f)})}var u=f.createElement("textarea");u.className="ace_text-input",u.setAttribute("wrap","off"),u.setAttribute("autocorrect","off"),u.setAttribute("autocapitalize","off"),u.setAttribute("spellcheck",!1),u.style.opacity="0",a.insertBefore(u,a.firstChild);var v=!1,w=!1,x=!1,y=!1,z="";q||(u.style.fontSize="1px");var A=!1,B=!1,C="",D=0,E=0,F=0;try{var G=document.activeElement===u}catch(a){}d.addListener(u,"blur",function(a){B||(b.onBlur(a),G=!1)},b),d.addListener(u,"focus",function(a){if(!B){if(G=!0,e.isEdge)try{if(!document.hasFocus())return}catch(a){}b.onFocus(a),e.isEdge?setTimeout(H):H()}},b),this.$focusScroll=!1,this.focus=function(){if(z||k||"browser"==this.$focusScroll)return u.focus({preventScroll:!0});var a=u.style.top;u.style.position="fixed",u.style.top="0px";try{var b=0!=u.getBoundingClientRect().top}catch(a){return}var c=[];if(b)for(var d=u.parentElement;d&&1==d.nodeType;)c.push(d),d.setAttribute("ace_nocontext",!0),d=!d.parentElement&&d.getRootNode?d.getRootNode().host:d.parentElement;u.focus({preventScroll:!0}),b&&c.forEach(function(a){a.removeAttribute("ace_nocontext")}),setTimeout(function(){u.style.position="","0px"==u.style.top&&(u.style.top=a)},0)},this.blur=function(){u.blur()},this.isFocused=function(){return G},b.on("beforeEndOperation",function(){var a=b.curOp,c=a&&a.command&&a.command.name;if("insertstring"!=c){var d=c&&(a.docChanged||a.selectionChanged);x&&d&&(C=u.value="",V()),H()}});var H=o?function(a){if(G&&(!v||a)&&!y){a||(a="");var c="\n ab"+a+"cde fg\n";c!=u.value&&(u.value=C=c);var d=4,e=4+(a.length||(b.selection.isEmpty()?0:1));(D!=d||E!=e)&&u.setSelectionRange(d,e),D=d,E=e}}:function(){if(!x&&!y&&(G||L)){x=!0;var a=0,c=0,d="";if(b.session){var e=b.selection,f=e.getRange(),g=e.cursor.row;if(a=f.start.column,c=f.end.column,d=b.session.getLine(g),f.start.row!=g){var h=b.session.getLine(g-1);a=f.start.row<g-1?0:a,c+=h.length+1,d=h+"\n"+d}else if(f.end.row!=g){var i=b.session.getLine(g+1);c=f.end.row>g+1?i.length:c,c+=d.length+1,d=d+"\n"+i}else q&&g>0&&(d="\n"+d,c+=1,a+=1);d.length>l&&(a<l&&c<l?d=d.slice(0,l):(d="\n",a==c?a=c=0:(a=0,c=1)))}var j=d+"\n\n";if(j!=C&&(u.value=C=j,D=E=j.length),L&&(D=u.selectionStart,E=u.selectionEnd),E!=c||D!=a||u.selectionEnd!=E)try{u.setSelectionRange(a,c),D=a,E=c}catch(a){}x=!1}};this.resetSelection=H,G&&b.onFocus();var I=function(a){return 0===a.selectionStart&&a.selectionEnd>=C.length&&a.value===C&&C&&a.selectionEnd!==E},J=function(a){x||(v?v=!1:I(u)?(b.selectAll(),H()):q&&u.selectionStart!=D&&H())},K=null;this.setInputHandler=function(a){K=a},this.getInputHandler=function(){return K};var L=!1,M=function(a,c){if(L&&(L=!1),w)return H(),a&&b.onPaste(a),w=!1,"";for(var d=u.selectionStart,f=u.selectionEnd,g=D,h=C.length-E,i=a,j=a.length-d,k=a.length-f,l=0;g>0&&C[l]==a[l];)l++,g--;for(i=i.slice(l),l=1;h>0&&C.length-l>D-1&&C[C.length-l]==a[a.length-l];)l++,h--;j-=l-1,k-=l-1;var m=i.length-l+1;if(m<0&&(g=-m,m=0),i=i.slice(0,m),!(c||i||j||g||h||k))return"";y=!0;var n=!1;return e.isAndroid&&". "==i&&(i="  ",n=!0),i&&!g&&!h&&!j&&!k||A?b.onTextInput(i):b.onTextInput(i,{extendLeft:g,extendRight:h,restoreStart:j,restoreEnd:k}),y=!1,C=a,D=d,E=f,F=k,n?"\n":i},N=function(a){if(x)return U();if(a&&a.inputType){if("historyUndo"==a.inputType)return b.execCommand("undo");if("historyRedo"==a.inputType)return b.execCommand("redo")}var c=u.value,d=M(c,!0);(c.length>l+100||p.test(d)||q&&D<1&&D==E)&&H()},O=function(a,b,c){var d=a.clipboardData||window.clipboardData;if(d&&!i){var e=j||c?"Text":"text/plain";try{return b?!1!==d.setData(e,b):d.getData(e)}catch(a){if(!c)return O(a,b,!0)}}},P=function(a,c){var e=b.getCopyText();if(!e)return d.preventDefault(a);O(a,e)?(o&&(H(e),v=e,setTimeout(function(){v=!1},10)),c?b.onCut():b.onCopy(),d.preventDefault(a)):(v=!0,u.value=e,u.select(),setTimeout(function(){v=!1,H(),c?b.onCut():b.onCopy()}))},Q=function(a){P(a,!0)},R=function(a){P(a,!1)},S=function(a){var c=O(a);h.pasteCancelled()||("string"==typeof c?(c&&b.onPaste(c,a),e.isIE&&setTimeout(H),d.preventDefault(a)):(u.value="",w=!0))};d.addCommandKeyListener(u,b.onCommandKey.bind(b),b),d.addListener(u,"select",J,b),d.addListener(u,"input",N,b),d.addListener(u,"cut",Q,b),d.addListener(u,"copy",R,b),d.addListener(u,"paste",S,b),(!("oncut"in u)||!("oncopy"in u)||!("onpaste"in u))&&d.addListener(a,"keydown",function(a){if((!e.isMac||a.metaKey)&&a.ctrlKey)switch(a.keyCode){case 67:R(a);break;case 86:S(a);break;case 88:Q(a)}},b);var T=function(a){if(!x&&b.onCompositionStart&&!b.$readOnly&&(x={},!A)){a.data&&(x.useTextareaForIME=!1),setTimeout(U,0),b._signal("compositionStart"),b.on("mousedown",c);var d=b.getSelectionRange();d.end.row=d.start.row,d.end.column=d.start.column,x.markerRange=d,x.selectionStart=D,b.onCompositionStart(x),x.useTextareaForIME?(C=u.value="",D=0,E=0):(u.msGetInputContext&&(x.context=u.msGetInputContext()),u.getInputContext&&(x.context=u.getInputContext()))}},U=function(){if(x&&b.onCompositionUpdate&&!b.$readOnly){if(A)return c();if(x.useTextareaForIME)b.onCompositionUpdate(u.value);else{var a=u.value;M(a),x.markerRange&&(x.context&&(x.markerRange.start.column=x.selectionStart=x.context.compositionStartOffset),x.markerRange.end.column=x.markerRange.start.column+E-x.selectionStart+F)}}},V=function(a){b.onCompositionEnd&&!b.$readOnly&&(x=!1,b.onCompositionEnd(),b.off("mousedown",c),a&&N())},W=g.delayedCall(U,50).schedule.bind(null,null);d.addListener(u,"compositionstart",T,b),d.addListener(u,"compositionupdate",U,b),d.addListener(u,"keyup",r,b),d.addListener(u,"keydown",W,b),d.addListener(u,"compositionend",V,b),this.getElement=function(){return u},this.setCommandMode=function(a){A=a,u.readOnly=!1},this.setReadOnly=function(a){A||(u.readOnly=a)},this.setCopyWithEmptySelection=function(a){},this.onContextMenu=function(a){L=!0,H(),b._emit("nativecontextmenu",{target:b,domEvent:a}),this.moveToMouse(a,!0)},this.moveToMouse=function(a,c){z||(z=u.style.cssText),u.style.cssText=(c?"z-index:100000;":"")+(e.isIE?"opacity:0.1;":"")+"text-indent: -"+(D+E)*b.renderer.characterWidth*.5+"px;";var g=b.container.getBoundingClientRect(),h=f.computedStyle(b.container),i=g.top+(parseInt(h.borderTopWidth)||0),j=g.left+(parseInt(g.borderLeftWidth)||0),k=g.bottom-i-u.clientHeight-2,l=function(a){f.translate(u,a.clientX-j-2,Math.min(a.clientY-i-2,k))};l(a),"mousedown"==a.type&&(b.renderer.$isMousePressed=!0,clearTimeout(X),e.isWin&&d.capture(b.container,l,s))},this.onContextMenuClose=s;var X,Y=function(a){b.textInput.onContextMenu(a),s()};d.addListener(u,"mouseup",Y,b),d.addListener(u,"mousedown",function(a){a.preventDefault(),s()},b),d.addListener(b.renderer.scroller,"contextmenu",Y,b),d.addListener(u,"contextmenu",Y,b),o&&t(a,b,u),this.destroy=function(){u.parentElement&&u.parentElement.removeChild(u)}};b.TextInput=r,b.$setUserAgentForTests=function(a,b){q=a,o=b}}),define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(a,b,c){"use strict";function d(a){a.$clickSelection=null;var b=a.editor;b.setDefaultHandler("mousedown",this.onMouseDown.bind(a)),b.setDefaultHandler("dblclick",this.onDoubleClick.bind(a)),b.setDefaultHandler("tripleclick",this.onTripleClick.bind(a)),b.setDefaultHandler("quadclick",this.onQuadClick.bind(a)),b.setDefaultHandler("mousewheel",this.onMouseWheel.bind(a)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(b){a[b]=this[b]},this),a.selectByLines=this.extendSelectionBy.bind(a,"getLineRange"),a.selectByWords=this.extendSelectionBy.bind(a,"getWordRange")}function e(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))}function f(a,b){if(a.start.row==a.end.row)var c=2*b.column-a.start.column-a.end.column;else if(a.start.row!=a.end.row-1||a.start.column||a.end.column)var c=2*b.row-a.start.row-a.end.row;else var c=b.column-4;return c<0?{cursor:a.start,anchor:a.end}:{cursor:a.end,anchor:a.start}}var g=a("../lib/useragent"),h=550;(function(){this.onMouseDown=function(a){var b=a.inSelection(),c=a.getDocumentPosition();this.mousedownEvent=a;var d=this.editor,e=a.getButton();return 0!==e?((d.getSelectionRange().isEmpty()||1==e)&&d.selection.moveToPosition(c),void(2==e&&(d.textInput.onContextMenu(a.domEvent),g.isMozilla||a.preventDefault()))):(this.mousedownEvent.time=Date.now(),!b||d.isFocused()||(d.focus(),!this.$focusTimeout||this.$clickSelection||d.inMultiSelectMode)?(this.captureMouse(a),this.startSelect(c,a.domEvent._clicks>1),a.preventDefault()):(this.setState("focusWait"),void this.captureMouse(a)))},this.startSelect=function(a,b){a=a||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var c=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?c.selection.selectToPosition(a):b||c.selection.moveToPosition(a),b||this.select(),c.renderer.scroller.setCapture&&c.renderer.scroller.setCapture(),c.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var a,b=this.editor,c=b.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var d=this.$clickSelection.comparePoint(c);if(-1==d)a=this.$clickSelection.end;else if(1==d)a=this.$clickSelection.start;else{var e=f(this.$clickSelection,c);c=e.cursor,a=e.anchor}b.selection.setSelectionAnchor(a.row,a.column)}b.selection.selectToPosition(c),b.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(a){var b,c=this.editor,d=c.renderer.screenToTextCoordinates(this.x,this.y),e=c.selection[a](d.row,d.column);if(this.$clickSelection){var g=this.$clickSelection.comparePoint(e.start),h=this.$clickSelection.comparePoint(e.end);if(-1==g&&h<=0)b=this.$clickSelection.end,e.end.row==d.row&&e.end.column==d.column||(d=e.start);else if(1==h&&g>=0)b=this.$clickSelection.start,e.start.row==d.row&&e.start.column==d.column||(d=e.end);else if(-1==g&&1==h)d=e.end,b=e.start;else{var i=f(this.$clickSelection,d);d=i.cursor,b=i.anchor}c.selection.setSelectionAnchor(b.row,b.column)}c.selection.selectToPosition(d),c.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var a=e(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),b=Date.now();(a>0||b-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(a){var b=a.getDocumentPosition(),c=this.editor,d=c.session,e=d.getBracketRange(b);e?(e.isEmpty()&&(e.start.column--,e.end.column++),this.setState("select")):(e=c.selection.getWordRange(b.row,b.column),this.setState("selectByWords")),this.$clickSelection=e,this.select()},this.onTripleClick=function(a){var b=a.getDocumentPosition(),c=this.editor;this.setState("selectByLines");var d=c.getSelectionRange();d.isMultiLine()&&d.contains(b.row,b.column)?(this.$clickSelection=c.selection.getLineRange(d.start.row),this.$clickSelection.end=c.selection.getLineRange(d.end.row).end):this.$clickSelection=c.selection.getLineRange(b.row),this.select()},this.onQuadClick=function(a){var b=this.editor;b.selectAll(),this.$clickSelection=b.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(a){if(!a.getAccelKey()){a.getShiftKey()&&a.wheelY&&!a.wheelX&&(a.wheelX=a.wheelY,a.wheelY=0);var b=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var c=this.$lastScroll,d=a.domEvent.timeStamp,e=d-c.t,f=e?a.wheelX/e:c.vx,g=e?a.wheelY/e:c.vy;e<h&&(f=(f+c.vx)/2,g=(g+c.vy)/2);var i=Math.abs(f/g),j=!1;if(i>=1&&b.renderer.isScrollableBy(a.wheelX*a.speed,0)&&(j=!0),i<=1&&b.renderer.isScrollableBy(0,a.wheelY*a.speed)&&(j=!0),j)c.allowed=d;else if(d-c.allowed<h){var k=Math.abs(f)<=1.5*Math.abs(c.vx)&&Math.abs(g)<=1.5*Math.abs(c.vy);k?(j=!0,c.allowed=d):c.allowed=0}return c.t=d,c.vx=f,c.vy=g,j?(b.renderer.scrollBy(a.wheelX*a.speed,a.wheelY*a.speed),a.stop()):void 0}}}).call(d.prototype),b.DefaultHandlers=d}),define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(a,b,c){"use strict";function d(a){this.isOpen=!1,this.$element=null,this.$parentNode=a}var e=(a("./lib/oop"),a("./lib/dom")),f="ace_tooltip";(function(){this.$init=function(){return this.$element=e.createElement("div"),this.$element.className=f,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(a){this.getElement().textContent=a},this.setHtml=function(a){this.getElement().innerHTML=a},this.setPosition=function(a,b){this.getElement().style.left=a+"px",this.getElement().style.top=b+"px"},this.setClassName=function(a){e.addCssClass(this.getElement(),a)},this.show=function(a,b,c){null!=a&&this.setText(a),null!=b&&null!=c&&this.setPosition(b,c),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=f,this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(d.prototype),b.Tooltip=d}),define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(a,b,c){"use strict";function d(a){function b(){var b=l.getDocumentPosition().row,e=i.$annotations[b];if(!e)return c();if(b==g.session.getLength()){var f=g.renderer.pixelToScreenCoordinates(0,l.y).row,h=l.$pos;if(f>g.session.documentToScreenRow(h.row,h.column))return c()}if(m!=e){m=e.text.join("<br/>"),j.setHtml(m);var k=e.className;if(k&&j.setClassName(k.trim()),j.show(),g._signal("showGutterTooltip",j),g.on("mousewheel",c),a.$tooltipFollowsMouse)d(l);else{var n=l.domEvent.target,o=n.getBoundingClientRect(),p=j.getElement().style;p.left=o.right+"px",p.top=o.bottom+"px"}}}function c(){k&&(k=clearTimeout(k)),m&&(j.hide(),m=null,g._signal("hideGutterTooltip",j),g.off("mousewheel",c))}function d(a){j.setPosition(a.x,a.y)}var g=a.editor,i=g.renderer.$gutterLayer,j=new e(g.container);a.editor.setDefaultHandler("guttermousedown",function(b){if(g.isFocused()&&0==b.getButton()){if("foldWidgets"!=i.getRegion(b)){var c=b.getDocumentPosition().row,d=g.session.selection;if(b.getShiftKey())d.selectTo(c,0);else{if(2==b.domEvent.detail)return g.selectAll(),b.preventDefault();a.$clickSelection=g.selection.getLineRange(c)}return a.setState("selectByLines"),a.captureMouse(b),b.preventDefault()}}});var k,l,m;a.editor.setDefaultHandler("guttermousemove",function(e){var g=e.domEvent.target||e.domEvent.srcElement;if(f.hasCssClass(g,"ace_fold-widget"))return c();m&&a.$tooltipFollowsMouse&&d(e),l=e,k||(k=setTimeout(function(){k=null,l&&!a.isMousePressed?b():c()},50))}),h.addListener(g.renderer.$gutter,"mouseout",function(a){l=null,m&&!k&&(k=setTimeout(function(){k=null,c()},50))},g),g.on("changeSession",c)}function e(a){i.call(this,a)}var f=a("../lib/dom"),g=a("../lib/oop"),h=a("../lib/event"),i=a("../tooltip").Tooltip;g.inherits(e,i),function(){this.setPosition=function(a,b){var c=window.innerWidth||document.documentElement.clientWidth,d=window.innerHeight||document.documentElement.clientHeight,e=this.getWidth(),f=this.getHeight();a+=15,b+=15,a+e>c&&(a-=a+e-c),b+f>d&&(b-=20+f),i.prototype.setPosition.call(this,a,b)}}.call(e.prototype),b.GutterHandler=d}),define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(a,b,c){"use strict";var d=a("../lib/event"),e=a("../lib/useragent"),f=b.MouseEvent=function(a,b){this.domEvent=a,this.editor=b,this.x=this.clientX=a.clientX,this.y=this.clientY=a.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){d.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){d.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var a=this.editor,b=a.getSelectionRange();if(b.isEmpty())this.$inSelection=!1;else{var c=this.getDocumentPosition();this.$inSelection=b.contains(c.row,c.column)}return this.$inSelection},this.getButton=function(){return d.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=e.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(f.prototype)}),define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(a,b,c){"use strict";function d(a){function b(a,b){var c=Date.now(),d=!b||a.row!=b.row,f=!b||a.column!=b.column;if(!B||d||f)q.moveCursorToPosition(a),B=c,C={x:t,y:u};else{e(C.x,C.y,t,u)>k?B=null:c-B>=j&&(q.renderer.scrollCursorIntoView(),B=null)}}function c(a,b){var c=Date.now(),d=q.renderer.layerConfig.lineHeight,e=q.renderer.layerConfig.characterWidth,f=q.renderer.scroller.getBoundingClientRect(),g={x:{left:t-f.left,right:f.right-t},y:{top:u-f.top,bottom:f.bottom-u}},h=Math.min(g.x.left,g.x.right),j=Math.min(g.y.top,g.y.bottom),k={row:a.row,column:a.column};h/e<=2&&(k.column+=g.x.left<g.x.right?-3:2),j/d<=1&&(k.row+=g.y.top<g.y.bottom?-1:1);var l=a.row!=k.row,m=a.column!=k.column,n=!b||a.row!=b.row;l||m&&!n?A?c-A>=i&&q.renderer.scrollCursorIntoView(k):A=c:A=null}function d(){var a=x;x=q.renderer.screenToTextCoordinates(t,u),b(x,a),c(x,a)}function l(){w=q.selection.toOrientedRange(),s=q.session.addMarker(w,"ace_selection",q.getSelectionStyle()),q.clearSelection(),q.isFocused()&&q.renderer.$cursorLayer.setBlinking(!1),clearInterval(v),d(),v=setInterval(d,20),E=0,g.addListener(document,"mousemove",n)}function m(){clearInterval(v),q.session.removeMarker(s),s=null,q.selection.fromOrientedRange(w),q.isFocused()&&!z&&q.$resetCursorStyle(),w=null,x=null,E=0,A=null,B=null,g.removeListener(document,"mousemove",n)}function n(){null==F&&(F=setTimeout(function(){null!=F&&s&&m()},20))}function o(a){var b=a.types;return!b||Array.prototype.some.call(b,function(a){return"text/plain"==a||"Text"==a})}function p(a){var b=["copy","copymove","all","uninitialized"],c=["move","copymove","linkmove","all","uninitialized"],d=h.isMac?a.altKey:a.ctrlKey,e="uninitialized";try{e=a.dataTransfer.effectAllowed.toLowerCase()}catch(a){}var f="none";return d&&b.indexOf(e)>=0?f="copy":c.indexOf(e)>=0?f="move":b.indexOf(e)>=0&&(f="copy"),f}var q=a.editor,r=f.createElement("div");r.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",r.textContent=" ",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(b){a[b]=this[b]},this),q.on("mousedown",this.onMouseDown.bind(a));var s,t,u,v,w,x,y,z,A,B,C,D=q.container,E=0;this.onDragStart=function(a){if(this.cancelDrag||!D.draggable){var b=this;return setTimeout(function(){b.startSelect(),b.captureMouse(a)},0),a.preventDefault()}w=q.getSelectionRange();var c=a.dataTransfer;c.effectAllowed=q.getReadOnly()?"copy":"copyMove",q.container.appendChild(r),c.setDragImage&&c.setDragImage(r,0,0),setTimeout(function(){q.container.removeChild(r)}),c.clearData(),c.setData("Text",q.session.getTextRange()),z=!0,this.setState("drag")},this.onDragEnd=function(a){if(D.draggable=!1,z=!1,this.setState(null),!q.getReadOnly()){var b=a.dataTransfer.dropEffect;!y&&"move"==b&&q.session.remove(q.getSelectionRange()),q.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(a){if(!q.getReadOnly()&&o(a.dataTransfer))return t=a.clientX,u=a.clientY,s||l(),E++,a.dataTransfer.dropEffect=y=p(a),g.preventDefault(a)},this.onDragOver=function(a){if(!q.getReadOnly()&&o(a.dataTransfer))return t=a.clientX,u=a.clientY,s||(l(),E++),null!==F&&(F=null),a.dataTransfer.dropEffect=y=p(a),g.preventDefault(a)},this.onDragLeave=function(a){if(--E<=0&&s)return m(),y=null,g.preventDefault(a)},this.onDrop=function(a){if(x){var b=a.dataTransfer;if(z)switch(y){case"move":w=w.contains(x.row,x.column)?{start:x,end:x}:q.moveText(w,x);break;case"copy":w=q.moveText(w,x,!0)}else{var c=b.getData("Text");w={start:x,end:q.session.insert(x,c)},q.focus(),y=null}return m(),g.preventDefault(a)}},g.addListener(D,"dragstart",this.onDragStart.bind(a),q),g.addListener(D,"dragend",this.onDragEnd.bind(a),q),g.addListener(D,"dragenter",this.onDragEnter.bind(a),q),g.addListener(D,"dragover",this.onDragOver.bind(a),q),g.addListener(D,"dragleave",this.onDragLeave.bind(a),q),g.addListener(D,"drop",this.onDrop.bind(a),q);var F=null}function e(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))}var f=a("../lib/dom"),g=a("../lib/event"),h=a("../lib/useragent"),i=200,j=200,k=5;(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(a){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var a=this.editor;a.container.draggable=!0,a.renderer.$cursorLayer.setBlinking(!1),a.setStyle("ace_dragging");var b=h.isWin?"default":"move";a.renderer.setCursorStyle(b),this.setState("dragReady")},this.onMouseDrag=function(a){var b=this.editor.container;if(h.isIE&&"dragReady"==this.state){var c=e(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);c>3&&b.dragDrop()}if("dragWait"===this.state){var c=e(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);c>0&&(b.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(a){if(this.$dragEnabled){this.mousedownEvent=a;var b=this.editor,c=a.inSelection(),d=a.getButton();if(1===(a.domEvent.detail||1)&&0===d&&c){if(a.editor.inMultiSelectMode&&(a.getAccelKey()||a.getShiftKey()))return;this.mousedownEvent.time=Date.now();var e=a.domEvent.target||a.domEvent.srcElement;if("unselectable"in e&&(e.unselectable="on"),b.getDragDelay()){if(h.isWebKit){this.cancelDrag=!0;b.container.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(a,this.onMouseDrag.bind(this)),a.defaultPrevented=!0}}}}).call(d.prototype),b.DragdropHandler=d}),define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(a,b,c){"use strict";var d=a("./mouse_event").MouseEvent,e=a("../lib/event"),f=a("../lib/dom");b.addTouchListeners=function(a,b){function c(){var a=window.navigator&&window.navigator.clipboard,c=!1,d=function(){var d=b.getCopyText(),e=b.session.getUndoManager().hasUndo();t.replaceChild(f.buildDom(c?["span",!d&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],d&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],d&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],a&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],e&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),t.firstChild)},e=function(e){var f=e.target.getAttribute("action");if("more"==f||!c)return c=!c,d();"paste"==f?a.readText().then(function(a){b.execCommand(f,a)}):f&&("cut"!=f&&"copy"!=f||(a?a.writeText(b.getCopyText()):document.execCommand("copy")),b.execCommand(f)),t.firstChild.style.display="none",c=!1,"openCommandPallete"!=f&&b.focus()};t=f.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(a){u="menu",a.stopPropagation(),a.preventDefault(),b.textInput.focus()},ontouchend:function(a){a.stopPropagation(),a.preventDefault(),e(a)},onclick:e},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],b.container)}function g(){t||c();var a=b.selection.cursor,d=b.renderer.textToScreenCoordinates(a.row,a.column),e=b.renderer.textToScreenCoordinates(0,0).pageX,f=b.renderer.scrollLeft,g=b.container.getBoundingClientRect();t.style.top=d.pageY-g.top-3+"px",d.pageX-g.left<g.width-70?(t.style.left="",t.style.right="10px"):(t.style.right="",t.style.left=e+f-g.left+"px"),t.style.display="",t.firstChild.style.display="none",b.on("input",h)}function h(a){t&&(t.style.display="none"),b.off("input",h)}function i(){p=null,clearTimeout(p);var a=b.selection.getRange(),c=a.contains(r.row,r.column);!a.isEmpty()&&c||(b.selection.moveToPosition(r),b.selection.selectWord()),u="wait",g()}function j(){p=null,clearTimeout(p),b.selection.moveToPosition(r);var a=w>=2?b.selection.getLineRange(r.row):b.session.getBracketRange(r);a&&!a.isEmpty()?b.selection.setRange(a):b.selection.selectWord(),u="wait"}function k(){v+=60,q=setInterval(function(){v--<=0&&(clearInterval(q),q=null),Math.abs(x)<.01&&(x=0),Math.abs(y)<.01&&(y=0),v<20&&(x*=.9),v<20&&(y*=.9);var a=b.session.getScrollTop();b.renderer.scrollBy(10*x,10*y),a==b.session.getScrollTop()&&(v=0)},10)}var l,m,n,o,p,q,r,s,t,u="scroll",v=0,w=0,x=0,y=0;e.addListener(a,"contextmenu",function(a){if(s){b.textInput.getElement().focus()}},b),e.addListener(a,"touchstart",function(a){var c=a.touches;if(p||c.length>1)return clearTimeout(p),p=null,n=-1,u="zoom",void 0;s=b.$mouseHandler.isMousePressed=!0;var e=b.renderer.layerConfig.lineHeight,f=b.renderer.layerConfig.lineHeight,g=a.timeStamp;o=g;var h=c[0],k=h.clientX,q=h.clientY;Math.abs(l-k)+Math.abs(m-q)>e&&(n=-1),l=a.clientX=k,m=a.clientY=q,x=y=0;var t=new d(a,b);if(r=t.getDocumentPosition(),g-n<500&&1==c.length&&!v)w++,a.preventDefault(),a.button=0,j();else{w=0;var z=b.selection.cursor,A=b.selection.isEmpty()?z:b.selection.anchor,B=b.renderer.$cursorLayer.getPixelPosition(z,!0),C=b.renderer.$cursorLayer.getPixelPosition(A,!0),D=b.renderer.scroller.getBoundingClientRect(),E=b.renderer.layerConfig.offset,F=b.renderer.scrollLeft,G=function(a,b){return a/=f,b=b/e-.75,a*a+b*b};if(a.clientX<D.left)return void(u="zoom");var H=G(a.clientX-D.left-B.left+F,a.clientY-D.top-B.top+E),I=G(a.clientX-D.left-C.left+F,a.clientY-D.top-C.top+E);H<3.5&&I<3.5&&(u=H>I?"cursor":"anchor"),u=I<3.5?"anchor":H<3.5?"cursor":"scroll",p=setTimeout(i,450)}n=g},b),e.addListener(a,"touchend",function(a){s=b.$mouseHandler.isMousePressed=!1,q&&clearInterval(q),"zoom"==u?(u="",v=0):p?(b.selection.moveToPosition(r),v=0,g()):"scroll"==u?(k(),h()):g(),clearTimeout(p),p=null},b),e.addListener(a,"touchmove",function(a){p&&(clearTimeout(p),p=null);var c=a.touches;if(!(c.length>1||"zoom"==u)){var e=c[0],f=l-e.clientX,g=m-e.clientY;if("wait"==u){if(!(f*f+g*g>4))return a.preventDefault();u="cursor"}l=e.clientX,m=e.clientY,a.clientX=e.clientX,a.clientY=e.clientY;var h=a.timeStamp,i=h-o;if(o=h,"scroll"==u){var j=new d(a,b);j.speed=1,j.wheelX=f,j.wheelY=g,10*Math.abs(f)<Math.abs(g)&&(f=0),10*Math.abs(g)<Math.abs(f)&&(g=0),0!=i&&(x=f/i,y=g/i),b._emit("mousewheel",j),j.propagationStopped||(x=y=0)}else{var k=new d(a,b),n=k.getDocumentPosition();"cursor"==u?b.selection.moveCursorToPosition(n):"anchor"==u&&b.selection.setSelectionAnchor(n.row,n.column),b.renderer.scrollCursorIntoView(n),a.preventDefault()}}},b)}}),define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(a,b,c){"use strict";var d=a("../lib/event"),e=a("../lib/useragent"),f=a("./default_handlers").DefaultHandlers,g=a("./default_gutter_handler").GutterHandler,h=a("./mouse_event").MouseEvent,i=a("./dragdrop_handler").DragdropHandler,j=a("./touch_handler").addTouchListeners,k=a("../config"),l=function(a){var b=this;this.editor=a,new f(this),new g(this),new i(this);var c=function(b){(!document.hasFocus||!document.hasFocus()||!a.isFocused()&&document.activeElement==(a.textInput&&a.textInput.getElement()))&&window.focus(),a.focus(),setTimeout(function(){a.isFocused()||a.focus()})},h=a.renderer.getMouseEventTarget();d.addListener(h,"click",this.onMouseEvent.bind(this,"click"),a),d.addListener(h,"mousemove",this.onMouseMove.bind(this,"mousemove"),a),d.addMultiMouseDownListener([h,a.renderer.scrollBarV&&a.renderer.scrollBarV.inner,a.renderer.scrollBarH&&a.renderer.scrollBarH.inner,a.textInput&&a.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",a),d.addMouseWheelListener(a.container,this.onMouseWheel.bind(this,"mousewheel"),a),j(a.container,a);var k=a.renderer.$gutter;d.addListener(k,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),a),d.addListener(k,"click",this.onMouseEvent.bind(this,"gutterclick"),a),d.addListener(k,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),a),d.addListener(k,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),a),d.addListener(h,"mousedown",c,a),d.addListener(k,"mousedown",c,a),e.isIE&&a.renderer.scrollBarV&&(d.addListener(a.renderer.scrollBarV.element,"mousedown",c,a),d.addListener(a.renderer.scrollBarH.element,"mousedown",c,a)),a.on("mousemove",function(c){if(!b.state&&!b.$dragDelay&&b.$dragEnabled){var d=a.renderer.screenToTextCoordinates(c.x,c.y),e=a.session.selection.getRange(),f=a.renderer;!e.isEmpty()&&e.insideStart(d.row,d.column)?f.setCursorStyle("default"):f.setCursorStyle("")}},a)};(function(){this.onMouseEvent=function(a,b){this.editor.session&&this.editor._emit(a,new h(b,this.editor))},this.onMouseMove=function(a,b){var c=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;c&&c.length&&this.editor._emit(a,new h(b,this.editor))},this.onMouseWheel=function(a,b){var c=new h(b,this.editor);c.speed=2*this.$scrollSpeed,c.wheelX=b.wheelX,c.wheelY=b.wheelY,this.editor._emit(a,c)},this.setState=function(a){this.state=a},this.captureMouse=function(a,b){this.x=a.x,this.y=a.y,this.isMousePressed=!0;var c=this.editor,f=this.editor.renderer;f.$isMousePressed=!0;var g=this,i=function(a){if(a)return e.isWebKit&&!a.which&&g.releaseMouse?g.releaseMouse():(g.x=a.clientX,g.y=a.clientY,b&&b(a),g.mouseEvent=new h(a,g.editor),g.$mouseMoved=!0,void 0)},j=function(a){c.off("beforeEndOperation",l),clearInterval(m),c.session&&k(),g[g.state+"End"]&&g[g.state+"End"](a),g.state="",g.isMousePressed=f.$isMousePressed=!1,f.$keepTextAreaAtCursor&&f.$moveTextAreaToCursor(),g.$onCaptureMouseMove=g.releaseMouse=null,a&&g.onMouseEvent("mouseup",a),c.endOperation()},k=function(){g[g.state]&&g[g.state](),g.$mouseMoved=!1};if(e.isOldIE&&"dblclick"==a.domEvent.type)return setTimeout(function(){j(a)});var l=function(a){g.releaseMouse&&c.curOp.command.name&&c.curOp.selectionChanged&&(g[g.state+"End"]&&g[g.state+"End"](),g.state="",g.releaseMouse())};c.on("beforeEndOperation",l),c.startOperation({command:{name:"mouse"}}),g.$onCaptureMouseMove=i,g.releaseMouse=d.capture(this.editor.container,i,j);var m=setInterval(k,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var a=function(b){b&&b.domEvent&&"contextmenu"!=b.domEvent.type||(this.editor.off("nativecontextmenu",a),b&&b.domEvent&&d.stopEvent(b.domEvent))}.bind(this);setTimeout(a,10),this.editor.on("nativecontextmenu",a)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(l.prototype),k.defineOptions(l.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:e.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),b.MouseHandler=l}),define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(a,b,c){"use strict";function d(a){a.on("click",function(b){var c=b.getDocumentPosition(),d=a.session,f=d.getFoldAt(c.row,c.column,1);f&&(b.getAccelKey()?d.removeFold(f):d.expandFold(f),b.stop());var g=b.domEvent&&b.domEvent.target;g&&e.hasCssClass(g,"ace_inline_button")&&e.hasCssClass(g,"ace_toggle_wrap")&&(d.setOption("wrap",!d.getUseWrapMode()),a.renderer.scrollCursorIntoView())}),a.on("gutterclick",function(b){if("foldWidgets"==a.renderer.$gutterLayer.getRegion(b)){var c=b.getDocumentPosition().row,d=a.session;d.foldWidgets&&d.foldWidgets[c]&&a.session.onFoldWidgetClick(c,b),a.isFocused()||a.focus(),b.stop()}}),a.on("gutterdblclick",function(b){if("foldWidgets"==a.renderer.$gutterLayer.getRegion(b)){var c=b.getDocumentPosition().row,d=a.session,e=d.getParentFoldRangeData(c,!0),f=e.range||e.firstRange;if(f){c=f.start.row;var g=d.getFoldAt(c,d.getLine(c).length,1);g?d.removeFold(g):(d.addFold("...",f),a.renderer.scrollCursorIntoView({row:f.start.row,column:0}))}b.stop()}})}var e=a("../lib/dom");b.FoldHandler=d}),define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(a,b,c){"use strict";var d=a("../lib/keys"),e=a("../lib/event"),f=function(a){this.$editor=a,this.$data={editor:a},this.$handlers=[],this.setDefaultHandler(a.commands)};(function(){this.setDefaultHandler=function(a){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=a,this.addKeyboardHandler(a,0)},this.setKeyboardHandler=function(a){var b=this.$handlers;if(b[b.length-1]!=a){for(;b[b.length-1]&&b[b.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(b[b.length-1]);this.addKeyboardHandler(a,1)}},this.addKeyboardHandler=function(a,b){if(a){"function"==typeof a&&!a.handleKeyboard&&(a.handleKeyboard=a);var c=this.$handlers.indexOf(a);-1!=c&&this.$handlers.splice(c,1),void 0==b?this.$handlers.push(a):this.$handlers.splice(b,0,a),-1==c&&a.attach&&a.attach(this.$editor)}},this.removeKeyboardHandler=function(a){var b=this.$handlers.indexOf(a);return-1!=b&&(this.$handlers.splice(b,1),a.detach&&a.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var a=this.$data,b=a.editor;return this.$handlers.map(function(c){return c.getStatusText&&c.getStatusText(b,a)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(a,b,c,d){for(var f,g=!1,h=this.$editor.commands,i=this.$handlers.length;i--&&!((f=this.$handlers[i].handleKeyboard(this.$data,a,b,c,d))&&f.command&&((g="null"==f.command||h.exec(f.command,this.$editor,f.args,d))&&d&&-1!=a&&1!=f.passEvent&&1!=f.command.passEvent&&e.stopEvent(d),g)););return!g&&-1==a&&(f={command:"insertstring"},g=h.exec("insertstring",this.$editor,b)),g&&this.$editor._signal&&this.$editor._signal("keyboardActivity",f),g},this.onCommandKey=function(a,b,c){var e=d.keyCodeToString(c);return this.$callKeyboardHandlers(b,e,c,a)},this.onTextInput=function(a){return this.$callKeyboardHandlers(-1,a)}}).call(f.prototype),b.KeyBinding=f}),define("ace/lib/bidiutil",["require","exports","module"],function(a,b,c){"use strict";function d(a,b,c,d){var e=h?o:n,p=null,q=null,r=null,s=0,t=null,u=-1,x=null,z=null,A=[];if(!d)for(x=0,d=[];x<c;x++)d[x]=g(a[x]);for(i=h,j=!1,k=!1,l=!1,m=!1,z=0;z<c;z++){if(p=s,A[z]=q=f(a,d,A,z),s=e[p][q],t=240&s,s&=15,b[z]=r=e[s][5],t>0)if(16==t){for(x=u;x<z;x++)b[x]=1;u=-1}else u=-1;if(e[s][6])-1==u&&(u=z);else if(u>-1){for(x=u;x<z;x++)b[x]=r;u=-1}d[z]==v&&(b[z]=0),i|=r}if(m)for(x=0;x<c;x++)if(d[x]==w){b[x]=h;for(var B=x-1;B>=0&&d[B]==y;B--)b[B]=h}}function e(a,b,c){if(!(i<a)){if(1==a&&h==p&&!l)return void c.reverse();for(var d,e,f,g,j=c.length,k=0;k<j;){if(b[k]>=a){for(d=k+1;d<j&&b[d]>=a;)d++;for(e=k,f=d-1;e<f;e++,f--)g=c[e],c[e]=c[f],c[f]=g;k=d}k++}}}function f(a,b,c,d){var e,f,g,i,n=b[d];switch(n){case q:case r:j=!1;case u:case t:return n;case s:return j?t:s;case x:return j=!0,k=!0,r;case y:return u;case z:return d<1||d+1>=b.length||(e=c[d-1])!=s&&e!=t||(f=b[d+1])!=s&&f!=t?u:(j&&(f=t),f==e?f:u);case A:return e=d>0?c[d-1]:v,e==s&&d+1<b.length&&b[d+1]==s?s:u;case B:if(d>0&&c[d-1]==s)return s;if(j)return u;for(i=d+1,g=b.length;i<g&&b[i]==B;)i++;return i<g&&b[i]==s?s:u;case C:for(g=b.length,i=d+1;i<g&&b[i]==C;)i++;if(i<g){var o=a[d],p=o>=1425&&o<=2303||64286==o;if(e=b[i],p&&(e==r||e==x))return r}return d<1||(e=b[d-1])==v?u:c[d-1];case v:return j=!1,l=!0,h;case w:return m=!0,u;case D:case E:case G:case H:case F:j=!1;case I:return u}}function g(a){var b=a.charCodeAt(0),c=b>>8;return 0==c?b>191?q:J[b]:5==c?/[\u0591-\u05f4]/.test(a)?r:q:6==c?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(a)?C:/[\u0660-\u0669\u066b-\u066c]/.test(a)?t:1642==b?B:/[\u06f0-\u06f9]/.test(a)?s:x:32==c&&b<=8287?K[255&b]:254==c&&b>=65136?x:u}var h=0,i=0,j=!1,k=!1,l=!1,m=!1,n=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],o=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p=1,q=0,r=1,s=2,t=3,u=4,v=5,w=6,x=7,y=8,z=9,A=10,B=11,C=12,D=13,E=14,F=15,G=16,H=17,I=18,J=[I,I,I,I,I,I,I,I,I,w,v,w,y,v,I,I,I,I,I,I,I,I,I,I,I,I,I,I,v,v,v,w,y,u,u,B,B,B,u,u,u,u,u,A,z,A,z,z,s,s,s,s,s,s,s,s,s,s,z,u,u,u,u,u,u,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,u,u,u,u,u,u,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,u,u,u,u,I,I,I,I,I,I,v,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,z,u,B,B,B,B,u,u,u,u,q,u,u,I,u,u,B,B,s,s,u,q,u,u,u,s,q,u,u,u,u,u],K=[y,y,y,y,y,y,y,y,y,y,y,I,I,I,q,r,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,y,v,D,E,F,G,H,z,B,B,B,B,B,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,z,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,y];b.L=q,b.R=r,b.EN=s,b.ON_R=3,b.AN=4,b.R_H=5,b.B=6,b.RLE=7,b.DOT="·",b.doBidiReorder=function(a,c,f){if(a.length<2)return{};var g=a.split(""),i=new Array(g.length),j=new Array(g.length),k=[];h=f?p:0,d(g,k,g.length,c);for(var l=0;l<i.length;i[l]=l,l++);e(2,k,i),e(1,k,i);for(var l=0;l<i.length-1;l++)c[l]===t?k[l]=b.AN:k[l]===r&&(c[l]>x&&c[l]<D||c[l]===u||c[l]===I)?k[l]=b.ON_R:l>0&&"ل"===g[l-1]&&/\u0622|\u0623|\u0625|\u0627/.test(g[l])&&(k[l-1]=k[l]=b.R_H,l++);g[g.length-1]===b.DOT&&(k[g.length-1]=b.B),"‫"===g[0]&&(k[0]=b.RLE);for(var l=0;l<i.length;l++)j[l]=k[i[l]];return{logicalFromVisual:i,bidiLevels:j}},b.hasBidiCharacters=function(a,b){for(var c=!1,d=0;d<a.length;d++)b[d]=g(a.charAt(d)),!c&&(b[d]==r||b[d]==x||b[d]==t)&&(c=!0);return c},b.getVisualFromLogicalIdx=function(a,b){for(var c=0;c<b.logicalFromVisual.length;c++)if(b.logicalFromVisual[c]==a)return c;return 0}}),define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(a,b,c){"use strict";var d=a("./lib/bidiutil"),e=a("./lib/lang"),f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,g=function(a){this.session=a,this.bidiMap={},this.currentRow=null,this.bidiUtil=d,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=f.test(a.getValue())};(function(){this.isBidiRow=function(a,b,c){return!!this.seenBidi&&(a!==this.currentRow&&(this.currentRow=a,this.updateRowLine(b,c),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(a){this.seenBidi?this.currentRow=null:"insert"==a.action&&f.test(a.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var a=0,b=this.session.$screenRowCache;if(b.length){var c=this.session.$getRowCacheIndex(b,this.currentRow);c>=0&&(a=this.session.$docRowCache[c])}return a},this.getSplitIndex=function(){var a=0,b=this.session.$screenRowCache;if(b.length)for(var c,d=this.session.$getRowCacheIndex(b,this.currentRow);this.currentRow-a>0&&(c=this.session.$getRowCacheIndex(b,this.currentRow-a-1))===d;)d=c,a++;else a=this.currentRow;return a},this.updateRowLine=function(a,b){void 0===a&&(a=this.getDocumentRow());var c=a===this.session.getLength()-1,f=c?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(a),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var g=this.session.$wrapData[a];g&&(void 0===b&&(b=this.getSplitIndex()),b>0&&g.length?(this.wrapIndent=g.indent,this.wrapOffset=this.wrapIndent*this.charWidths[d.L],this.line=b<g.length?this.line.substring(g[b-1],g[b]):this.line.substring(g[g.length-1])):this.line=this.line.substring(0,g[b]),b==g.length&&(this.line+=this.showInvisibles?f:d.DOT))}else this.line+=this.showInvisibles?f:d.DOT;var h,i=this.session,j=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(a,b){return"\t"===a||i.isFullWidth(a.charCodeAt(0))?(h="\t"===a?i.getScreenTabSize(b+j):2,j+=h-1,e.stringRepeat(d.DOT,h)):a}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==d.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var a=[];d.hasBidiCharacters(this.line,a)||this.isRtlDir?this.bidiMap=d.doBidiReorder(this.line,a,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(a){if(this.characterWidth!==a.$characterSize.width){this.fontMetrics=a;var b=this.characterWidth=a.$characterSize.width,c=a.$measureCharWidth("ה");this.charWidths[d.L]=this.charWidths[d.EN]=this.charWidths[d.ON_R]=b,this.charWidths[d.R]=this.charWidths[d.AN]=c,this.charWidths[d.R_H]=.45*c,this.charWidths[d.B]=this.charWidths[d.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(a){this.showInvisibles=a,this.currentRow=null},this.setEolChar=function(a){this.EOL=a},this.setContentWidth=function(a){this.contentWidth=a},this.isRtlLine=function(a){return!!this.$isRtl||(void 0!=a?this.session.getLine(a).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(a,b){for(var c=a.getCursorPosition(),d=a.selection.getSelectionAnchor().row;d<=c.row;d++)b||a.session.getLine(d).charAt(0)!==a.session.$bidiHandler.RLE?b&&a.session.getLine(d).charAt(0)!==a.session.$bidiHandler.RLE&&a.session.doc.insert({column:0,row:d},a.session.$bidiHandler.RLE):a.session.doc.removeInLine(d,0,1)},this.getPosLeft=function(a){a-=this.wrapIndent;var b=this.line.charAt(0)===this.RLE?1:0,c=a>b?this.session.getOverwrite()?a:a-1:b,e=d.getVisualFromLogicalIdx(c,this.bidiMap),f=this.bidiMap.bidiLevels,g=0;!this.session.getOverwrite()&&a<=b&&f[e]%2!=0&&e++;for(var h=0;h<e;h++)g+=this.charWidths[f[h]];return!this.session.getOverwrite()&&a>b&&f[e]%2==0&&(g+=this.charWidths[f[e]]),this.wrapIndent&&(g+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(g+=this.rtlLineOffset),g},this.getSelections=function(a,b){var c,d=this.bidiMap,e=d.bidiLevels,f=[],g=0,h=Math.min(a,b)-this.wrapIndent,i=Math.max(a,b)-this.wrapIndent,j=!1,k=!1,l=0;this.wrapIndent&&(g+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var m,n=0;n<e.length;n++)m=d.logicalFromVisual[n],c=e[n],j=m>=h&&m<i,j&&!k?l=g:!j&&k&&f.push({left:l,width:g-l}),g+=this.charWidths[c],k=j;if(j&&n===e.length&&f.push({left:l,width:g-l}),this.isRtlDir)for(var o=0;o<f.length;o++)f[o].left+=this.rtlLineOffset;return f},this.offsetToCol=function(a){this.isRtlDir&&(a-=this.rtlLineOffset);var b=0,a=Math.max(a,0),c=0,d=0,e=this.bidiMap.bidiLevels,f=this.charWidths[e[d]];for(this.wrapIndent&&(a-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);a>c+f/2;){if(c+=f,d===e.length-1){f=0;break}f=this.charWidths[e[++d]]}return d>0&&e[d-1]%2!=0&&e[d]%2==0?(a<c&&d--,b=this.bidiMap.logicalFromVisual[d]):d>0&&e[d-1]%2==0&&e[d]%2!=0?b=1+(a>c?this.bidiMap.logicalFromVisual[d]:this.bidiMap.logicalFromVisual[d-1]):this.isRtlDir&&d===e.length-1&&0===f&&e[d-1]%2==0||!this.isRtlDir&&0===d&&e[d]%2!=0?b=1+this.bidiMap.logicalFromVisual[d]:(d>0&&e[d-1]%2!=0&&0!==f&&d--,b=this.bidiMap.logicalFromVisual[d]),0===b&&this.isRtlDir&&b++,b+this.wrapIndent}}).call(g.prototype),b.BidiHandler=g}),define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./lib/lang"),f=a("./lib/event_emitter").EventEmitter,g=a("./range").Range,h=function(a){this.session=a,this.doc=a.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var b=this;this.cursor.on("change",function(a){b.$cursorChanged=!0,b.$silent||b._emit("changeCursor"),!b.$isEmpty&&!b.$silent&&b._emit("changeSelection"),!b.$keepDesiredColumnOnChange&&a.old.column!=a.value.column&&(b.$desiredColumn=null)}),this.anchor.on("change",function(){b.$anchorChanged=!0,!b.$isEmpty&&!b.$silent&&b._emit("changeSelection")})};(function(){d.implement(this,f),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(a,b){this.$isEmpty=!1,this.anchor.setPosition(a,b)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var a=this.anchor,b=this.lead;return a.row>b.row||a.row==b.row&&a.column>b.column},this.getRange=function(){var a=this.anchor,b=this.lead;return this.$isEmpty?g.fromPoints(b,b):this.isBackwards()?g.fromPoints(b,a):g.fromPoints(a,b)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(a,b){var c=b?a.end:a.start,d=b?a.start:a.end;this.$setSelection(c.row,c.column,d.row,d.column)},this.$setSelection=function(a,b,c,d){if(!this.$silent){var e=this.$isEmpty,f=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(a,b),this.cursor.setPosition(c,d),this.$isEmpty=!g.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||e!=this.$isEmpty||f)&&this._emit("changeSelection")}},this.$moveSelection=function(a){var b=this.lead;this.$isEmpty&&this.setSelectionAnchor(b.row,b.column),a.call(this)},this.selectTo=function(a,b){this.$moveSelection(function(){this.moveCursorTo(a,b)})},this.selectToPosition=function(a){this.$moveSelection(function(){this.moveCursorToPosition(a)})},this.moveTo=function(a,b){this.clearSelection(),this.moveCursorTo(a,b)},this.moveToPosition=function(a){this.clearSelection(),this.moveCursorToPosition(a)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(a,b){if(void 0===b){var c=a||this.lead;a=c.row,b=c.column}return this.session.getWordRange(a,b)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var a=this.getCursor(),b=this.session.getAWordRange(a.row,a.column);this.setSelectionRange(b)},this.getLineRange=function(a,b){var c,d="number"==typeof a?a:this.lead.row,e=this.session.getFoldLine(d);return e?(d=e.start.row,c=e.end.row):c=d,!0===b?new g(d,0,c,this.session.getLine(c).length):new g(d,0,c+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(a,b,c){var d=a.column,e=a.column+b;return c<0&&(d=a.column-b,e=a.column),this.session.isTabStop(a)&&this.doc.getLine(a.row).slice(d,e).split(" ").length-1==b},this.moveCursorLeft=function(){var a,b=this.lead.getPosition();if(a=this.session.getFoldAt(b.row,b.column,-1))this.moveCursorTo(a.start.row,a.start.column);else if(0===b.column)b.row>0&&this.moveCursorTo(b.row-1,this.doc.getLine(b.row-1).length);else{var c=this.session.getTabSize();this.wouldMoveIntoSoftTab(b,c,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-c):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var a,b=this.lead.getPosition();if(a=this.session.getFoldAt(b.row,b.column,1))this.moveCursorTo(a.end.row,a.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var c=this.session.getTabSize(),b=this.lead;this.wouldMoveIntoSoftTab(b,c,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,c):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var a=this.lead.row,b=this.lead.column,c=this.session.documentToScreenRow(a,b),d=this.session.screenToDocumentPosition(c,0),e=this.session.getDisplayLine(a,null,d.row,d.column),f=e.match(/^\s*/);f[0].length!=b&&!this.session.$useEmacsStyleLineStart&&(d.column+=f[0].length),this.moveCursorToPosition(d)},this.moveCursorLineEnd=function(){var a=this.lead,b=this.session.getDocumentLastRowColumnPosition(a.row,a.column);if(this.lead.column==b.column){var c=this.session.getLine(b.row);if(b.column==c.length){var d=c.search(/\s+$/);d>0&&(b.column=d)}}this.moveCursorTo(b.row,b.column)},this.moveCursorFileEnd=function(){var a=this.doc.getLength()-1,b=this.doc.getLine(a).length;this.moveCursorTo(a,b)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var a=this.lead.row,b=this.lead.column,c=this.doc.getLine(a),d=c.substring(b);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var e=this.session.getFoldAt(a,b,1);return e?void this.moveCursorTo(e.end.row,e.end.column):(this.session.nonTokenRe.exec(d)&&(b+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,d=c.substring(b)),b>=c.length?(this.moveCursorTo(a,c.length),this.moveCursorRight(),a<this.doc.getLength()-1&&this.moveCursorWordRight(),void 0):(this.session.tokenRe.exec(d)&&(b+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(a,b)))},this.moveCursorLongWordLeft=function(){var a,b=this.lead.row,c=this.lead.column;if(a=this.session.getFoldAt(b,c,-1))return void this.moveCursorTo(a.start.row,a.start.column);var d=this.session.getFoldStringAt(b,c,-1);null==d&&(d=this.doc.getLine(b).substring(0,c));var f=e.stringReverse(d);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(f)&&(c-=this.session.nonTokenRe.lastIndex,f=f.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),c<=0)return this.moveCursorTo(b,0),this.moveCursorLeft(),b>0&&this.moveCursorWordLeft(),void 0;this.session.tokenRe.exec(f)&&(c-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(b,c)},this.$shortWordEndIndex=function(a){var b,c=0,d=/\s/,e=this.session.tokenRe;if(e.lastIndex=0,this.session.tokenRe.exec(a))c=this.session.tokenRe.lastIndex;else{for(;(b=a[c])&&d.test(b);)c++;if(c<1)for(e.lastIndex=0;(b=a[c])&&!e.test(b);)if(e.lastIndex=0,c++,d.test(b)){if(c>2){c--;break}for(;(b=a[c])&&d.test(b);)c++;if(c>2)break}}return e.lastIndex=0,c},this.moveCursorShortWordRight=function(){var a=this.lead.row,b=this.lead.column,c=this.doc.getLine(a),d=c.substring(b),e=this.session.getFoldAt(a,b,1);if(e)return this.moveCursorTo(e.end.row,e.end.column);if(b==c.length){var f=this.doc.getLength();do{a++,d=this.doc.getLine(a)}while(a<f&&/^\s*$/.test(d));/^\s+/.test(d)||(d=""),b=0}var g=this.$shortWordEndIndex(d);this.moveCursorTo(a,b+g)},this.moveCursorShortWordLeft=function(){var a,b=this.lead.row,c=this.lead.column;if(a=this.session.getFoldAt(b,c,-1))return this.moveCursorTo(a.start.row,a.start.column);var d=this.session.getLine(b).substring(0,c);if(0===c){do{b--,d=this.doc.getLine(b)}while(b>0&&/^\s*$/.test(d));c=d.length,/\s+$/.test(d)||(d="")}var f=e.stringReverse(d),g=this.$shortWordEndIndex(f);return this.moveCursorTo(b,c-g)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(a,b){var c,d=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===b&&(0!==a&&(this.session.$bidiHandler.isBidiRow(d.row,this.lead.row)?(c=this.session.$bidiHandler.getPosLeft(d.column),d.column=Math.round(c/this.session.$bidiHandler.charWidths[0])):c=d.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?d.column=this.$desiredColumn:this.$desiredColumn=d.column),0!=a&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var e=this.session.lineWidgets[this.lead.row];a<0?a-=e.rowsAbove||0:a>0&&(a+=e.rowCount-(e.rowsAbove||0))}var f=this.session.screenToDocumentPosition(d.row+a,d.column,c);0!==a&&0===b&&f.row===this.lead.row&&(f.column,this.lead.column),this.moveCursorTo(f.row,f.column+b,0===b)},this.moveCursorToPosition=function(a){this.moveCursorTo(a.row,a.column)},this.moveCursorTo=function(a,b,c){var d=this.session.getFoldAt(a,b,1);d&&(a=d.start.row,b=d.start.column),this.$keepDesiredColumnOnChange=!0;var e=this.session.getLine(a);/[\uDC00-\uDFFF]/.test(e.charAt(b))&&e.charAt(b-1)&&(this.lead.row==a&&this.lead.column==b+1?b-=1:b+=1),this.lead.setPosition(a,b),this.$keepDesiredColumnOnChange=!1,c||(this.$desiredColumn=null)},this.moveCursorToScreen=function(a,b,c){var d=this.session.screenToDocumentPosition(a,b);this.moveCursorTo(d.row,d.column,c)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(a){this.setSelectionRange(a,a.cursor==a.start),this.$desiredColumn=a.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(a){var b=this.getRange();return a?(a.start.column=b.start.column,a.start.row=b.start.row,a.end.column=b.end.column,a.end.row=b.end.row):a=b,a.cursor=this.isBackwards()?a.start:a.end,a.desiredColumn=this.$desiredColumn,a},this.getRangeOfMovements=function(a){var b=this.getCursor();try{a(this);var c=this.getCursor();return g.fromPoints(b,c)}catch(a){return g.fromPoints(b,b)}finally{this.moveCursorToPosition(b)}},this.toJSON=function(){if(this.rangeCount)var a=this.ranges.map(function(a){var b=a.clone();return b.isBackwards=a.cursor==a.start,b});else{var a=this.getRange();a.isBackwards=this.isBackwards()}return a},this.fromJSON=function(a){if(void 0==a.start){if(this.rangeList&&a.length>1){this.toSingleRange(a[0]);for(var b=a.length;b--;){var c=g.fromPoints(a[b].start,a[b].end);a[b].isBackwards&&(c.cursor=c.start),this.addRange(c,!0)}return}a=a[0]}this.rangeList&&this.toSingleRange(a),this.setSelectionRange(a,a.isBackwards)},this.isEqual=function(a){if((a.length||this.rangeCount)&&a.length!=this.rangeCount)return!1;if(!a.length||!this.ranges)return this.getRange().isEqual(a);for(var b=this.ranges.length;b--;)if(!this.ranges[b].isEqual(a[b]))return!1;return!0}}).call(h.prototype),b.Selection=h}),define("ace/tokenizer",["require","exports","module","ace/config"],function(a,b,c){"use strict";var d=a("./config"),e=2e3,f=function(a){this.states=a,this.regExps={},this.matchMappings={};for(var b in this.states){for(var c=this.states[b],d=[],e=0,f=this.matchMappings[b]={defaultToken:"text"},g="g",h=[],i=0;i<c.length;i++){var j=c[i];if(j.defaultToken&&(f.defaultToken=j.defaultToken),j.caseInsensitive&&-1===g.indexOf("i")&&(g+="i"),j.unicode&&-1===g.indexOf("u")&&(g+="u"),null!=j.regex){j.regex instanceof RegExp&&(j.regex=j.regex.toString().slice(1,-1));var k=j.regex,l=new RegExp("(?:("+k+")|(.))").exec("a").length-2;Array.isArray(j.token)?1==j.token.length||1==l?j.token=j.token[0]:l-1!=j.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:j,groupCount:l-1}),j.token=j.token[0]):(j.tokenArray=j.token,j.token=null,j.onMatch=this.$arrayTokens):"function"==typeof j.token&&!j.onMatch&&(j.onMatch=l>1?this.$applyToken:j.token),l>1&&(/\\\d/.test(j.regex)?k=j.regex.replace(/\\([0-9]+)/g,function(a,b){return"\\"+(parseInt(b,10)+e+1)}):(l=1,k=this.removeCapturingGroups(j.regex)),!j.splitRegex&&"string"!=typeof j.token&&h.push(j)),f[e]=i,e+=l,d.push(k),j.onMatch||(j.onMatch=null)}}d.length||(f[0]=0,d.push("$")),h.forEach(function(a){a.splitRegex=this.createSplitterRegexp(a.regex,g)},this),this.regExps[b]=new RegExp("("+d.join(")|(")+")|($)",g)}};(function(){this.$setMaxTokenCount=function(a){e=0|a},this.$applyToken=function(a){var b=this.splitRegex.exec(a).slice(1),c=this.token.apply(this,b);if("string"==typeof c)return[{type:c,value:a}];for(var d=[],e=0,f=c.length;e<f;e++)b[e]&&(d[d.length]={type:c[e],value:b[e]});return d},this.$arrayTokens=function(a){if(!a)return[];var b=this.splitRegex.exec(a);if(!b)return"text";for(var c=[],d=this.tokenArray,e=0,f=d.length;e<f;e++)b[e+1]&&(c[c.length]={type:d[e],value:b[e+1]});return c},this.removeCapturingGroups=function(a){return a.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(a,b){return b?"(?:":a})},this.createSplitterRegexp=function(a,b){if(-1!=a.indexOf("(?=")){var c=0,d=!1,e={};a.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(a,b,f,g,h,i){return d?d="]"!=h:h?d=!0:g?(c==e.stack&&(e.end=i+1,e.stack=-1),c--):f&&(c++,1!=f.length&&(e.stack=c,e.start=i)),a}),null!=e.end&&/^\)*$/.test(a.substr(e.end))&&(a=a.substring(0,e.start)+a.substr(e.end))}return"^"!=a.charAt(0)&&(a="^"+a),"$"!=a.charAt(a.length-1)&&(a+="$"),new RegExp(a,(b||"").replace("g",""))},this.getLineTokens=function(a,b){if(b&&"string"!=typeof b){var c=b.slice(0);"#tmp"===(b=c[0])&&(c.shift(),b=c.shift())}else var c=[];var d=b||"start",f=this.states[d];f||(d="start",f=this.states[d]);var g=this.matchMappings[d],h=this.regExps[d];h.lastIndex=0;for(var i,j=[],k=0,l=0,m={type:null,value:""};i=h.exec(a);){var n=g.defaultToken,o=null,p=i[0],q=h.lastIndex;if(q-p.length>k){var r=a.substring(k,q-p.length);m.type==n?m.value+=r:(m.type&&j.push(m),m={type:n,value:r})}for(var s=0;s<i.length-2;s++)if(void 0!==i[s+1]){o=f[g[s]],n=o.onMatch?o.onMatch(p,d,c,a):o.token,o.next&&(d="string"==typeof o.next?o.next:o.next(d,c),f=this.states[d],f||(this.reportError("state doesn't exist",d),d="start",f=this.states[d]),g=this.matchMappings[d],k=q,h=this.regExps[d],h.lastIndex=q),o.consumeLineEnd&&(k=q);break}if(p)if("string"==typeof n)o&&!1===o.merge||m.type!==n?(m.type&&j.push(m),m={type:n,value:p}):m.value+=p;else if(n){m.type&&j.push(m),m={type:null,value:""};for(var s=0;s<n.length;s++)j.push(n[s])}if(k==a.length)break;if(k=q,l++>e){for(l>2*a.length&&this.reportError("infinite loop with in ace tokenizer",{startState:b,line:a});k<a.length;)m.type&&j.push(m),m={value:a.substring(k,k+=500),type:"overflow"};d="start",c=[];break}}return m.type&&j.push(m),c.length>1&&c[0]!==d&&c.unshift("#tmp",d),{tokens:j,state:c.length?c:d}},this.reportError=d.reportError}).call(f.prototype),b.Tokenizer=f}),define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(a,b,c){"use strict";var d=a("../lib/lang"),e=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(a,b){if(b)for(var c in a){for(var d=a[c],e=0;e<d.length;e++){var f=d[e];(f.next||f.onMatch)&&("string"==typeof f.next&&0!==f.next.indexOf(b)&&(f.next=b+f.next),f.nextState&&0!==f.nextState.indexOf(b)&&(f.nextState=b+f.nextState))}this.$rules[b+c]=d}else for(var c in a)this.$rules[c]=a[c]},this.getRules=function(){return this.$rules},this.embedRules=function(a,b,c,e,f){var g="function"==typeof a?(new a).getRules():a;if(e)for(var h=0;h<e.length;h++)e[h]=b+e[h];else{e=[];for(var i in g)e.push(b+i)}if(this.addRules(g,b),c)for(var j=Array.prototype[f?"push":"unshift"],h=0;h<e.length;h++)j.apply(this.$rules[e[h]],d.deepCopy(c));this.$embeds||(this.$embeds=[]),this.$embeds.push(b)},this.getEmbeds=function(){return this.$embeds};var a=function(a,b){return("start"!=a||b.length)&&b.unshift(this.nextState,a),this.nextState},b=function(a,b){return b.shift(),b.shift()||"start"};this.normalizeRules=function(){function c(f){var g=e[f];g.processed=!0;for(var h=0;h<g.length;h++){var i=g[h],j=null;Array.isArray(i)&&(j=i,i={}),!i.regex&&i.start&&(i.regex=i.start,i.next||(i.next=[]),i.next.push({defaultToken:i.token},{token:i.token+".end",regex:i.end||i.start,next:"pop"}),i.token=i.token+".start",i.push=!0);var k=i.next||i.push;if(k&&Array.isArray(k)){var l=i.stateName;l||(l=i.token,"string"!=typeof l&&(l=l[0]||""),e[l]&&(l+=d++)),e[l]=k,i.next=l,c(l)}else"pop"==k&&(i.next=b);if(i.push&&(i.nextState=i.next||i.push,i.next=a,delete i.push),i.rules)for(var m in i.rules)e[m]?e[m].push&&e[m].push.apply(e[m],i.rules[m]):e[m]=i.rules[m];var n="string"==typeof i?i:i.include;if(n&&(j=Array.isArray(n)?n.map(function(a){return e[a]}):e[n]),j){var o=[h,1].concat(j);i.noEscape&&(o=o.filter(function(a){return!a.next})),g.splice.apply(g,o),h--}i.keywordMap&&(i.token=this.createKeywordMapper(i.keywordMap,i.defaultToken||"text",i.caseInsensitive),delete i.defaultToken)}}var d=0,e=this.$rules;Object.keys(e).forEach(c,this)},this.createKeywordMapper=function(a,b,c,d){var e=Object.create(null);return this.$keywordList=[],Object.keys(a).forEach(function(b){for(var f=a[b],g=f.split(d||"|"),h=g.length;h--;){var i=g[h];this.$keywordList.push(i),c&&(i=i.toLowerCase()),e[i]=b}},this),a=null,c?function(a){return e[a.toLowerCase()]||b}:function(a){return e[a]||b}},this.getKeywords=function(){return this.$keywords}}).call(e.prototype),b.TextHighlightRules=e}),define("ace/mode/behaviour",["require","exports","module"],function(a,b,c){"use strict";var d=function(){this.$behaviours={}};(function(){this.add=function(a,b,c){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[a]:this.$behaviours[a]={}}this.$behaviours[a][b]=c},this.addBehaviours=function(a){for(var b in a)for(var c in a[b])this.add(b,c,a[b][c])},this.remove=function(a){this.$behaviours&&this.$behaviours[a]&&delete this.$behaviours[a]},this.inherit=function(a,b){if("function"==typeof a)var c=(new a).getBehaviours(b);else var c=a.getBehaviours(b);this.addBehaviours(c)},this.getBehaviours=function(a){if(!a)return this.$behaviours;for(var b={},c=0;c<a.length;c++)this.$behaviours[a[c]]&&(b[a[c]]=this.$behaviours[a[c]]);return b}}).call(d.prototype),b.Behaviour=d}),define("ace/token_iterator",["require","exports","module","ace/range"],function(a,b,c){"use strict";var d=a("./range").Range,e=function(a,b,c){this.$session=a,this.$row=b,this.$rowTokens=a.getTokens(b);var d=a.getTokenAt(b,c);this.$tokenIndex=d?d.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var a;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,a||(a=this.$session.getLength()),this.$row>=a)return this.$row=a-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var a=this.$rowTokens,b=this.$tokenIndex,c=a[b].start;if(void 0!==c)return c;for(c=0;b>0;)b-=1,c+=a[b].value.length;return c},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var a=this.$rowTokens[this.$tokenIndex],b=this.getCurrentTokenColumn();return new d(this.$row,b,this.$row,b+a.value.length)}}).call(e.prototype),b.TokenIterator=e}),define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(a,b,c){"use strict";var d,e=a("../../lib/oop"),f=a("../behaviour").Behaviour,g=a("../../token_iterator").TokenIterator,h=a("../../lib/lang"),i=["text","paren.rparen","rparen","paren","punctuation.operator"],j=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],k={},l={'"':'"',"'":"'"},m=function(a){var b=-1;if(a.multiSelect&&(b=a.selection.index,k.rangeCount!=a.multiSelect.rangeCount&&(k={rangeCount:a.multiSelect.rangeCount})),k[b])return d=k[b];d=k[b]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},n=function(a,b,c,d){var e=a.end.row-a.start.row;return{text:c+b+d,selection:[0,a.start.column+1,e,a.end.column+(e?0:1)]}},o=function(a){this.add("braces","insertion",function(b,c,e,f,g){var i=e.getCursorPosition(),j=f.doc.getLine(i.row);if("{"==g){m(e);var k=e.getSelectionRange(),l=f.doc.getTextRange(k);if(""!==l&&"{"!==l&&e.getWrapBehavioursEnabled())return n(k,l,"{","}");if(o.isSaneInsertion(e,f))return/[\]\}\)]/.test(j[i.column])||e.inMultiSelectMode||a&&a.braces?(o.recordAutoInsert(e,f,"}"),{text:"{}",selection:[1,1]}):(o.recordMaybeInsert(e,f,"{"),{text:"{",selection:[1,1]})}else if("}"==g){m(e);var p=j.substring(i.column,i.column+1);if("}"==p){var q=f.$findOpeningBracket("}",{column:i.column+1,row:i.row});if(null!==q&&o.isAutoInsertedClosing(i,j,g))return o.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==g||"\r\n"==g){m(e);var r="";o.isMaybeInsertedClosing(i,j)&&(r=h.stringRepeat("}",d.maybeInsertedBrackets),o.clearMaybeInsertedClosing());var p=j.substring(i.column,i.column+1);if("}"===p){var s=f.findMatchingBracket({row:i.row,column:i.column+1},"}");if(!s)return null;var t=this.$getIndent(f.getLine(s.row))}else{if(!r)return void o.clearMaybeInsertedClosing();var t=this.$getIndent(j)}var u=t+f.getTabString();return{text:"\n"+u+"\n"+t+r,selection:[1,u.length,1,u.length]}}o.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(a,b,c,e,f){var g=e.doc.getTextRange(f);if(!f.isMultiLine()&&"{"==g){m(c);if("}"==e.doc.getLine(f.start.row).substring(f.end.column,f.end.column+1))return f.end.column++,f;d.maybeInsertedBrackets--}}),this.add("parens","insertion",function(a,b,c,d,e){if("("==e){m(c);var f=c.getSelectionRange(),g=d.doc.getTextRange(f);if(""!==g&&c.getWrapBehavioursEnabled())return n(f,g,"(",")");if(o.isSaneInsertion(c,d))return o.recordAutoInsert(c,d,")"),{text:"()",selection:[1,1]}}else if(")"==e){m(c);var h=c.getCursorPosition(),i=d.doc.getLine(h.row),j=i.substring(h.column,h.column+1);if(")"==j){var k=d.$findOpeningBracket(")",{column:h.column+1,row:h.row});if(null!==k&&o.isAutoInsertedClosing(h,i,e))return o.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(a,b,c,d,e){var f=d.doc.getTextRange(e);if(!e.isMultiLine()&&"("==f){m(c);if(")"==d.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2))return e.end.column++,e}}),this.add("brackets","insertion",function(a,b,c,d,e){if("["==e){m(c);var f=c.getSelectionRange(),g=d.doc.getTextRange(f);if(""!==g&&c.getWrapBehavioursEnabled())return n(f,g,"[","]");if(o.isSaneInsertion(c,d))return o.recordAutoInsert(c,d,"]"),{text:"[]",selection:[1,1]}}else if("]"==e){m(c);var h=c.getCursorPosition(),i=d.doc.getLine(h.row),j=i.substring(h.column,h.column+1);if("]"==j){var k=d.$findOpeningBracket("]",{column:h.column+1,row:h.row});if(null!==k&&o.isAutoInsertedClosing(h,i,e))return o.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(a,b,c,d,e){var f=d.doc.getTextRange(e);if(!e.isMultiLine()&&"["==f){m(c);if("]"==d.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2))return e.end.column++,e}}),this.add("string_dquotes","insertion",function(a,b,c,d,e){var f=d.$mode.$quotes||l;if(1==e.length&&f[e]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(e))return;m(c);var g=e,h=c.getSelectionRange(),i=d.doc.getTextRange(h);if(""!==i&&(1!=i.length||!f[i])&&c.getWrapBehavioursEnabled())return n(h,i,g,g);if(!i){var j=c.getCursorPosition(),k=d.doc.getLine(j.row),o=k.substring(j.column-1,j.column),p=k.substring(j.column,j.column+1),q=d.getTokenAt(j.row,j.column),r=d.getTokenAt(j.row,j.column+1);if("\\"==o&&q&&/escape/.test(q.type))return null;var s,t=q&&/string|escape/.test(q.type),u=!r||/string|escape/.test(r.type);if(p==g)(s=t!==u)&&/string\.end/.test(r.type)&&(s=!1);else{if(t&&!u)return null;if(t&&u)return null;var v=d.$mode.tokenRe;v.lastIndex=0;var w=v.test(o);v.lastIndex=0;var x=v.test(o);if(w||x)return null;if(p&&!/[\s;,.})\]\\]/.test(p))return null;var y=k[j.column-2];if(o==g&&(y==g||v.test(y)))return null;s=!0}return{text:s?g+g:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(a,b,c,d,e){var f=d.$mode.$quotes||l,g=d.doc.getTextRange(e);if(!e.isMultiLine()&&f.hasOwnProperty(g)){m(c);if(d.doc.getLine(e.start.row).substring(e.start.column+1,e.start.column+2)==g)return e.end.column++,e}})};o.isSaneInsertion=function(a,b){var c=a.getCursorPosition(),d=new g(b,c.row,c.column);if(!this.$matchTokenType(d.getCurrentToken()||"text",i)){if(/[)}\]]/.test(a.session.getLine(c.row)[c.column]))return!0;var e=new g(b,c.row,c.column+1);if(!this.$matchTokenType(e.getCurrentToken()||"text",i))return!1}return d.stepForward(),d.getCurrentTokenRow()!==c.row||this.$matchTokenType(d.getCurrentToken()||"text",j)},o.$matchTokenType=function(a,b){return b.indexOf(a.type||a)>-1},o.recordAutoInsert=function(a,b,c){var e=a.getCursorPosition(),f=b.doc.getLine(e.row);this.isAutoInsertedClosing(e,f,d.autoInsertedLineEnd[0])||(d.autoInsertedBrackets=0),d.autoInsertedRow=e.row,d.autoInsertedLineEnd=c+f.substr(e.column),d.autoInsertedBrackets++},o.recordMaybeInsert=function(a,b,c){var e=a.getCursorPosition(),f=b.doc.getLine(e.row);this.isMaybeInsertedClosing(e,f)||(d.maybeInsertedBrackets=0),d.maybeInsertedRow=e.row,d.maybeInsertedLineStart=f.substr(0,e.column)+c,d.maybeInsertedLineEnd=f.substr(e.column),d.maybeInsertedBrackets++},o.isAutoInsertedClosing=function(a,b,c){return d.autoInsertedBrackets>0&&a.row===d.autoInsertedRow&&c===d.autoInsertedLineEnd[0]&&b.substr(a.column)===d.autoInsertedLineEnd},o.isMaybeInsertedClosing=function(a,b){return d.maybeInsertedBrackets>0&&a.row===d.maybeInsertedRow&&b.substr(a.column)===d.maybeInsertedLineEnd&&b.substr(0,a.column)==d.maybeInsertedLineStart},o.popAutoInsertedClosing=function(){d.autoInsertedLineEnd=d.autoInsertedLineEnd.substr(1),d.autoInsertedBrackets--},o.clearMaybeInsertedClosing=function(){d&&(d.maybeInsertedBrackets=0,d.maybeInsertedRow=-1)},e.inherits(o,f),b.CstyleBehaviour=o}),define("ace/unicode",["require","exports","module"],function(a,b,c){"use strict";for(var d=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],e=0,f=[],g=0;g<d.length;g+=2)f.push(e+=d[g]),d[g+1]&&f.push(45,e+=d[g+1]);b.wordChars=String.fromCharCode.apply(null,f)}),define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(a,b,c){"use strict";var d=a("../config"),e=a("../tokenizer").Tokenizer,f=a("./text_highlight_rules").TextHighlightRules,g=a("./behaviour/cstyle").CstyleBehaviour,h=a("../unicode"),i=a("../lib/lang"),j=a("../token_iterator").TokenIterator,k=a("../range").Range,l=function(){this.HighlightRules=f};(function(){this.$defaultBehaviour=new g,this.tokenRe=new RegExp("^["+h.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+h.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new e(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(a,b,c,d){function e(a){for(var b=c;b<=d;b++)a(f.getLine(b),b)}var f=b.doc,g=!0,h=!0,j=1/0,k=b.getTabSize(),l=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var m=this.lineCommentStart.map(i.escapeRegExp).join("|"),n=this.lineCommentStart[0];else var m=i.escapeRegExp(this.lineCommentStart),n=this.lineCommentStart;m=new RegExp("^(\\s*)(?:"+m+") ?"),l=b.getUseSoftTabs();var o=function(a,b){var c=a.match(m);if(c){var d=c[1].length,e=c[0].length;!s(a,d,e)&&" "==c[0][e-1]&&e--,f.removeInLine(b,d,e)}},p=n+" ",q=function(a,b){g&&!/\S/.test(a)||(s(a,j,j)?f.insertInLine({row:b,column:j},p):f.insertInLine({row:b,column:j},n))},r=function(a,b){return m.test(a)},s=function(a,b,c){for(var d=0;b--&&" "==a.charAt(b);)d++;if(d%k!=0)return!1;for(var d=0;" "==a.charAt(c++);)d++;return k>2?d%k!=k-1:d%k==0}}else{if(!this.blockComment)return!1;var n=this.blockComment.start,t=this.blockComment.end,m=new RegExp("^(\\s*)(?:"+i.escapeRegExp(n)+")"),u=new RegExp("(?:"+i.escapeRegExp(t)+")\\s*$"),q=function(a,b){r(a,b)||g&&!/\S/.test(a)||(f.insertInLine({row:b,column:a.length},t),f.insertInLine({row:b,column:j},n))},o=function(a,b){var c;(c=a.match(u))&&f.removeInLine(b,a.length-c[0].length,a.length),(c=a.match(m))&&f.removeInLine(b,c[1].length,c[0].length)},r=function(a,c){if(m.test(a))return!0;for(var d=b.getTokens(c),e=0;e<d.length;e++)if("comment"===d[e].type)return!0}}var v=1/0;e(function(a,b){var c=a.search(/\S/);-1!==c?(c<j&&(j=c),h&&!r(a,b)&&(h=!1)):v>a.length&&(v=a.length)}),j==1/0&&(j=v,g=!1,h=!1),l&&j%k!=0&&(j=Math.floor(j/k)*k),e(h?o:q)},this.toggleBlockComment=function(a,b,c,d){var e=this.blockComment;if(e){!e.start&&e[0]&&(e=e[0]);var f,g,h=new j(b,d.row,d.column),i=h.getCurrentToken(),l=(b.selection,b.selection.toOrientedRange());if(i&&/comment/.test(i.type)){for(var m,n;i&&/comment/.test(i.type);){var o=i.value.indexOf(e.start);if(-1!=o){var p=h.getCurrentTokenRow(),q=h.getCurrentTokenColumn()+o;m=new k(p,q,p,q+e.start.length);break}i=h.stepBackward()}for(var h=new j(b,d.row,d.column),i=h.getCurrentToken();i&&/comment/.test(i.type);){var o=i.value.indexOf(e.end);if(-1!=o){var p=h.getCurrentTokenRow(),q=h.getCurrentTokenColumn()+o;n=new k(p,q,p,q+e.end.length);break}i=h.stepForward()}n&&b.remove(n),m&&(b.remove(m),f=m.start.row,g=-e.start.length)}else g=e.start.length,f=c.start.row,b.insert(c.end,e.end),b.insert(c.start,e.start);l.start.row==f&&(l.start.column+=g),l.end.row==f&&(l.end.column+=g),b.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(a,b,c){return this.$getIndent(b)},this.checkOutdent=function(a,b,c){return!1},this.autoOutdent=function(a,b,c){},this.$getIndent=function(a){return a.match(/^\s*/)[0]},this.createWorker=function(a){return null},this.createModeDelegates=function(a){this.$embeds=[],this.$modes={};for(var b in a)if(a[b]){var c=a[b],e=c.prototype.$id,f=d.$modes[e];f||(d.$modes[e]=f=new c),d.$modes[b]||(d.$modes[b]=f),this.$embeds.push(b),this.$modes[b]=f}for(var g=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],b=0;b<g.length;b++)!function(a){var c=g[b],d=a[c];a[g[b]]=function(){return this.$delegator(c,arguments,d)}}(this)},this.$delegator=function(a,b,c){var d=b[0]||"start";if("string"!=typeof d){if(Array.isArray(d[2])){var e=d[2][d[2].length-1],f=this.$modes[e];if(f)return f[a].apply(f,[d[1]].concat([].slice.call(b,1)))}d=d[0]||"start"}for(var g=0;g<this.$embeds.length;g++)if(this.$modes[this.$embeds[g]]){var h=d.split(this.$embeds[g]);if(!h[0]&&h[1]){b[0]=h[1];var f=this.$modes[this.$embeds[g]];return f[a].apply(f,b)}}var i=c.apply(this,b);return c?i:void 0},this.transformAction=function(a,b,c,d,e){if(this.$behaviour){var f=this.$behaviour.getBehaviours();for(var g in f)if(f[g][b]){var h=f[g][b].apply(this,arguments);if(h)return h}}},this.getKeywords=function(a){if(!this.completionKeywords){var b=this.$tokenizer.rules,c=[];for(var d in b)for(var e=b[d],f=0,g=e.length;f<g;f++)if("string"==typeof e[f].token)/keyword|support|storage/.test(e[f].token)&&c.push(e[f].regex);else if("object"==typeof e[f].token)for(var h=0,i=e[f].token.length;h<i;h++)if(/keyword|support|storage/.test(e[f].token[h])){var d=e[f].regex.match(/\(.+?\)/g)[h];c.push(d.substr(1,d.length-2))}this.completionKeywords=c}return a?c.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(a,b,c,d){return(this.$keywordList||this.$createKeywordList()).map(function(a){return{name:a,value:a,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(l.prototype),b.Mode=l}),define("ace/apply_delta",["require","exports","module"],function(a,b,c){"use strict";function d(a,b){throw console.log("Invalid Delta:",a),"Invalid Delta: "+b}function e(a,b){return b.row>=0&&b.row<a.length&&b.column>=0&&b.column<=a[b.row].length}b.applyDelta=function(a,b,c){var d=b.start.row,e=b.start.column,f=a[d]||"";switch(b.action){case"insert":if(1===b.lines.length)a[d]=f.substring(0,e)+b.lines[0]+f.substring(e);else{var g=[d,1].concat(b.lines);a.splice.apply(a,g),a[d]=f.substring(0,e)+a[d],a[d+b.lines.length-1]+=f.substring(e)}break;case"remove":var h=b.end.column,i=b.end.row;d===i?a[d]=f.substring(0,e)+f.substring(h):a.splice(d,i-d+1,f.substring(0,e)+a[i].substring(h))}}}),define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./lib/event_emitter").EventEmitter,f=b.Anchor=function(a,b,c){this.$onChange=this.onChange.bind(this),this.attach(a),void 0===c?this.setPosition(b.row,b.column):this.setPosition(b,c)};(function(){function a(a,b,c){var d=c?a.column<=b.column:a.column<b.column;return a.row<b.row||a.row==b.row&&d}function b(b,c,d){var e="insert"==b.action,f=(e?1:-1)*(b.end.row-b.start.row),g=(e?1:-1)*(b.end.column-b.start.column),h=b.start,i=e?h:b.end;return a(c,h,d)?{row:c.row,column:c.column}:a(i,c,!d)?{row:c.row+f,column:c.column+(c.row==i.row?g:0)}:{row:h.row,column:h.column}}d.implement(this,e),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(a){if(!(a.start.row==a.end.row&&a.start.row!=this.row||a.start.row>this.row)){var c=b(a,{row:this.row,column:this.column},this.$insertRight);this.setPosition(c.row,c.column,!0)}},this.setPosition=function(a,b,c){var d;if(d=c?{row:a,column:b}:this.$clipPositionToDocument(a,b),this.row!=d.row||this.column!=d.column){var e={row:this.row,column:this.column};this.row=d.row,this.column=d.column,this._signal("change",{old:e,value:d})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(a){this.document=a||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(a,b){var c={};return a>=this.document.getLength()?(c.row=Math.max(0,this.document.getLength()-1),c.column=this.document.getLine(c.row).length):a<0?(c.row=0,c.column=0):(c.row=a,c.column=Math.min(this.document.getLine(c.row).length,Math.max(0,b))),b<0&&(c.column=0),c}}).call(f.prototype)}),define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./apply_delta").applyDelta,f=a("./lib/event_emitter").EventEmitter,g=a("./range").Range,h=a("./anchor").Anchor,i=function(a){this.$lines=[""],0===a.length?this.$lines=[""]:Array.isArray(a)?this.insertMergedLines({row:0,column:0},a):this.insert({row:0,column:0},a)};(function(){d.implement(this,f),this.setValue=function(a){var b=this.getLength()-1;this.remove(new g(0,0,b,this.getLine(b).length)),this.insert({row:0,column:0},a||"")},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(a,b){return new h(this,a,b)},0==="aaa".split(/a/).length?this.$split=function(a){return a.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(a){return a.split(/\r\n|\r|\n/)},this.$detectNewLine=function(a){var b=a.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=b?b[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(a){this.$newLineMode!==a&&(this.$newLineMode=a,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(a){return"\r\n"==a||"\r"==a||"\n"==a},this.getLine=function(a){return this.$lines[a]||""},this.getLines=function(a,b){return this.$lines.slice(a,b+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(a){return this.getLinesForRange(a).join(this.getNewLineCharacter())},this.getLinesForRange=function(a){var b;if(a.start.row===a.end.row)b=[this.getLine(a.start.row).substring(a.start.column,a.end.column)];else{b=this.getLines(a.start.row,a.end.row),b[0]=(b[0]||"").substring(a.start.column);var c=b.length-1;a.end.row-a.start.row==c&&(b[c]=b[c].substring(0,a.end.column))}return b},this.insertLines=function(a,b){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(a,b)},this.removeLines=function(a,b){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(a,b)},this.insertNewLine=function(a){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(a,["",""])},this.insert=function(a,b){return this.getLength()<=1&&this.$detectNewLine(b),this.insertMergedLines(a,this.$split(b))},this.insertInLine=function(a,b){var c=this.clippedPos(a.row,a.column),d=this.pos(a.row,a.column+b.length);return this.applyDelta({start:c,end:d,action:"insert",lines:[b]},!0),this.clonePos(d)},this.clippedPos=function(a,b){var c=this.getLength();void 0===a?a=c:a<0?a=0:a>=c&&(a=c-1,b=void 0);var d=this.getLine(a);return void 0==b&&(b=d.length),b=Math.min(Math.max(b,0),d.length),{row:a,column:b}},this.clonePos=function(a){return{row:a.row,column:a.column}},this.pos=function(a,b){return{row:a,column:b}},this.$clipPosition=function(a){var b=this.getLength();return a.row>=b?(a.row=Math.max(0,b-1),a.column=this.getLine(b-1).length):(a.row=Math.max(0,a.row),a.column=Math.min(Math.max(a.column,0),this.getLine(a.row).length)),a},this.insertFullLines=function(a,b){a=Math.min(Math.max(a,0),this.getLength());var c=0;a<this.getLength()?(b=b.concat([""]),c=0):(b=[""].concat(b),a--,c=this.$lines[a].length),this.insertMergedLines({row:a,column:c},b)},this.insertMergedLines=function(a,b){var c=this.clippedPos(a.row,a.column),d={row:c.row+b.length-1,column:(1==b.length?c.column:0)+b[b.length-1].length};return this.applyDelta({start:c,end:d,action:"insert",lines:b}),this.clonePos(d)},this.remove=function(a){var b=this.clippedPos(a.start.row,a.start.column),c=this.clippedPos(a.end.row,a.end.column);return this.applyDelta({start:b,end:c,action:"remove",lines:this.getLinesForRange({start:b,end:c})}),this.clonePos(b)},this.removeInLine=function(a,b,c){var d=this.clippedPos(a,b),e=this.clippedPos(a,c);return this.applyDelta({start:d,end:e,action:"remove",lines:this.getLinesForRange({start:d,end:e})},!0),this.clonePos(d)},this.removeFullLines=function(a,b){a=Math.min(Math.max(0,a),this.getLength()-1),b=Math.min(Math.max(0,b),this.getLength()-1);var c=b==this.getLength()-1&&a>0,d=b<this.getLength()-1,e=c?a-1:a,f=c?this.getLine(e).length:0,h=d?b+1:b,i=d?0:this.getLine(h).length,j=new g(e,f,h,i),k=this.$lines.slice(a,b+1);return this.applyDelta({start:j.start,end:j.end,action:"remove",lines:this.getLinesForRange(j)}),k},this.removeNewLine=function(a){a<this.getLength()-1&&a>=0&&this.applyDelta({start:this.pos(a,this.getLine(a).length),end:this.pos(a+1,0),action:"remove",lines:["",""]})},this.replace=function(a,b){if(a instanceof g||(a=g.fromPoints(a.start,a.end)),0===b.length&&a.isEmpty())return a.start;if(b==this.getTextRange(a))return a.end;this.remove(a);return b?this.insert(a.start,b):a.start},this.applyDeltas=function(a){for(var b=0;b<a.length;b++)this.applyDelta(a[b])},this.revertDeltas=function(a){for(var b=a.length-1;b>=0;b--)this.revertDelta(a[b])},this.applyDelta=function(a,b){var c="insert"==a.action;(c?a.lines.length<=1&&!a.lines[0]:!g.comparePoints(a.start,a.end))||(c&&a.lines.length>2e4?this.$splitAndapplyLargeDelta(a,2e4):(e(this.$lines,a,b),this._signal("change",a)))},this.$safeApplyDelta=function(a){var b=this.$lines.length;("remove"==a.action&&a.start.row<b&&a.end.row<b||"insert"==a.action&&a.start.row<=b)&&this.applyDelta(a)},this.$splitAndapplyLargeDelta=function(a,b){for(var c=a.lines,d=c.length-b+1,e=a.start.row,f=a.start.column,g=0,h=0;g<d;g=h){h+=b-1;var i=c.slice(g,h);i.push(""),this.applyDelta({start:this.pos(e+g,f),end:this.pos(e+h,f=0),action:a.action,lines:i},!0)}a.lines=c.slice(g),a.start.row=e+g,a.start.column=f,this.applyDelta(a,!0)},this.revertDelta=function(a){this.$safeApplyDelta({start:this.clonePos(a.start),end:this.clonePos(a.end),action:"insert"==a.action?"remove":"insert",lines:a.lines.slice()})},this.indexToPosition=function(a,b){for(var c=this.$lines||this.getAllLines(),d=this.getNewLineCharacter().length,e=b||0,f=c.length;e<f;e++)if((a-=c[e].length+d)<0)return{row:e,column:a+c[e].length+d};return{row:f-1,column:a+c[f-1].length+d}},this.positionToIndex=function(a,b){for(var c=this.$lines||this.getAllLines(),d=this.getNewLineCharacter().length,e=0,f=Math.min(a.row,c.length),g=b||0;g<f;++g)e+=c[g].length+d;return e+a.column}}).call(i.prototype),b.Document=i}),define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./lib/event_emitter").EventEmitter,f=function(a,b){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=a;var c=this;this.$worker=function(){if(c.running){for(var a=new Date,b=c.currentLine,d=-1,e=c.doc,f=b;c.lines[b];)b++;var g=e.getLength(),h=0;for(c.running=!1;b<g;){c.$tokenizeRow(b),d=b;do{b++}while(c.lines[b]);if(++h%5==0&&new Date-a>20){c.running=setTimeout(c.$worker,20);break}}c.currentLine=b,-1==d&&(d=b),f<=d&&c.fireUpdateEvent(f,d)}}};(function(){d.implement(this,e),this.setTokenizer=function(a){this.tokenizer=a,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(a){this.doc=a,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(a,b){var c={first:a,last:b};this._signal("update",{data:c})},this.start=function(a){this.currentLine=Math.min(a||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(a){var b=a.start.row,c=a.end.row-b;if(0===c)this.lines[b]=null;else if("remove"==a.action)this.lines.splice(b,c+1,null),this.states.splice(b,c+1,null);else{var d=Array(c+1);d.unshift(b,1),this.lines.splice.apply(this.lines,d),this.states.splice.apply(this.states,d)}this.currentLine=Math.min(b,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(a){return this.lines[a]||this.$tokenizeRow(a)},this.getState=function(a){return this.currentLine==a&&this.$tokenizeRow(a),this.states[a]||"start"},this.$tokenizeRow=function(a){var b=this.doc.getLine(a),c=this.states[a-1],d=this.tokenizer.getLineTokens(b,c,a);return this.states[a]+""!=d.state+""?(this.states[a]=d.state,this.lines[a+1]=null,this.currentLine>a+1&&(this.currentLine=a+1)):this.currentLine==a&&(this.currentLine=a+1),this.lines[a]=d.tokens},this.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()}}).call(f.prototype),b.BackgroundTokenizer=f}),define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(a,b,c){"use strict";var d=a("./lib/lang"),e=(a("./lib/oop"),a("./range").Range),f=function(a,b,c){this.setRegexp(a),this.clazz=b,this.type=c||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(a){this.regExp+""!=a+""&&(this.regExp=a,this.cache=[])},this.update=function(a,b,c,f){if(this.regExp)for(var g=f.firstRow,h=f.lastRow,i={},j=g;j<=h;j++){var k=this.cache[j];null==k&&(k=d.getMatchOffsets(c.getLine(j),this.regExp),k.length>this.MAX_RANGES&&(k=k.slice(0,this.MAX_RANGES)),k=k.map(function(a){return new e(j,a.offset,j,a.offset+a.length)}),this.cache[j]=k.length?k:"");for(var l=k.length;l--;){var m=k[l].toScreenRange(c),n=m.toString();i[n]||(i[n]=!0,b.drawSingleLineMarker(a,m,this.clazz,f))}}}}).call(f.prototype),b.SearchHighlight=f}),define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(a,b,c){"use strict";function d(a,b){this.foldData=a,Array.isArray(b)?this.folds=b:b=this.folds=[b];var c=b[b.length-1];this.range=new e(b[0].start.row,b[0].start.column,c.end.row,c.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(a){a.setFoldLine(this)},this)}var e=a("../range").Range;(function(){this.shiftRow=function(a){this.start.row+=a,this.end.row+=a,this.folds.forEach(function(b){b.start.row+=a,b.end.row+=a})},this.addFold=function(a){if(a.sameRow){if(a.start.row<this.startRow||a.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(a),this.folds.sort(function(a,b){return-a.range.compareEnd(b.start.row,b.start.column)}),this.range.compareEnd(a.start.row,a.start.column)>0?(this.end.row=a.end.row,this.end.column=a.end.column):this.range.compareStart(a.end.row,a.end.column)<0&&(this.start.row=a.start.row,this.start.column=a.start.column)}else if(a.start.row==this.end.row)this.folds.push(a),this.end.row=a.end.row,this.end.column=a.end.column;else{if(a.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(a),this.start.row=a.start.row,this.start.column=a.start.column}a.foldLine=this},this.containsRow=function(a){return a>=this.start.row&&a<=this.end.row},this.walk=function(a,b,c){var d,e,f,g=0,h=this.folds,i=!0;null==b&&(b=this.end.row,c=this.end.column);for(var j=0;j<h.length;j++){if(d=h[j],-1==(e=d.range.compareStart(b,c)))return void a(null,b,c,g,i);if(f=a(null,d.start.row,d.start.column,g,i),(f=!f&&a(d.placeholder,d.start.row,d.start.column,g))||0===e)return;i=!d.sameRow,g=d.end.column}a(null,b,c,g,i)},this.getNextFoldTo=function(a,b){for(var c,d,e=0;e<this.folds.length;e++){if(c=this.folds[e],-1==(d=c.range.compareEnd(a,b)))return{fold:c,kind:"after"};if(0===d)return{fold:c,kind:"inside"}}return null},this.addRemoveChars=function(a,b,c){var d,e,f=this.getNextFoldTo(a,b);if(f)if(d=f.fold,"inside"==f.kind&&d.start.column!=b&&d.start.row!=a)window.console&&window.console.log(a,b,d);else if(d.start.row==a){e=this.folds;var g=e.indexOf(d);for(0===g&&(this.start.column+=c),g;g<e.length;g++){if(d=e[g],d.start.column+=c,!d.sameRow)return;d.end.column+=c}this.end.column+=c}},this.split=function(a,b){var c=this.getNextFoldTo(a,b);if(!c||"inside"==c.kind)return null;var e=c.fold,f=this.folds,g=this.foldData,h=f.indexOf(e),i=f[h-1];this.end.row=i.end.row,this.end.column=i.end.column,f=f.splice(h,f.length-h);var j=new d(g,f);return g.splice(g.indexOf(this)+1,0,j),j},this.merge=function(a){for(var b=a.folds,c=0;c<b.length;c++)this.addFold(b[c]);var d=this.foldData;d.splice(d.indexOf(a),1)},this.toString=function(){var a=[this.range.toString()+": ["];return this.folds.forEach(function(b){a.push("  "+b.toString())}),a.push("]"),a.join("\n")},this.idxToPosition=function(a){for(var b=0,c=0;c<this.folds.length;c++){var d=this.folds[c];if((a-=d.start.column-b)<0)return{row:d.start.row,column:d.start.column+a};if((a-=d.placeholder.length)<0)return d.start;b=d.end.column}return{row:this.end.row,column:this.end.column+a}}}).call(d.prototype),b.FoldLine=d}),define("ace/range_list",["require","exports","module","ace/range"],function(a,b,c){"use strict";var d=a("./range").Range,e=d.comparePoints,f=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=e,this.pointIndex=function(a,b,c){for(var d=this.ranges,f=c||0;f<d.length;f++){var g=d[f],h=e(a,g.end);if(!(h>0)){var i=e(a,g.start);return 0===h?b&&0!==i?-f-2:f:i>0||0===i&&!b?f:-f-1}}return-f-1},this.add=function(a){var b=!a.isEmpty(),c=this.pointIndex(a.start,b);c<0&&(c=-c-1);var d=this.pointIndex(a.end,b,c);return d<0?d=-d-1:d++,this.ranges.splice(c,d-c,a)},this.addList=function(a){for(var b=[],c=a.length;c--;)b.push.apply(b,this.add(a[c]));return b},this.substractPoint=function(a){var b=this.pointIndex(a);if(b>=0)return this.ranges.splice(b,1)},this.merge=function(){var a=[],b=this.ranges;b=b.sort(function(a,b){return e(a.start,b.start)});for(var c,d=b[0],f=1;f<b.length;f++){c=d,d=b[f];var g=e(c.end,d.start);g<0||(0!=g||c.isEmpty()||d.isEmpty())&&(e(c.end,d.end)<0&&(c.end.row=d.end.row,c.end.column=d.end.column),b.splice(f,1),a.push(d),d=c,f--)}return this.ranges=b,a},this.contains=function(a,b){return this.pointIndex({row:a,column:b})>=0},this.containsPoint=function(a){return this.pointIndex(a)>=0},this.rangeAtPoint=function(a){var b=this.pointIndex(a);if(b>=0)return this.ranges[b]},this.clipRows=function(a,b){var c=this.ranges;if(c[0].start.row>b||c[c.length-1].start.row<a)return[];var d=this.pointIndex({row:a,column:0});d<0&&(d=-d-1);var e=this.pointIndex({row:b,column:0},d);e<0&&(e=-e-1);for(var f=[],g=d;g<e;g++)f.push(c[g]);return f},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(a){this.session&&this.detach(),this.session=a,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(a){for(var b=a.start,c=a.end,d=b.row,e=c.row,f=this.ranges,g=0,h=f.length;g<h;g++){var i=f[g];if(i.end.row>=d)break}if("insert"==a.action)for(var j=e-d,k=-b.column+c.column;g<h;g++){var i=f[g];if(i.start.row>d)break;if(i.start.row==d&&i.start.column>=b.column&&(i.start.column==b.column&&this.$bias<=0||(i.start.column+=k,i.start.row+=j)),i.end.row==d&&i.end.column>=b.column){if(i.end.column==b.column&&this.$bias<0)continue;i.end.column==b.column&&k>0&&g<h-1&&i.end.column>i.start.column&&i.end.column==f[g+1].start.column&&(i.end.column-=k),i.end.column+=k,i.end.row+=j}}else for(var j=d-e,k=b.column-c.column;g<h;g++){var i=f[g];if(i.start.row>e)break;i.end.row<e&&(d<i.end.row||d==i.end.row&&b.column<i.end.column)?(i.end.row=d,i.end.column=b.column):i.end.row==e?i.end.column<=c.column?(j||i.end.column>b.column)&&(i.end.column=b.column,i.end.row=b.row):(i.end.column+=k,i.end.row+=j):i.end.row>e&&(i.end.row+=j),i.start.row<e&&(d<i.start.row||d==i.start.row&&b.column<i.start.column)?(i.start.row=d,i.start.column=b.column):i.start.row==e?i.start.column<=c.column?(j||i.start.column>b.column)&&(i.start.column=b.column,i.start.row=b.row):(i.start.column+=k,i.start.row+=j):i.start.row>e&&(i.start.row+=j)}if(0!=j&&g<h)for(;g<h;g++){var i=f[g];i.start.row+=j,i.end.row+=j}}}).call(f.prototype),b.RangeList=f}),define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(a,b,c){"use strict";function d(a,b){a.row-=b.row,0==a.row&&(a.column-=b.column)}function e(a,b){d(a.start,b),d(a.end,b)}function f(a,b){0==a.row&&(a.column+=b.column),a.row+=b.row}function g(a,b){f(a.start,b),f(a.end,b)}var h=a("../range_list").RangeList,i=a("../lib/oop"),j=b.Fold=function(a,b){this.foldLine=null,this.placeholder=b,this.range=a,this.start=a.start,this.end=a.end,this.sameRow=a.start.row==a.end.row,this.subFolds=this.ranges=[]};i.inherits(j,h),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(a){this.foldLine=a,this.subFolds.forEach(function(b){b.setFoldLine(a)})},this.clone=function(){var a=this.range.clone(),b=new j(a,this.placeholder);return this.subFolds.forEach(function(a){b.subFolds.push(a.clone())}),b.collapseChildren=this.collapseChildren,b},this.addSubFold=function(a){if(!this.range.isEqual(a)){e(a,this.start);for(var b=a.start.row,c=a.start.column,d=0,f=-1;d<this.subFolds.length&&1==(f=this.subFolds[d].range.compare(b,c));d++);var g=this.subFolds[d],h=0;if(0==f){if(g.range.containsRange(a))return g.addSubFold(a);h=1}for(var b=a.range.end.row,c=a.range.end.column,i=d,f=-1;i<this.subFolds.length&&1==(f=this.subFolds[i].range.compare(b,c));i++);0==f&&i++;for(var j=this.subFolds.splice(d,i-d,a),k=0==f?j.length-1:j.length,l=h;l<k;l++)a.addSubFold(j[l]);return a.setFoldLine(this.foldLine),a}},this.restoreRange=function(a){return g(a,this.start)}}.call(j.prototype)}),define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(a,b,c){"use strict";function d(){this.getFoldAt=function(a,b,c){var d=this.getFoldLine(a);if(!d)return null;for(var e=d.folds,f=0;f<e.length;f++){var g=e[f].range;if(g.contains(a,b)){if(1==c&&g.isEnd(a,b)&&!g.isEmpty())continue;if(-1==c&&g.isStart(a,b)&&!g.isEmpty())continue;return e[f]}}},this.getFoldsInRange=function(a){var b=a.start,c=a.end,d=this.$foldData,e=[];b.column+=1,c.column-=1;for(var f=0;f<d.length;f++){var g=d[f].range.compareRange(a);if(2!=g){if(-2==g)break;for(var h=d[f].folds,i=0;i<h.length;i++){var j=h[i];if(-2==(g=j.range.compareRange(a)))break;if(2!=g){if(42==g)break;e.push(j)}}}}return b.column-=1,c.column+=1,e},this.getFoldsInRangeList=function(a){if(Array.isArray(a)){var b=[];a.forEach(function(a){b=b.concat(this.getFoldsInRange(a))},this)}else var b=this.getFoldsInRange(a);return b},this.getAllFolds=function(){for(var a=[],b=this.$foldData,c=0;c<b.length;c++)for(var d=0;d<b[c].folds.length;d++)a.push(b[c].folds[d]);return a},this.getFoldStringAt=function(a,b,c,d){if(!(d=d||this.getFoldLine(a)))return null;for(var e,f,g={end:{column:0}},h=0;h<d.folds.length;h++){f=d.folds[h];var i=f.range.compareEnd(a,b);if(-1==i){e=this.getLine(f.start.row).substring(g.end.column,f.start.column);break}if(0===i)return null;g=f}return e||(e=this.getLine(f.start.row).substring(g.end.column)),-1==c?e.substring(0,b-g.end.column):1==c?e.substring(b-g.end.column):e},this.getFoldLine=function(a,b){var c=this.$foldData,d=0;for(b&&(d=c.indexOf(b)),-1==d&&(d=0),d;d<c.length;d++){var e=c[d];if(e.start.row<=a&&e.end.row>=a)return e;if(e.end.row>a)return null}return null},this.getNextFoldLine=function(a,b){var c=this.$foldData,d=0;for(b&&(d=c.indexOf(b)),-1==d&&(d=0),d;d<c.length;d++){var e=c[d];if(e.end.row>=a)return e}return null},this.getFoldedRowCount=function(a,b){for(var c=this.$foldData,d=b-a+1,e=0;e<c.length;e++){var f=c[e],g=f.end.row,h=f.start.row;if(g>=b){h<b&&(h>=a?d-=b-h:d=0);break}g>=a&&(d-=h>=a?g-h:g-a+1)}return d},this.$addFoldLine=function(a){return this.$foldData.push(a),this.$foldData.sort(function(a,b){return a.start.row-b.start.row}),a},this.addFold=function(a,b){var c,d=this.$foldData,e=!1;a instanceof g?c=a:(c=new g(b,a),c.collapseChildren=b.collapseChildren),this.$clipRangeToDocument(c.range);var h=c.start.row,i=c.start.column,j=c.end.row,k=c.end.column,l=this.getFoldAt(h,i,1),m=this.getFoldAt(j,k,-1);if(l&&m==l)return l.addSubFold(c);l&&!l.range.isStart(h,i)&&this.removeFold(l),m&&!m.range.isEnd(j,k)&&this.removeFold(m);var n=this.getFoldsInRange(c.range);n.length>0&&(this.removeFolds(n),c.collapseChildren||n.forEach(function(a){c.addSubFold(a)}));for(var o=0;o<d.length;o++){var p=d[o];if(j==p.start.row){p.addFold(c),e=!0;break}if(h==p.end.row){if(p.addFold(c),e=!0,!c.sameRow){var q=d[o+1];if(q&&q.start.row==j){p.merge(q);break}}break}if(j<=p.start.row)break}return e||(p=this.$addFoldLine(new f(this.$foldData,c))),this.$useWrapMode?this.$updateWrapData(p.start.row,p.start.row):this.$updateRowLengthCache(p.start.row,p.start.row),this.$modified=!0,this._signal("changeFold",{data:c,action:"add"}),c},this.addFolds=function(a){a.forEach(function(a){this.addFold(a)},this)},this.removeFold=function(a){var b=a.foldLine,c=b.start.row,d=b.end.row,e=this.$foldData,f=b.folds;if(1==f.length)e.splice(e.indexOf(b),1);else if(b.range.isEnd(a.end.row,a.end.column))f.pop(),b.end.row=f[f.length-1].end.row,b.end.column=f[f.length-1].end.column;else if(b.range.isStart(a.start.row,a.start.column))f.shift(),b.start.row=f[0].start.row,b.start.column=f[0].start.column;else if(a.sameRow)f.splice(f.indexOf(a),1);else{var g=b.split(a.start.row,a.start.column);f=g.folds,f.shift(),g.start.row=f[0].start.row,g.start.column=f[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(c,d):this.$updateRowLengthCache(c,d)),this.$modified=!0,this._signal("changeFold",{data:a,action:"remove"})},this.removeFolds=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);b.forEach(function(a){this.removeFold(a)},this),this.$modified=!0},this.expandFold=function(a){this.removeFold(a),a.subFolds.forEach(function(b){a.restoreRange(b),this.addFold(b)},this),a.collapseChildren>0&&this.foldAll(a.start.row+1,a.end.row,a.collapseChildren-1),a.subFolds=[]},this.expandFolds=function(a){a.forEach(function(a){this.expandFold(a)},this)},this.unfold=function(a,b){var c,d;if(null==a)c=new e(0,0,this.getLength(),0),null==b&&(b=!0);else if("number"==typeof a)c=new e(a,0,a,this.getLine(a).length);else if("row"in a)c=e.fromPoints(a,a);else{if(Array.isArray(a))return d=[],a.forEach(function(a){d=d.concat(this.unfold(a))},this),d;c=a}d=this.getFoldsInRangeList(c);for(var f=d;1==d.length&&e.comparePoints(d[0].start,c.start)<0&&e.comparePoints(d[0].end,c.end)>0;)this.expandFolds(d),d=this.getFoldsInRangeList(c);if(0!=b?this.removeFolds(d):this.expandFolds(d),f.length)return f},this.isRowFolded=function(a,b){return!!this.getFoldLine(a,b)},this.getRowFoldEnd=function(a,b){var c=this.getFoldLine(a,b);return c?c.end.row:a},this.getRowFoldStart=function(a,b){var c=this.getFoldLine(a,b);return c?c.start.row:a},this.getFoldDisplayLine=function(a,b,c,d,e){null==d&&(d=a.start.row),null==e&&(e=0),null==b&&(b=a.end.row),null==c&&(c=this.getLine(b).length);var f=this.doc,g="";return a.walk(function(a,b,c,h){if(!(b<d)){if(b==d){if(c<e)return;h=Math.max(e,h)}g+=null!=a?a:f.getLine(b).substring(h,c)}},b,c),g},this.getDisplayLine=function(a,b,c,d){var e=this.getFoldLine(a);if(!e){var f;return f=this.doc.getLine(a),f.substring(d||0,b||f.length)}return this.getFoldDisplayLine(e,a,b,c,d)},this.$cloneFoldData=function(){var a=[];return a=this.$foldData.map(function(b){var c=b.folds.map(function(a){return a.clone()});return new f(a,c)})},this.toggleFold=function(a){var b,c,d=this.selection,e=d.getRange();if(e.isEmpty()){var f=e.start;if(b=this.getFoldAt(f.row,f.column))return void this.expandFold(b);(c=this.findMatchingBracket(f))?1==e.comparePoint(c)?e.end=c:(e.start=c,e.start.column++,e.end.column--):(c=this.findMatchingBracket({row:f.row,column:f.column+1}))?(1==e.comparePoint(c)?e.end=c:e.start=c,e.start.column++):e=this.getCommentFoldRange(f.row,f.column)||e}else{var g=this.getFoldsInRange(e);if(a&&g.length)return void this.expandFolds(g);1==g.length&&(b=g[0])}if(b||(b=this.getFoldAt(e.start.row,e.start.column)),b&&b.range.toString()==e.toString())return void this.expandFold(b);var h="...";if(!e.isMultiLine()){if(h=this.getTextRange(e),h.length<4)return;h=h.trim().substring(0,2)+".."}this.addFold(h,e)},this.getCommentFoldRange=function(a,b,c){var d=new h(this,a,b),f=d.getCurrentToken(),g=f&&f.type;if(f&&/^comment|string/.test(g)){"comment"==(g=g.match(/comment|string/)[0])&&(g+="|doc-start");var i=new RegExp(g),j=new e;if(1!=c){do{f=d.stepBackward()}while(f&&i.test(f.type)&&!/^comment.end/.test(f.type));f=d.stepForward()}if(j.start.row=d.getCurrentTokenRow(),j.start.column=d.getCurrentTokenColumn()+(/^comment.start/.test(f.type)?f.value.length:2),d=new h(this,a,b),-1!=c){var k=-1;do{if(f=d.stepForward(),-1==k){var l=this.getState(d.$row);i.test(l)||(k=d.$row)}else if(d.$row>k)break}while(f&&i.test(f.type)&&!/^comment.start/.test(f.type));f=d.stepBackward()}else f=d.getCurrentToken();return j.end.row=d.getCurrentTokenRow(),j.end.column=d.getCurrentTokenColumn(),/^comment.end/.test(f.type)||(j.end.column+=f.value.length-2),j}},this.foldAll=function(a,b,c,d){void 0==c&&(c=1e5);var e=this.foldWidgets;if(e){b=b||this.getLength(),a=a||0;for(var f=a;f<b;f++)if(null==e[f]&&(e[f]=this.getFoldWidget(f)),"start"==e[f]&&(!d||d(f))){var g=this.getFoldWidgetRange(f);g&&g.isMultiLine()&&g.end.row<=b&&g.start.row>=a&&(f=g.end.row,g.collapseChildren=c,this.addFold("...",g))}}},this.foldToLevel=function(a){for(this.foldAll();a-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var a=this;this.foldAll(null,null,null,function(b){for(var c=a.getTokens(b),d=0;d<c.length;d++){var e=c[d];if("text"!=e.type||!/^\s+$/.test(e.value))return!!/comment/.test(e.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(a){if(!this.$foldStyles[a])throw new Error("invalid fold style: "+a+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=a){this.$foldStyle=a,"manual"==a&&this.unfold();var b=this.$foldMode;this.$setFolding(null),this.$setFolding(b)}},this.$setFolding=function(a){if(this.$foldMode!=a){if(this.$foldMode=a,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!a||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=a.getFoldWidget.bind(a,this,this.$foldStyle),this.getFoldWidgetRange=a.getFoldWidgetRange.bind(a,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(a,b){var c=this.foldWidgets;if(!c||b&&c[a])return{};for(var d,e=a-1;e>=0;){var f=c[e];if(null==f&&(f=c[e]=this.getFoldWidget(e)),"start"==f){var g=this.getFoldWidgetRange(e);if(d||(d=g),g&&g.end.row>=a)break}e--}return{range:-1!==e&&g,firstRange:d}},this.onFoldWidgetClick=function(a,b){b=b.domEvent;var c={children:b.shiftKey,all:b.ctrlKey||b.metaKey,siblings:b.altKey};if(!this.$toggleFoldWidget(a,c)){var d=b.target||b.srcElement;d&&/ace_fold-widget/.test(d.className)&&(d.className+=" ace_invalid")}},this.$toggleFoldWidget=function(a,b){if(this.getFoldWidget){var c=this.getFoldWidget(a),d=this.getLine(a),e="end"===c?-1:1,f=this.getFoldAt(a,-1===e?0:d.length,e);if(f)return b.children||b.all?this.removeFold(f):this.expandFold(f),f;var g=this.getFoldWidgetRange(a,!0);if(g&&!g.isMultiLine()&&(f=this.getFoldAt(g.start.row,g.start.column,1))&&g.isEqual(f.range))return this.removeFold(f),f;if(b.siblings){var h=this.getParentFoldRangeData(a);if(h.range)var i=h.range.start.row+1,j=h.range.end.row;this.foldAll(i,j,b.all?1e4:0)}else b.children?(j=g?g.end.row:this.getLength(),this.foldAll(a+1,j,b.all?1e4:0)):g&&(b.all&&(g.collapseChildren=1e4),this.addFold("...",g));return g}},this.toggleFoldWidget=function(a){var b=this.selection.getCursor().row;b=this.getRowFoldStart(b);var c=this.$toggleFoldWidget(b,{});if(!c){var d=this.getParentFoldRangeData(b,!0);if(c=d.range||d.firstRange){b=c.start.row;var e=this.getFoldAt(b,this.getLine(b).length,1);e?this.removeFold(e):this.addFold("...",c)}}},this.updateFoldWidgets=function(a){var b=a.start.row,c=a.end.row-b;if(0===c)this.foldWidgets[b]=null;else if("remove"==a.action)this.foldWidgets.splice(b,c+1,null);else{var d=Array(c+1);d.unshift(b,1),this.foldWidgets.splice.apply(this.foldWidgets,d)}},this.tokenizerUpdateFoldWidgets=function(a){var b=a.data;b.first!=b.last&&this.foldWidgets.length>b.first&&this.foldWidgets.splice(b.first,this.foldWidgets.length)}}var e=a("../range").Range,f=a("./fold_line").FoldLine,g=a("./fold").Fold,h=a("../token_iterator").TokenIterator;b.Folding=d}),define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(a,b,c){"use strict";function d(){this.findMatchingBracket=function(a,b){if(0==a.column)return null;var c=b||this.getLine(a.row).charAt(a.column-1);if(""==c)return null;var d=c.match(/([\(\[\{])|([\)\]\}])/);return d?d[1]?this.$findClosingBracket(d[1],a):this.$findOpeningBracket(d[2],a):null},this.getBracketRange=function(a){var b,c=this.getLine(a.row),d=!0,e=c.charAt(a.column-1),g=e&&e.match(/([\(\[\{])|([\)\]\}])/);if(g||(e=c.charAt(a.column),a={row:a.row,column:a.column+1},g=e&&e.match(/([\(\[\{])|([\)\]\}])/),d=!1),!g)return null;if(g[1]){var h=this.$findClosingBracket(g[1],a);if(!h)return null;b=f.fromPoints(a,h),d||(b.end.column++,b.start.column--),b.cursor=b.end}else{var h=this.$findOpeningBracket(g[2],a);if(!h)return null;b=f.fromPoints(h,a),d||(b.start.column++,b.end.column--),b.cursor=b.start}return b},this.getMatchingBracketRanges=function(a){var b=this.getLine(a.row),c=b.charAt(a.column-1),d=c&&c.match(/([\(\[\{])|([\)\]\}])/);if(d||(c=b.charAt(a.column),a={row:a.row,column:a.column+1},d=c&&c.match(/([\(\[\{])|([\)\]\}])/)),!d)return null;var e=new f(a.row,a.column-1,a.row,a.column),g=d[1]?this.$findClosingBracket(d[1],a):this.$findOpeningBracket(d[2],a);return g?[e,new f(g.row,g.column,g.row,g.column+1)]:[e]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(a,b,c){var d=this.$brackets[a],f=1,g=new e(this,b.row,b.column),h=g.getCurrentToken();if(h||(h=g.stepForward()),h){c||(c=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var i=b.column-g.getCurrentTokenColumn()-2,j=h.value;;){for(;i>=0;){var k=j.charAt(i);if(k==d){if(0==(f-=1))return{row:g.getCurrentTokenRow(),column:i+g.getCurrentTokenColumn()}}else k==a&&(f+=1);i-=1}do{h=g.stepBackward()}while(h&&!c.test(h.type));if(null==h)break;j=h.value,i=j.length-1}return null}},this.$findClosingBracket=function(a,b,c){var d=this.$brackets[a],f=1,g=new e(this,b.row,b.column),h=g.getCurrentToken();if(h||(h=g.stepForward()),h){c||(c=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var i=b.column-g.getCurrentTokenColumn();;){for(var j=h.value,k=j.length;i<k;){var l=j.charAt(i);if(l==d){if(0==(f-=1))return{row:g.getCurrentTokenRow(),column:i+g.getCurrentTokenColumn()}}else l==a&&(f+=1);i+=1}do{h=g.stepForward()}while(h&&!c.test(h.type));if(null==h)break;i=0}return null}},this.getMatchingTags=function(a){var b=new e(this,a.row,a.column),c=this.$findTagName(b);if(c){return"<"===b.stepBackward().value?this.$findClosingTag(b,c):this.$findOpeningTag(b,c)}},this.$findTagName=function(a){var b=a.getCurrentToken(),c=!1,d=!1;if(b&&-1===b.type.indexOf("tag-name"))do{(b=d?a.stepBackward():a.stepForward())&&("/>"===b.value?d=!0:-1!==b.type.indexOf("tag-name")&&(c=!0))}while(b&&!c);return b},this.$findClosingTag=function(a,b){var c,d=b.value,e=b.value,g=0,h=new f(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);b=a.stepForward();var i=new f(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+b.value.length),j=!1;do{if(c=b,b=a.stepForward()){if(">"===b.value&&!j){var k=new f(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);j=!0}if(-1!==b.type.indexOf("tag-name")){if(d=b.value,e===d)if("<"===c.value)g++;else if("</"===c.value&&--g<0){a.stepBackward();var l=new f(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+2);b=a.stepForward();var m=new f(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+b.value.length);if(!(b=a.stepForward())||">"!==b.value)return;var n=new f(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1)}}else if(e===d&&"/>"===b.value&&--g<0)var l=new f(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+2),m=l,n=m,k=new f(i.end.row,i.end.column,i.end.row,i.end.column+1)}}while(b&&g>=0);if(h&&k&&l&&n&&i&&m)return{openTag:new f(h.start.row,h.start.column,k.end.row,k.end.column),closeTag:new f(l.start.row,l.start.column,n.end.row,n.end.column),openTagName:i,closeTagName:m}},this.$findOpeningTag=function(a,b){var c=a.getCurrentToken(),d=b.value,e=0,g=a.getCurrentTokenRow(),h=a.getCurrentTokenColumn(),i=h+2,j=new f(g,h,g,i);a.stepForward();var k=new f(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+b.value.length);if((b=a.stepForward())&&">"===b.value){var l=new f(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);a.stepBackward(),a.stepBackward();do{if(b=c,g=a.getCurrentTokenRow(),h=a.getCurrentTokenColumn(),i=h+b.value.length,c=a.stepBackward(),b)if(-1!==b.type.indexOf("tag-name")){if(d===b.value)if("<"===c.value){if(++e>0){var m=new f(g,h,g,i),n=new f(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1);do{b=a.stepForward()}while(b&&">"!==b.value);var o=new f(a.getCurrentTokenRow(),a.getCurrentTokenColumn(),a.getCurrentTokenRow(),a.getCurrentTokenColumn()+1)}}else"</"===c.value&&e--}else if("/>"===b.value){for(var p=0,q=c;q;){if(-1!==q.type.indexOf("tag-name")&&q.value===d){e--;break}if("<"===q.value)break;q=a.stepBackward(),p++}for(var r=0;r<p;r++)a.stepForward()}}while(c&&e<=0);return n&&o&&j&&l&&m&&k?{openTag:new f(n.start.row,n.start.column,o.end.row,o.end.column),closeTag:new f(j.start.row,j.start.column,l.end.row,l.end.column),openTagName:m,closeTagName:k}:void 0}}}var e=a("../token_iterator").TokenIterator,f=a("../range").Range;b.BracketMatch=d}),define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./lib/lang"),f=a("./bidihandler").BidiHandler,g=a("./config"),h=a("./lib/event_emitter").EventEmitter,i=a("./selection").Selection,j=a("./mode/text").Mode,k=a("./range").Range,l=a("./document").Document,m=a("./background_tokenizer").BackgroundTokenizer,n=a("./search_highlight").SearchHighlight,o=function(a,b){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++o.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new m((new j).getTokenizer(),this);var c=this;this.bgTokenizer.on("update",function(a){c._signal("tokenizerUpdate",a)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof a&&a.getLine||(a=new l(a)),this.setDocument(a),this.selection=new i(this),this.$bidiHandler=new f(this),g.resetOptions(this),this.setMode(b),g._signal("session",this),this.destroyed=!1};o.$uid=0,function(){function a(a){return!(a<4352)&&(a>=4352&&a<=4447||a>=4515&&a<=4519||a>=4602&&a<=4607||a>=9001&&a<=9002||a>=11904&&a<=11929||a>=11931&&a<=12019||a>=12032&&a<=12245||a>=12272&&a<=12283||a>=12288&&a<=12350||a>=12353&&a<=12438||a>=12441&&a<=12543||a>=12549&&a<=12589||a>=12593&&a<=12686||a>=12688&&a<=12730||a>=12736&&a<=12771||a>=12784&&a<=12830||a>=12832&&a<=12871||a>=12880&&a<=13054||a>=13056&&a<=19903||a>=19968&&a<=42124||a>=42128&&a<=42182||a>=43360&&a<=43388||a>=44032&&a<=55203||a>=55216&&a<=55238||a>=55243&&a<=55291||a>=63744&&a<=64255||a>=65040&&a<=65049||a>=65072&&a<=65106||a>=65108&&a<=65126||a>=65128&&a<=65131||a>=65281&&a<=65376||a>=65504&&a<=65510)}d.implement(this,h),this.setDocument=function(a){this.doc&&this.doc.off("change",this.$onChange),this.doc=a,a.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(a){if(!a)return this.$docRowCache=[],void(this.$screenRowCache=[]);var b=this.$docRowCache.length,c=this.$getRowCacheIndex(this.$docRowCache,a)+1;b>c&&(this.$docRowCache.splice(c,b),this.$screenRowCache.splice(c,b))},this.$getRowCacheIndex=function(a,b){for(var c=0,d=a.length-1;c<=d;){var e=c+d>>1,f=a[e];if(b>f)c=e+1;else{if(!(b<f))return e;d=e-1}}return c-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},this.onChangeFold=function(a){var b=a.data;this.$resetRowCache(b.start.row)},this.onChange=function(a){this.$modified=!0,this.$bidiHandler.onChange(a),this.$resetRowCache(a.start.row);var b=this.$updateInternalDataOnChange(a);!this.$fromUndo&&this.$undoManager&&(b&&b.length&&(this.$undoManager.add({action:"removeFolds",folds:b},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(a,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(a),this._signal("change",a)},this.setValue=function(a){this.doc.setValue(a),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(a){return this.bgTokenizer.getState(a)},this.getTokens=function(a){return this.bgTokenizer.getTokens(a)},this.getTokenAt=function(a,b){var c,d=this.bgTokenizer.getTokens(a),e=0;if(null==b){var f=d.length-1;e=this.getLine(a).length}else for(var f=0;f<d.length&&!((e+=d[f].value.length)>=b);f++);return c=d[f],c?(c.index=f,c.start=e-c.value.length,c):null},this.setUndoManager=function(a){if(this.$undoManager=a,this.$informUndoManager&&this.$informUndoManager.cancel(),a){var b=this;a.addSession(this),this.$syncInformUndoManager=function(){b.$informUndoManager.cancel(),b.mergeUndoDeltas=!1},this.$informUndoManager=e.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?e.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(a){this.setOption("useSoftTabs",a)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(a){this.setOption("tabSize",a)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(a){return this.$useSoftTabs&&a.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(a){this.setOption("navigateWithinSoftTabs",a)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(a){this.setOption("overwrite",a)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(a,b){this.$decorations[a]||(this.$decorations[a]=""),this.$decorations[a]+=" "+b,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(a,b){this.$decorations[a]=(this.$decorations[a]||"").replace(" "+b,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(a){this.$breakpoints=[];for(var b=0;b<a.length;b++)this.$breakpoints[a[b]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(a,b){void 0===b&&(b="ace_breakpoint"),b?this.$breakpoints[a]=b:delete this.$breakpoints[a],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(a){delete this.$breakpoints[a],this._signal("changeBreakpoint",{})},this.addMarker=function(a,b,c,d){var e=this.$markerId++,f={range:a,type:c||"line",renderer:"function"==typeof c?c:null,clazz:b,inFront:!!d,id:e};return d?(this.$frontMarkers[e]=f,this._signal("changeFrontMarker")):(this.$backMarkers[e]=f,this._signal("changeBackMarker")),e},this.addDynamicMarker=function(a,b){if(a.update){var c=this.$markerId++;return a.id=c,a.inFront=!!b,b?(this.$frontMarkers[c]=a,this._signal("changeFrontMarker")):(this.$backMarkers[c]=a,this._signal("changeBackMarker")),a}},this.removeMarker=function(a){var b=this.$frontMarkers[a]||this.$backMarkers[a];if(b){delete(b.inFront?this.$frontMarkers:this.$backMarkers)[a],this._signal(b.inFront?"changeFrontMarker":"changeBackMarker")}},this.getMarkers=function(a){return a?this.$frontMarkers:this.$backMarkers},this.highlight=function(a){if(!this.$searchHighlight){var b=new n(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(b)}this.$searchHighlight.setRegexp(a)},this.highlightLines=function(a,b,c,d){"number"!=typeof b&&(c=b,b=a),c||(c="ace_step");var e=new k(a,0,b,1/0);return e.id=this.addMarker(e,c,"fullLine",d),e},this.setAnnotations=function(a){this.$annotations=a,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(a){var b=a.match(/^.*?(\r?\n)/m);this.$autoNewLine=b?b[1]:"\n"},this.getWordRange=function(a,b){var c=this.getLine(a),d=!1;if(b>0&&(d=!!c.charAt(b-1).match(this.tokenRe)),d||(d=!!c.charAt(b).match(this.tokenRe)),d)var e=this.tokenRe;else if(/^\s+$/.test(c.slice(b-1,b+1)))var e=/\s/;else var e=this.nonTokenRe;var f=b;if(f>0){do{f--}while(f>=0&&c.charAt(f).match(e));f++}for(var g=b;g<c.length&&c.charAt(g).match(e);)g++;return new k(a,f,a,g)},this.getAWordRange=function(a,b){for(var c=this.getWordRange(a,b),d=this.getLine(c.end.row);d.charAt(c.end.column).match(/[ \t]/);)c.end.column+=1;return c},this.setNewLineMode=function(a){this.doc.setNewLineMode(a)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(a){this.setOption("useWorker",a)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(a){var b=a.data;this.bgTokenizer.start(b.first),this._signal("tokenizerUpdate",a)},this.$modes=g.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(a,b){if(a&&"object"==typeof a){if(a.getTokenizer)return this.$onChangeMode(a);var c=a,d=c.path}else d=a||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new j),this.$modes[d]&&!c)return this.$onChangeMode(this.$modes[d]),void(b&&b());this.$modeId=d,g.loadModule(["mode",d],function(a){if(this.$modeId!==d)return b&&b();this.$modes[d]&&!c?this.$onChangeMode(this.$modes[d]):a&&a.Mode&&(a=new a.Mode(c),c||(this.$modes[d]=a,a.$id=d),this.$onChangeMode(a)),b&&b()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(a,b){if(b||(this.$modeId=a.$id),this.$mode!==a){var c=this.$mode;this.$mode=a,this.$stopWorker(),this.$useWorker&&this.$startWorker();var d=a.getTokenizer();if(void 0!==d.on){var e=this.onReloadTokenizer.bind(this);d.on("update",e)}this.bgTokenizer.setTokenizer(d),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=a.tokenRe,this.nonTokenRe=a.nonTokenRe,b||(a.attachToSession&&a.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(a.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:c,mode:a}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(a){g.warn("Could not load worker",a),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(a){this.$scrollTop===a||isNaN(a)||(this.$scrollTop=a,this._signal("changeScrollTop",a))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(a){this.$scrollLeft===a||isNaN(a)||(this.$scrollLeft=a,this._signal("changeScrollLeft",a))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var a=0;return this.lineWidgets.forEach(function(b){b&&b.screenWidth>a&&(a=b.screenWidth)}),this.lineWidgetWidth=a},this.$computeWidth=function(a){if(this.$modified||a){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var b=this.doc.getAllLines(),c=this.$rowLengthCache,d=0,e=0,f=this.$foldData[e],g=f?f.start.row:1/0,h=b.length,i=0;i<h;i++){if(i>g){if((i=f.end.row+1)>=h)break;f=this.$foldData[e++],g=f?f.start.row:1/0}null==c[i]&&(c[i]=this.$getStringScreenWidth(b[i])[0]),c[i]>d&&(d=c[i])}this.screenWidth=d}},this.getLine=function(a){return this.doc.getLine(a)},this.getLines=function(a,b){return this.doc.getLines(a,b)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(a){return this.doc.getTextRange(a||this.selection.getRange())},this.insert=function(a,b){return this.doc.insert(a,b)},this.remove=function(a){return this.doc.remove(a)},this.removeFullLines=function(a,b){return this.doc.removeFullLines(a,b)},this.undoChanges=function(a,b){if(a.length){this.$fromUndo=!0;for(var c=a.length-1;-1!=c;c--){var d=a[c];"insert"==d.action||"remove"==d.action?this.doc.revertDelta(d):d.folds&&this.addFolds(d.folds)}!b&&this.$undoSelect&&(a.selectionBefore?this.selection.fromJSON(a.selectionBefore):this.selection.setRange(this.$getUndoSelection(a,!0))),this.$fromUndo=!1}},this.redoChanges=function(a,b){if(a.length){this.$fromUndo=!0;for(var c=0;c<a.length;c++){var d=a[c];("insert"==d.action||"remove"==d.action)&&this.doc.$safeApplyDelta(d)}!b&&this.$undoSelect&&(a.selectionAfter?this.selection.fromJSON(a.selectionAfter):this.selection.setRange(this.$getUndoSelection(a,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(a){this.$undoSelect=a},this.$getUndoSelection=function(a,b){function c(a){return b?"insert"!==a.action:"insert"===a.action}for(var d,e,f=0;f<a.length;f++){var g=a[f];g.start&&(d?c(g)?(e=g.start,-1==d.compare(e.row,e.column)&&d.setStart(e),e=g.end,1==d.compare(e.row,e.column)&&d.setEnd(e)):(e=g.start,-1==d.compare(e.row,e.column)&&(d=k.fromPoints(g.start,g.start))):d=c(g)?k.fromPoints(g.start,g.end):k.fromPoints(g.start,g.start))}return d},this.replace=function(a,b){return this.doc.replace(a,b)},this.moveText=function(a,b,c){var d=this.getTextRange(a),e=this.getFoldsInRange(a),f=k.fromPoints(b,b);if(!c){this.remove(a);var g=a.start.row-a.end.row,h=g?-a.end.column:a.start.column-a.end.column;h&&(f.start.row==a.end.row&&f.start.column>a.end.column&&(f.start.column+=h),f.end.row==a.end.row&&f.end.column>a.end.column&&(f.end.column+=h)),g&&f.start.row>=a.end.row&&(f.start.row+=g,f.end.row+=g)}if(f.end=this.insert(f.start,d),e.length){var i=a.start,j=f.start,g=j.row-i.row,h=j.column-i.column;this.addFolds(e.map(function(a){return a=a.clone(),a.start.row==i.row&&(a.start.column+=h),a.end.row==i.row&&(a.end.column+=h),a.start.row+=g,a.end.row+=g,a}))}return f},this.indentRows=function(a,b,c){c=c.replace(/\t/g,this.getTabString());for(var d=a;d<=b;d++)this.doc.insertInLine({row:d,column:0},c)},this.outdentRows=function(a){for(var b=a.collapseRows(),c=new k(0,0,0,0),d=this.getTabSize(),e=b.start.row;e<=b.end.row;++e){var f=this.getLine(e);c.start.row=e,c.end.row=e;for(var g=0;g<d&&" "==f.charAt(g);++g);g<d&&"\t"==f.charAt(g)?(c.start.column=g,c.end.column=g+1):(c.start.column=0,c.end.column=g),this.remove(c)}},this.$moveLines=function(a,b,c){if(a=this.getRowFoldStart(a),b=this.getRowFoldEnd(b),c<0){var d=this.getRowFoldStart(a+c);if(d<0)return 0;var e=d-a}else if(c>0){var d=this.getRowFoldEnd(b+c);if(d>this.doc.getLength()-1)return 0;var e=d-b}else{a=this.$clipRowToDocument(a),b=this.$clipRowToDocument(b);var e=b-a+1}var f=new k(a,0,b,Number.MAX_VALUE),g=this.getFoldsInRange(f).map(function(a){return a=a.clone(),a.start.row+=e,a.end.row+=e,a}),h=0==c?this.doc.getLines(a,b):this.doc.removeFullLines(a,b);return this.doc.insertFullLines(a+e,h),g.length&&this.addFolds(g),e},this.moveLinesUp=function(a,b){return this.$moveLines(a,b,-1)},this.moveLinesDown=function(a,b){return this.$moveLines(a,b,1)},this.duplicateLines=function(a,b){return this.$moveLines(a,b,0)},this.$clipRowToDocument=function(a){return Math.max(0,Math.min(a,this.doc.getLength()-1))},this.$clipColumnToRow=function(a,b){return b<0?0:Math.min(this.doc.getLine(a).length,b)},this.$clipPositionToDocument=function(a,b){if(b=Math.max(0,b),a<0)a=0,b=0;else{var c=this.doc.getLength();a>=c?(a=c-1,b=this.doc.getLine(c-1).length):b=Math.min(this.doc.getLine(a).length,b)}return{row:a,column:b}},this.$clipRangeToDocument=function(a){a.start.row<0?(a.start.row=0,a.start.column=0):a.start.column=this.$clipColumnToRow(a.start.row,a.start.column);var b=this.doc.getLength()-1;return a.end.row>b?(a.end.row=b,a.end.column=this.doc.getLine(b).length):a.end.column=this.$clipColumnToRow(a.end.row,a.end.column),a},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(a){if(a!=this.$useWrapMode){if(this.$useWrapMode=a,this.$modified=!0,this.$resetRowCache(0),a){var b=this.getLength();this.$wrapData=Array(b),this.$updateWrapData(0,b-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(a,b){this.$wrapLimitRange.min===a&&this.$wrapLimitRange.max===b||(this.$wrapLimitRange={min:a,max:b},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(a,b){var c=this.$wrapLimitRange;c.max<0&&(c={min:b,max:b});var d=this.$constrainWrapLimit(a,c.min,c.max);return d!=this.$wrapLimit&&d>1&&(this.$wrapLimit=d,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(a,b,c){return b&&(a=Math.max(b,a)),c&&(a=Math.min(c,a)),a},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(a){this.setWrapLimitRange(a,a)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(a){var b=this.$useWrapMode,c=a.action,d=a.start,e=a.end,f=d.row,g=e.row,h=g-f,i=null;if(this.$updating=!0,0!=h)if("remove"===c){this[b?"$wrapData":"$rowLengthCache"].splice(f,h);var j=this.$foldData;i=this.getFoldsInRange(a),this.removeFolds(i);var k=this.getFoldLine(e.row),l=0;if(k){k.addRemoveChars(e.row,e.column,d.column-e.column),k.shiftRow(-h);var m=this.getFoldLine(f);m&&m!==k&&(m.merge(k),k=m),l=j.indexOf(k)+1}for(l;l<j.length;l++){var k=j[l];k.start.row>=e.row&&k.shiftRow(-h)}g=f}else{var n=Array(h);n.unshift(f,0);var o=b?this.$wrapData:this.$rowLengthCache;o.splice.apply(o,n);var j=this.$foldData,k=this.getFoldLine(f),l=0;if(k){var p=k.range.compareInside(d.row,d.column);0==p?(k=k.split(d.row,d.column))&&(k.shiftRow(h),k.addRemoveChars(g,0,e.column-d.column)):-1==p&&(k.addRemoveChars(f,0,e.column-d.column),k.shiftRow(h)),l=j.indexOf(k)+1}for(l;l<j.length;l++){var k=j[l];k.start.row>=f&&k.shiftRow(h)}}else{h=Math.abs(a.start.column-a.end.column),"remove"===c&&(i=this.getFoldsInRange(a),this.removeFolds(i),h=-h);var k=this.getFoldLine(f);k&&k.addRemoveChars(f,d.column,h)}return b&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,b?this.$updateWrapData(f,g):this.$updateRowLengthCache(f,g),i},this.$updateRowLengthCache=function(a,b,c){this.$rowLengthCache[a]=null,this.$rowLengthCache[b]=null},this.$updateWrapData=function(a,b){var c,d,e=this.doc.getAllLines(),g=this.getTabSize(),h=this.$wrapData,j=this.$wrapLimit,k=a;for(b=Math.min(b,e.length-1);k<=b;)d=this.getFoldLine(k,d),d?(c=[],d.walk(function(a,b,d,g){var h;if(null!=a){h=this.$getDisplayTokens(a,c.length),h[0]=f;for(var j=1;j<h.length;j++)h[j]=i}else h=this.$getDisplayTokens(e[b].substring(g,d),c.length);c=c.concat(h)}.bind(this),d.end.row,e[d.end.row].length+1),h[d.start.row]=this.$computeWrapSplits(c,j,g),k=d.end.row+1):(c=this.$getDisplayTokens(e[k]),h[k]=this.$computeWrapSplits(c,j,g),k++)};var b=1,c=2,f=3,i=4,l=9,m=10,o=11,p=12;this.$computeWrapSplits=function(a,b,d){function e(){var b=0;if(0===s)return b;if(r)for(var c=0;c<a.length;c++){var e=a[c];if(e==m)b+=1;else{if(e!=o){if(e==p)continue;break}b+=d}}return q&&!1!==r&&(b+=d),Math.min(b,s)}function g(b){for(var c=b-k,d=k;d<b;d++){var f=a[d];12!==f&&2!==f||(c-=1)}h.length||(t=e(),h.indent=t),n+=c,h.push(n),k=b}if(0==a.length)return[];for(var h=[],j=a.length,k=0,n=0,q=this.$wrapAsCode,r=this.$indentedSoftWrap,s=b<=Math.max(2*d,8)||!1===r?0:Math.floor(b/2),t=0;j-k>b-t;){var u=k+b-t;if(a[u-1]>=m&&a[u]>=m)g(u);else if(a[u]!=f&&a[u]!=i){for(var v=Math.max(u-(b-(b>>2)),k-1);u>v&&a[u]<f;)u--;if(q){for(;u>v&&a[u]<f;)u--;for(;u>v&&a[u]==l;)u--}else for(;u>v&&a[u]<m;)u--;u>v?g(++u):(u=k+b,a[u]==c&&u--,g(u-t))}else{for(u;u!=k-1&&a[u]!=f;u--);if(u>k){g(u);continue}for(u=k+b;u<a.length&&a[u]==i;u++);if(u==a.length)break;g(u)}}return h},this.$getDisplayTokens=function(d,e){var f,g=[];e=e||0;for(var h=0;h<d.length;h++){var i=d.charCodeAt(h);if(9==i){f=this.getScreenTabSize(g.length+e),g.push(o);for(var j=1;j<f;j++)g.push(p)}else 32==i?g.push(m):i>39&&i<48||i>57&&i<64?g.push(l):i>=4352&&a(i)?g.push(b,c):g.push(b)}return g},this.$getStringScreenWidth=function(b,c,d){if(0==c)return[0,0];null==c&&(c=1/0),d=d||0;var e,f;for(f=0;f<b.length&&(e=b.charCodeAt(f),9==e?d+=this.getScreenTabSize(d):e>=4352&&a(e)?d+=2:d+=1,!(d>c));f++);return[d,f]},this.lineWidgets=null,this.getRowLength=function(a){var b=1;return this.lineWidgets&&(b+=this.lineWidgets[a]&&this.lineWidgets[a].rowCount||0),this.$useWrapMode&&this.$wrapData[a]?this.$wrapData[a].length+b:b},this.getRowLineCount=function(a){return this.$useWrapMode&&this.$wrapData[a]?this.$wrapData[a].length+1:1},this.getRowWrapIndent=function(a){if(this.$useWrapMode){var b=this.screenToDocumentPosition(a,Number.MAX_VALUE),c=this.$wrapData[b.row];return c.length&&c[0]<b.column?c.indent:0}return 0},this.getScreenLastRowColumn=function(a){var b=this.screenToDocumentPosition(a,Number.MAX_VALUE);return this.documentToScreenColumn(b.row,b.column)},this.getDocumentLastRowColumn=function(a,b){var c=this.documentToScreenRow(a,b);return this.getScreenLastRowColumn(c)},this.getDocumentLastRowColumnPosition=function(a,b){var c=this.documentToScreenRow(a,b);return this.screenToDocumentPosition(c,Number.MAX_VALUE/10)},this.getRowSplitData=function(a){return this.$useWrapMode?this.$wrapData[a]:void 0},this.getScreenTabSize=function(a){return this.$tabSize-(a%this.$tabSize|0)},this.screenToDocumentRow=function(a,b){return this.screenToDocumentPosition(a,b).row},this.screenToDocumentColumn=function(a,b){return this.screenToDocumentPosition(a,b).column},this.screenToDocumentPosition=function(a,b,c){if(a<0)return{row:0,column:0};var d,e,f=0,g=0,h=0,i=0,j=this.$screenRowCache,k=this.$getRowCacheIndex(j,a),l=j.length;if(l&&k>=0)var h=j[k],f=this.$docRowCache[k],m=a>j[l-1];else var m=!l;for(var n=this.getLength()-1,o=this.getNextFoldLine(f),p=o?o.start.row:1/0;h<=a&&(i=this.getRowLength(f),!(h+i>a||f>=n));)h+=i,f++,f>p&&(f=o.end.row+1,o=this.getNextFoldLine(f,o),p=o?o.start.row:1/0),m&&(this.$docRowCache.push(f),this.$screenRowCache.push(h));if(o&&o.start.row<=f)d=this.getFoldDisplayLine(o),f=o.start.row;else{if(h+i<=a||f>n)return{row:n,column:this.getLine(n).length};d=this.getLine(f),o=null}var q=0,r=Math.floor(a-h);if(this.$useWrapMode){var s=this.$wrapData[f];s&&(e=s[r],r>0&&s.length&&(q=s.indent,g=s[r-1]||s[s.length-1],d=d.substring(g)))}return void 0!==c&&this.$bidiHandler.isBidiRow(h+r,f,r)&&(b=this.$bidiHandler.offsetToCol(c)),g+=this.$getStringScreenWidth(d,b-q)[1],this.$useWrapMode&&g>=e&&(g=e-1),o?o.idxToPosition(g):{row:f,column:g}},this.documentToScreenPosition=function(a,b){if(void 0===b)var c=this.$clipPositionToDocument(a.row,a.column);else c=this.$clipPositionToDocument(a,b);a=c.row,b=c.column;var d=0,e=null,f=null;(f=this.getFoldAt(a,b,1))&&(a=f.start.row,b=f.start.column);var g,h=0,i=this.$docRowCache,j=this.$getRowCacheIndex(i,a),k=i.length;if(k&&j>=0)var h=i[j],d=this.$screenRowCache[j],l=a>i[k-1];else var l=!k;for(var m=this.getNextFoldLine(h),n=m?m.start.row:1/0;h<a;){if(h>=n){if((g=m.end.row+1)>a)break;m=this.getNextFoldLine(g,m),n=m?m.start.row:1/0}else g=h+1;d+=this.getRowLength(h),h=g,l&&(this.$docRowCache.push(h),this.$screenRowCache.push(d))}var o="";m&&h>=n?(o=this.getFoldDisplayLine(m,a,b),e=m.start.row):(o=this.getLine(a).substring(0,b),e=a);var p=0;if(this.$useWrapMode){var q=this.$wrapData[e];if(q){for(var r=0;o.length>=q[r];)d++,r++;o=o.substring(q[r-1]||0,o.length),p=r>0?q.indent:0}}return this.lineWidgets&&this.lineWidgets[h]&&this.lineWidgets[h].rowsAbove&&(d+=this.lineWidgets[h].rowsAbove),{row:d,column:p+this.$getStringScreenWidth(o)[0]}},this.documentToScreenColumn=function(a,b){return this.documentToScreenPosition(a,b).column},this.documentToScreenRow=function(a,b){return this.documentToScreenPosition(a,b).row},this.getScreenLength=function(){var a=0,b=null;if(this.$useWrapMode)for(var c=this.$wrapData.length,d=0,e=0,b=this.$foldData[e++],f=b?b.start.row:1/0;d<c;){var g=this.$wrapData[d];a+=g?g.length+1:1,++d>f&&(d=b.end.row+1,b=this.$foldData[e++],f=b?b.start.row:1/0)}else{a=this.getLength();for(var h=this.$foldData,e=0;e<h.length;e++)b=h[e],a-=b.end.row-b.start.row}return this.lineWidgets&&(a+=this.$getWidgetScreenLength()),a},this.$setFontMetrics=function(a){this.$enableVarChar&&(this.$getStringScreenWidth=function(b,c,d){if(0===c)return[0,0];c||(c=1/0),d=d||0;var e,f;for(f=0;f<b.length&&(e=b.charAt(f),!((d+="\t"===e?this.getScreenTabSize(d):a.getCharacterWidth(e))>c));f++);return[d,f]})},this.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=a}.call(o.prototype),a("./edit_session/folding").Folding.call(o.prototype),a("./edit_session/bracket_match").BracketMatch.call(o.prototype),g.defineOptions(o.prototype,"session",{wrap:{set:function(a){if(a&&"off"!=a?"free"==a?a=!0:"printMargin"==a?a=-1:"string"==typeof a&&(a=parseInt(a,10)||!1):a=!1,this.$wrap!=a)if(this.$wrap=a,a){var b="number"==typeof a?a:null;this.setWrapLimitRange(b,b),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(a){(a="auto"==a?"text"!=this.$mode.type:"text"!=a)!=this.$wrapAsCode&&(this.$wrapAsCode=a,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(a){this.$useWorker=a,this.$stopWorker(),a&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(a){(a=parseInt(a))>0&&this.$tabSize!==a&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=a,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(a){this.setFoldStyle(a)},handlesSet:!0},overwrite:{set:function(a){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(a){this.doc.setNewLineMode(a)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(a){this.setMode(a)},get:function(){return this.$modeId},handlesSet:!0}}),b.EditSession=o}),define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(a,b,c){"use strict";function d(a,b){function c(a){return/\w/.test(a)||b.regExp?"\\b":""}return c(a[0])+a+c(a[a.length-1])}var e=a("./lib/lang"),f=a("./lib/oop"),g=a("./range").Range,h=function(){this.$options={}};(function(){this.set=function(a){return f.mixin(this.$options,a),this},this.getOptions=function(){return e.copyObject(this.$options)},this.setOptions=function(a){this.$options=a},this.find=function(a){var b=this.$options,c=this.$matchIterator(a,b);if(!c)return!1;var d=null;return c.forEach(function(a,c,e,f){return d=new g(a,c,e,f),!(c==f&&b.start&&b.start.start&&0!=b.skipCurrent&&d.isEqual(b.start))||(d=null,!1)}),d},this.findAll=function(a){var b=this.$options;if(!b.needle)return[];this.$assembleRegExp(b);var c=b.range,d=c?a.getLines(c.start.row,c.end.row):a.doc.getAllLines(),f=[],h=b.re;if(b.$isMultiLine){var i,j=h.length,k=d.length-j;a:for(var l=h.offset||0;l<=k;l++){for(var m=0;m<j;m++)if(-1==d[l+m].search(h[m]))continue a;var n=d[l],o=d[l+j-1],p=n.length-n.match(h[0])[0].length,q=o.match(h[j-1])[0].length;i&&i.end.row===l&&i.end.column>p||(f.push(i=new g(l,p,l+j-1,q)),j>2&&(l=l+j-2))}}else for(var r=0;r<d.length;r++)for(var s=e.getMatchOffsets(d[r],h),m=0;m<s.length;m++){var t=s[m];f.push(new g(r,t.offset,r,t.offset+t.length))}if(c){for(var u=c.start.column,v=c.end.column,r=0,m=f.length-1;r<m&&f[r].start.column<u&&0==f[r].start.row;)r++;for(var w=c.end.row-c.start.row;r<m&&f[m].end.column>v&&f[m].end.row==w;)m--;for(f=f.slice(r,m+1),r=0,m=f.length;r<m;r++)f[r].start.row+=c.start.row,f[r].end.row+=c.start.row}return f},this.replace=function(a,b){var c=this.$options,d=this.$assembleRegExp(c);if(c.$isMultiLine)return b;if(d){var e=d.exec(a);if(!e||e[0].length!=a.length)return null;if(b=a.replace(d,b),c.preserveCase){b=b.split("");for(var f=Math.min(a.length,a.length);f--;){var g=a[f];g&&g.toLowerCase()!=g?b[f]=b[f].toUpperCase():b[f]=b[f].toLowerCase()}b=b.join("")}return b}},this.$assembleRegExp=function(a,b){if(a.needle instanceof RegExp)return a.re=a.needle;var c=a.needle;if(!a.needle)return a.re=!1;a.regExp||(c=e.escapeRegExp(c)),a.wholeWord&&(c=d(c,a));var f=a.caseSensitive?"gm":"gmi";if(a.$isMultiLine=!b&&/[\n\r]/.test(c),a.$isMultiLine)return a.re=this.$assembleMultilineRegExp(c,f);try{var g=new RegExp(c,f)}catch(a){g=!1}return a.re=g},this.$assembleMultilineRegExp=function(a,b){for(var c=a.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),d=[],e=0;e<c.length;e++)try{d.push(new RegExp(c[e],b))}catch(a){return!1}return d},this.$matchIterator=function(a,b){var c=this.$assembleRegExp(b);if(!c)return!1;var d=1==b.backwards,e=0!=b.skipCurrent,f=b.range,g=b.start;g||(g=f?f[d?"end":"start"]:a.selection.getRange()),g.start&&(g=g[e!=d?"end":"start"]);var h=f?f.start.row:0,i=f?f.end.row:a.getLength()-1;if(d)var j=function(a){var c=g.row;if(!l(c,g.column,a)){for(c--;c>=h;c--)if(l(c,Number.MAX_VALUE,a))return;if(0!=b.wrap)for(c=i,h=g.row;c>=h;c--)if(l(c,Number.MAX_VALUE,a))return}};else var j=function(a){var c=g.row;if(!l(c,g.column,a)){for(c+=1;c<=i;c++)if(l(c,0,a))return;if(0!=b.wrap)for(c=h,i=g.row;c<=i;c++)if(l(c,0,a))return}};if(b.$isMultiLine)var k=c.length,l=function(b,e,f){var g=d?b-k+1:b;if(!(g<0||g+k>a.getLength())){var h=a.getLine(g),i=h.search(c[0]);if(!(!d&&i<e||-1===i)){for(var j=1;j<k;j++)if(h=a.getLine(g+j),-1==h.search(c[j]))return;var l=h.match(c[k-1])[0].length;if(!(d&&l>e))return!!f(g,i,g+k-1,l)||void 0}}};else if(d)var l=function(b,d,e){var f,g=a.getLine(b),h=[],i=0;for(c.lastIndex=0;f=c.exec(g);){var j=f[0].length;if(i=f.index,!j){if(i>=g.length)break;c.lastIndex=i+=1}if(f.index+j>d)break;h.push(f.index,j)}for(var k=h.length-1;k>=0;k-=2){var l=h[k-1],j=h[k];if(e(b,l,b,l+j))return!0}};else var l=function(b,d,e){var f,g,h=a.getLine(b);for(c.lastIndex=d;g=c.exec(h);){var i=g[0].length;if(f=g.index,e(b,f,b,f+i))return!0;if(!i&&(c.lastIndex=f+=1,f>=h.length))return!1}};return{forEach:j}}}).call(h.prototype),b.Search=h}),define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(a,b,c){"use strict";function d(a,b){this.platform=b||(g.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(a),this.$singleCommand=!0}function e(a,b){d.call(this,a,b),this.$singleCommand=!1}var f=a("../lib/keys"),g=a("../lib/useragent"),h=f.KEY_MODS;e.prototype=d.prototype,function(){function a(a){return"object"==typeof a&&a.bindKey&&a.bindKey.position||(a.isDefault?-100:0)}this.addCommand=function(a){this.commands[a.name]&&this.removeCommand(a),this.commands[a.name]=a,a.bindKey&&this._buildKeyHash(a)},this.removeCommand=function(a,b){var c=a&&("string"==typeof a?a:a.name);a=this.commands[c],b||delete this.commands[c];var d=this.commandKeyBinding;for(var e in d){var f=d[e];if(f==a)delete d[e];else if(Array.isArray(f)){var g=f.indexOf(a);-1!=g&&(f.splice(g,1),1==f.length&&(d[e]=f[0]))}}},this.bindKey=function(a,b,c){if("object"==typeof a&&a&&(void 0==c&&(c=a.position),a=a[this.platform]),a)return"function"==typeof b?this.addCommand({exec:b,bindKey:a,name:b.name||a}):void a.split("|").forEach(function(a){var d="";if(-1!=a.indexOf(" ")){var e=a.split(/\s+/);a=e.pop(),e.forEach(function(a){var b=this.parseKeys(a),c=h[b.hashId]+b.key;d+=(d?" ":"")+c,this._addCommandToBinding(d,"chainKeys")},this),d+=" "}var f=this.parseKeys(a),g=h[f.hashId]+f.key;this._addCommandToBinding(d+g,b,c)},this)},this._addCommandToBinding=function(b,c,d){var e,f=this.commandKeyBinding;if(c)if(!f[b]||this.$singleCommand)f[b]=c;else{Array.isArray(f[b])?-1!=(e=f[b].indexOf(c))&&f[b].splice(e,1):f[b]=[f[b]],"number"!=typeof d&&(d=a(c));var g=f[b];for(e=0;e<g.length;e++){var h=g[e],i=a(h);if(i>d)break}g.splice(e,0,c)}else delete f[b]},this.addCommands=function(a){a&&Object.keys(a).forEach(function(b){var c=a[b];if(c){if("string"==typeof c)return this.bindKey(c,b);"function"==typeof c&&(c={exec:c}),"object"==typeof c&&(c.name||(c.name=b),this.addCommand(c))}},this)},this.removeCommands=function(a){Object.keys(a).forEach(function(b){this.removeCommand(a[b])},this)},this.bindKeys=function(a){Object.keys(a).forEach(function(b){this.bindKey(b,a[b])},this)},this._buildKeyHash=function(a){this.bindKey(a.bindKey,a)},this.parseKeys=function(a){var b=a.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(a){return a}),c=b.pop(),d=f[c];if(f.FUNCTION_KEYS[d])c=f.FUNCTION_KEYS[d].toLowerCase();else{if(!b.length)return{key:c,hashId:-1};if(1==b.length&&"shift"==b[0])return{key:c.toUpperCase(),hashId:-1}}for(var e=0,g=b.length;g--;){var h=f.KEY_MODS[b[g]];if(null==h)return"undefined"!=typeof console&&console.error("invalid modifier "+b[g]+" in "+a),!1;e|=h}return{key:c,hashId:e}},this.findKeyCommand=function(a,b){var c=h[a]+b;return this.commandKeyBinding[c]},this.handleKeyboard=function(a,b,c,d){if(!(d<0)){var e=h[b]+c,f=this.commandKeyBinding[e];return a.$keyChain&&(a.$keyChain+=" "+e,f=this.commandKeyBinding[a.$keyChain]||f),!f||"chainKeys"!=f&&"chainKeys"!=f[f.length-1]?(a.$keyChain&&(b&&4!=b||1!=c.length?(-1==b||d>0)&&(a.$keyChain=""):a.$keyChain=a.$keyChain.slice(0,-e.length-1)),{command:f}):(a.$keyChain=a.$keyChain||e,{command:"null"})}},this.getStatusText=function(a,b){return b.$keyChain||""}}.call(d.prototype),b.HashHandler=d,b.MultiHashHandler=e}),define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(a,b,c){"use strict";var d=a("../lib/oop"),e=a("../keyboard/hash_handler").MultiHashHandler,f=a("../lib/event_emitter").EventEmitter,g=function(a,b){e.call(this,b,a),this.byName=this.commands,this.setDefaultHandler("exec",function(a){return a.args?a.command.exec(a.editor,a.args,a.event,!1):a.command.exec(a.editor,{},a.event,!0)})};d.inherits(g,e),function(){d.implement(this,f),this.exec=function(a,b,c){if(Array.isArray(a)){for(var d=a.length;d--;)if(this.exec(a[d],b,c))return!0;return!1}if("string"==typeof a&&(a=this.commands[a]),!a)return!1;if(b&&b.$readOnly&&!a.readOnly)return!1;if(0!=this.$checkCommandState&&a.isAvailable&&!a.isAvailable(b))return!1;var e={editor:b,command:a,args:c};return e.returnValue=this._emit("exec",e),this._signal("afterExec",e),!1!==e.returnValue},this.toggleRecording=function(a){if(!this.$inReplay)return a&&a._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(a){this.macro.push([a.command,a.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(a){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(a);try{this.$inReplay=!0,this.macro.forEach(function(b){"string"==typeof b?this.exec(b,a):this.exec(b[0],a,b[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(a){return a.map(function(a){return"string"!=typeof a[0]&&(a[0]=a[0].name),a[1]||(a=a[0]),a})}}.call(g.prototype),b.CommandManager=g}),define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(a,b,c){"use strict";function d(a,b){return{win:a,mac:b}}var e=a("../lib/lang"),f=a("../config"),g=a("../range").Range;b.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:d("Ctrl-,","Command-,"),exec:function(a){f.loadModule("ace/ext/settings_menu",function(b){b.init(a),a.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:d("Alt-E","F4"),exec:function(a){f.loadModule("./ext/error_marker",function(b){b.showErrorMarker(a,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:d("Alt-Shift-E","Shift-F4"),exec:function(a){f.loadModule("./ext/error_marker",function(b){b.showErrorMarker(a,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:d("Ctrl-A","Command-A"),exec:function(a){a.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:d(null,"Ctrl-L"),exec:function(a){a.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:d("Ctrl-L","Command-L"),exec:function(a,b){"number"==typeof b&&!isNaN(b)&&a.gotoLine(b),a.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:d("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(a){a.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:d("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(a){a.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:d("F2","F2"),exec:function(a){a.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:d("Alt-F2","Alt-F2"),exec:function(a){a.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:d(null,"Ctrl-Command-Option-0"),exec:function(a){a.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:d(null,"Ctrl-Command-Option-0"),exec:function(a){a.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:d("Alt-0","Command-Option-0"),exec:function(a){a.session.foldAll(),a.session.unfold(a.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:d("Alt-Shift-0","Command-Option-Shift-0"),exec:function(a){a.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:d("Ctrl-K","Command-G"),exec:function(a){a.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:d("Ctrl-Shift-K","Command-Shift-G"),exec:function(a){a.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:d("Alt-K","Ctrl-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:d("Alt-Shift-K","Ctrl-Shift-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:d("Ctrl-F","Command-F"),exec:function(a){f.loadModule("ace/ext/searchbox",function(b){b.Search(a)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(a){a.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:d("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(a){a.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:d("Ctrl-Home","Command-Home|Command-Up"),exec:function(a){a.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:d("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(a){a.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:d("Up","Up|Ctrl-P"),exec:function(a,b){a.navigateUp(b.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:d("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(a){a.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:d("Ctrl-End","Command-End|Command-Down"),exec:function(a){a.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:d("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(a){a.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:d("Down","Down|Ctrl-N"),exec:function(a,b){a.navigateDown(b.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:d("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(a){a.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:d("Ctrl-Left","Option-Left"),exec:function(a){a.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:d("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:d("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(a){a.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:d("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(a){a.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:d("Left","Left|Ctrl-B"),exec:function(a,b){a.navigateLeft(b.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:d("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(a){a.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:d("Ctrl-Right","Option-Right"),exec:function(a){a.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:d("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:d("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(a){a.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:d("Shift-Right","Shift-Right"),exec:function(a){a.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:d("Right","Right|Ctrl-F"),exec:function(a,b){a.navigateRight(b.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(a){a.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:d(null,"Option-PageDown"),exec:function(a){a.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:d("PageDown","PageDown|Ctrl-V"),exec:function(a){a.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(a){a.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:d(null,"Option-PageUp"),exec:function(a){a.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(a){a.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:d("Ctrl-Up",null),exec:function(a){a.renderer.scrollBy(0,-2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:d("Ctrl-Down",null),exec:function(a){a.renderer.scrollBy(0,2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:d("Ctrl-Alt-E","Command-Option-E"),exec:function(a){a.commands.toggleRecording(a)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:d("Ctrl-Shift-E","Command-Shift-E"),exec:function(a){a.commands.replay(a)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:d("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(a){a.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:d("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(a){a.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:d("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(a){a.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:d(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(a){},readOnly:!0},{name:"cut",description:"Cut",exec:function(a){var b=a.$copyWithEmptySelection&&a.selection.isEmpty(),c=b?a.selection.getLineRange():a.selection.getRange();a._emit("cut",c),c.isEmpty()||a.session.remove(c),a.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(a,b){a.$handlePaste(b)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:d("Ctrl-D","Command-D"),exec:function(a){a.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:d("Ctrl-Shift-D","Command-Shift-D"),exec:function(a){a.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:d("Ctrl-Alt-S","Command-Alt-S"),exec:function(a){a.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:d("Ctrl-/","Command-/"),exec:function(a){a.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:d("Ctrl-Shift-/","Command-Shift-/"),exec:function(a){a.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:d("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(a){a.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:d("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(a){a.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:d("Ctrl-H","Command-Option-F"),exec:function(a){f.loadModule("ace/ext/searchbox",function(b){b.Search(a,!0)})}},{name:"undo",description:"Undo",bindKey:d("Ctrl-Z","Command-Z"),exec:function(a){a.undo()}},{name:"redo",description:"Redo",bindKey:d("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(a){a.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:d("Alt-Shift-Up","Command-Option-Up"),exec:function(a){a.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:d("Alt-Up","Option-Up"),exec:function(a){a.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:d("Alt-Shift-Down","Command-Option-Down"),exec:function(a){a.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:d("Alt-Down","Option-Down"),exec:function(a){a.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:d("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(a){a.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:d("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(a){a.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:d("Shift-Delete",null),exec:function(a){if(!a.selection.isEmpty())return!1;a.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:d("Alt-Backspace","Command-Backspace"),exec:function(a){a.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:d("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(a){a.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:d("Ctrl-Shift-Backspace",null),exec:function(a){var b=a.selection.getRange();b.start.column=0,a.session.remove(b)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:d("Ctrl-Shift-Delete",null),exec:function(a){var b=a.selection.getRange();b.end.column=Number.MAX_VALUE,a.session.remove(b)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:d("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(a){a.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:d("Ctrl-Delete","Alt-Delete"),exec:function(a){a.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:d("Shift-Tab","Shift-Tab"),exec:function(a){a.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:d("Tab","Tab"),exec:function(a){a.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:d("Ctrl-[","Ctrl-["),exec:function(a){a.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:d("Ctrl-]","Ctrl-]"),exec:function(a){a.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(a,b){a.insert(b)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(a,b){a.insert(e.stringRepeat(b.text||"",b.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:d(null,"Ctrl-O"),exec:function(a){a.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:d("Alt-Shift-X","Ctrl-T"),exec:function(a){a.transposeLetters()},multiSelectAction:function(a){a.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:d("Ctrl-U","Ctrl-U"),exec:function(a){a.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:d("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(a){a.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:d(null,null),exec:function(a){a.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:d("Ctrl-Shift-L","Command-Shift-L"),exec:function(a){var b=a.selection.getRange();b.start.column=b.end.column=0,b.end.row++,a.selection.setRange(b,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:d(null,null),exec:function(a){for(var b=a.selection.isBackwards(),c=b?a.selection.getSelectionLead():a.selection.getSelectionAnchor(),d=b?a.selection.getSelectionAnchor():a.selection.getSelectionLead(),f=a.session.doc.getLine(c.row).length,h=a.session.doc.getTextRange(a.selection.getRange()),i=h.replace(/\n\s*/," ").length,j=a.session.doc.getLine(c.row),k=c.row+1;k<=d.row+1;k++){var l=e.stringTrimLeft(e.stringTrimRight(a.session.doc.getLine(k)));0!==l.length&&(l=" "+l),j+=l}d.row+1<a.session.doc.getLength()-1&&(j+=a.session.doc.getNewLineCharacter()),a.clearSelection(),a.session.doc.replace(new g(c.row,0,d.row+2,0),j),i>0?(a.selection.moveCursorTo(c.row,c.column),a.selection.selectTo(c.row,c.column+i)):(f=a.session.doc.getLine(c.row).length>f?f+1:f,a.selection.moveCursorTo(c.row,f))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:d(null,null),exec:function(a){var b=a.session.doc.getLength()-1,c=a.session.doc.getLine(b).length,d=a.selection.rangeList.ranges,e=[];d.length<1&&(d=[a.selection.getRange()]);for(var f=0;f<d.length;f++)f==d.length-1&&(d[f].end.row!==b||d[f].end.column!==c)&&e.push(new g(d[f].end.row,d[f].end.column,b,c)),0===f?(0!==d[f].start.row||0!==d[f].start.column)&&e.push(new g(0,0,d[f].start.row,d[f].start.column)):e.push(new g(d[f-1].end.row,d[f-1].end.column,d[f].start.row,d[f].start.column));a.exitMultiSelectMode(),a.clearSelection();for(var f=0;f<e.length;f++)a.selection.addRange(e[f],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(a){a.selection.clearSelection(),a.navigateLineEnd(),a.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(a){a.selection.clearSelection();var b=a.getCursorPosition();a.selection.moveTo(b.row-1,Number.MAX_VALUE),a.insert("\n"),0===b.row&&a.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:d("F1","F1"),exec:function(a){a.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:d(null,null),exec:function(a){a.prompt({$type:"modes"})},readOnly:!0}];for(var h=1;h<9;h++)b.commands.push({name:"foldToLevel"+h,description:"Fold To Level "+h,level:h,exec:function(a){a.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./lib/dom"),f=a("./lib/lang"),g=a("./lib/useragent"),h=a("./keyboard/textinput").TextInput,i=a("./mouse/mouse_handler").MouseHandler,j=a("./mouse/fold_handler").FoldHandler,k=a("./keyboard/keybinding").KeyBinding,l=a("./edit_session").EditSession,m=a("./search").Search,n=a("./range").Range,o=a("./lib/event_emitter").EventEmitter,p=a("./commands/command_manager").CommandManager,q=a("./commands/default_commands").commands,r=a("./config"),s=a("./token_iterator").TokenIterator,t=a("./clipboard"),u=function(a,b,c){this.$toDestroy=[];var d=a.getContainerElement();this.container=d,this.renderer=a,this.id="editor"+ ++u.$uid,this.commands=new p(g.isMac?"mac":"win",q),"object"==typeof document&&(this.textInput=new h(a.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new i(this),new j(this)),this.keyBinding=new k(this),this.$search=(new m).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=f.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(a,b){b._$emitInputEvent.schedule(31)}),this.setSession(b||c&&c.session||new l("")),r.resetOptions(this),c&&this.setOptions(c),r._signal("editor",this)};u.$uid=0,function(){d.implement(this,o),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=f.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(a){if(this.curOp){if(!a||this.curOp.command)return;this.prevOp=this.curOp}a||(this.previousCommand=null,a={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:a.command||{},args:a.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(a){if(this.curOp&&this.session){if(a&&!1===a.returnValue||!this.session)return this.curOp=null;if(1==a&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var b=this.curOp.command,c=b&&b.scrollIntoView;if(c){switch(c){case"center-animate":c="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var d=this.selection.getRange(),e=this.renderer.layerConfig;(d.start.row>=e.lastRow||d.end.row<=e.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==c&&this.renderer.animateScrolling(this.curOp.scrollTop)}var f=this.selection.toJSON();this.curOp.selectionAfter=f,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(f),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(a){if(this.$mergeUndoDeltas){var b=this.prevOp,c=this.$mergeableCommands,d=b.command&&a.command.name==b.command.name;if("insertstring"==a.command.name){var e=a.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),d=d&&this.mergeNextCommand&&(!/\s/.test(e)||/\s/.test(b.args)),this.mergeNextCommand=!0}else d=d&&-1!==c.indexOf(a.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(d=!1),d?this.session.mergeUndoDeltas=!0:-1!==c.indexOf(a.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(a,b){if(a&&"string"==typeof a&&"ace"!=a){this.$keybindingId=a;var c=this;r.loadModule(["keybinding",a],function(d){c.$keybindingId==a&&c.keyBinding.setKeyboardHandler(d&&d.handler),b&&b()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(a),b&&b()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(a){if(this.session!=a){this.curOp&&this.endOperation(),this.curOp={};var b=this.session;if(b){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var c=this.session.getSelection();c.off("changeCursor",this.$onCursorChange),c.off("changeSelection",this.$onSelectionChange)}this.session=a,a?(this.$onDocumentChange=this.onDocumentChange.bind(this),a.on("change",this.$onDocumentChange),this.renderer.setSession(a),this.$onChangeMode=this.onChangeMode.bind(this),a.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),a.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),a.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),a.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),a.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),a.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=a.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(a)),this._signal("changeSession",{session:a,oldSession:b}),this.curOp=null,b&&b._signal("changeEditor",{oldEditor:this}),a&&a._signal("changeEditor",{editor:this}),a&&!a.destroyed&&a.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(a,b){return this.session.doc.setValue(a),b?1==b?this.navigateFileEnd():-1==b&&this.navigateFileStart():this.selectAll(),a},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(a){this.renderer.onResize(a)},this.setTheme=function(a,b){this.renderer.setTheme(a,b)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(a){this.renderer.setStyle(a)},this.unsetStyle=function(a){this.renderer.unsetStyle(a)},this.getFontSize=function(){return this.getOption("fontSize")||e.computedStyle(this.container).fontSize},this.setFontSize=function(a){this.setOption("fontSize",a)},this.$highlightBrackets=function(){if(!this.$highlightPending){var a=this;this.$highlightPending=!0,setTimeout(function(){a.$highlightPending=!1;var b=a.session;if(b&&!b.destroyed){b.$bracketHighlight&&(b.$bracketHighlight.markerIds.forEach(function(a){b.removeMarker(a)}),b.$bracketHighlight=null);var c=a.getCursorPosition(),d=b.getMatchingBracketRanges(c);if(!d){var e=new s(b,c.row,c.column),f=e.getCurrentToken();if(f&&/\b(?:tag-open|tag-name)/.test(f.type)){var g=b.getMatchingTags(c);g&&(d=[g.openTagName,g.closeTagName])}}if(!d&&b.$mode.getMatching&&(d=b.$mode.getMatching(a.session)),!d)return void(a.getHighlightIndentGuides()&&a.renderer.$textLayer.$highlightIndentGuide());var h="ace_bracket";Array.isArray(d)?1==d.length&&(h="ace_error_bracket"):d=[d],2==d.length&&(0==n.comparePoints(d[0].end,d[1].start)?d=[n.fromPoints(d[0].start,d[1].end)]:0==n.comparePoints(d[0].start,d[1].end)&&(d=[n.fromPoints(d[1].start,d[0].end)])),b.$bracketHighlight={ranges:d,markerIds:d.map(function(a){return b.addMarker(a,h,"text")})},a.getHighlightIndentGuides()&&a.renderer.$textLayer.$highlightIndentGuide()}},50)}},this.focus=function(){this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(a){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",a))},this.onBlur=function(a){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",a))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(a){var b=this.session.$useWrapMode,c=a.start.row==a.end.row?a.end.row:1/0;this.renderer.updateLines(a.start.row,c,b),this._signal("change",a),this.$cursorChange()},this.onTokenizerUpdate=function(a){var b=a.data;this.renderer.updateLines(b.first,b.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var a,b=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(a=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(a=!1),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(a=!1)),b.$highlightLineMarker&&!a)b.removeMarker(b.$highlightLineMarker.id),b.$highlightLineMarker=null;else if(!b.$highlightLineMarker&&a){var c=new n(a.row,a.column,a.row,1/0);c.id=b.addMarker(c,"ace_active-line","screenLine"),b.$highlightLineMarker=c}else a&&(b.$highlightLineMarker.start.row=a.row,b.$highlightLineMarker.end.row=a.row,b.$highlightLineMarker.start.column=a.column,b._signal("changeBackMarker"))},this.onSelectionChange=function(a){var b=this.session;if(b.$selectionMarker&&b.removeMarker(b.$selectionMarker),b.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var c=this.selection.getRange(),d=this.getSelectionStyle();b.$selectionMarker=b.addMarker(c,"ace_selection",d)}var e=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(e),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var a=this.session,b=this.getSelectionRange();if(!b.isEmpty()&&!b.isMultiLine()){var c=b.start.column,d=b.end.column,e=a.getLine(b.start.row),f=e.substring(c,d);if(!(f.length>5e3)&&/[\w\d]/.test(f)){var g=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:f}),h=e.substring(c-1,d+1);if(g.test(h))return g}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(a){this.renderer.updateText(),this._emit("changeMode",a)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var a=this.getSelectedText(),b=this.session.doc.getNewLineCharacter(),c=!1;if(!a&&this.$copyWithEmptySelection){c=!0;for(var d=this.selection.getAllRanges(),e=0;e<d.length;e++){var f=d[e];e&&d[e-1].start.row==f.start.row||(a+=this.session.getLine(f.start.row)+b)}}var g={text:a};return this._signal("copy",g),t.lineMode=!!c&&g.text,g.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(a,b){var c={text:a,event:b};this.commands.exec("paste",this,c)},this.$handlePaste=function(a){"string"==typeof a&&(a={text:a}),this._signal("paste",a);var b=a.text,c=b===t.lineMode,d=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)c?d.insert({row:this.selection.lead.row,column:0},b):this.insert(b);else if(c)this.selection.rangeList.ranges.forEach(function(a){d.insert({row:a.start.row,column:0},b)});else{var e=b.split(/\r\n|\r|\n/),f=this.selection.rangeList.ranges,g=!(2!=e.length||e[0]&&e[1]);if(e.length!=f.length||g)return this.commands.exec("insertstring",this,b);for(var h=f.length;h--;){var i=f[h];i.isEmpty()||d.remove(i),d.insert(i.start,e[h])}}},this.execCommand=function(a,b){return this.commands.exec(a,this,b)},this.insert=function(a,b){var c=this.session,d=c.getMode(),e=this.getCursorPosition();if(this.getBehavioursEnabled()&&!b){var f=d.transformAction(c.getState(e.row),"insertion",this,c,a);f&&(a!==f.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),a=f.text)}if("\t"==a&&(a=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==a.indexOf("\n")){var g=new n.fromPoints(e,e);g.end.column+=a.length,this.session.remove(g)}}else{var g=this.getSelectionRange();e=this.session.remove(g),this.clearSelection()}if("\n"==a||"\r\n"==a){var h=c.getLine(e.row);if(e.column>h.search(/\S|$/)){var i=h.substr(e.column).search(/\S|$/);c.doc.removeInLine(e.row,e.column,e.column+i)}}this.clearSelection();var j=e.column,k=c.getState(e.row),h=c.getLine(e.row),l=d.checkOutdent(k,h,a);if(c.insert(e,a),f&&f.selection&&(2==f.selection.length?this.selection.setSelectionRange(new n(e.row,j+f.selection[0],e.row,j+f.selection[1])):this.selection.setSelectionRange(new n(e.row+f.selection[0],f.selection[1],e.row+f.selection[2],f.selection[3]))),this.$enableAutoIndent){if(c.getDocument().isNewLine(a)){var m=d.getNextLineIndent(k,h.slice(0,e.column),c.getTabString());c.insert({row:e.row+1,column:0},m)}l&&d.autoOutdent(k,c,e.row)}},this.autoIndent=function(){var a,b,c=this.session,d=c.getMode();if(this.selection.isEmpty())a=0,b=c.doc.getLength()-1;else{var e=this.getSelectionRange();a=e.start.row,b=e.end.row}for(var f,g,h,i="",j="",k="",l=c.getTabString(),m=a;m<=b;m++)m>0&&(i=c.getState(m-1),j=c.getLine(m-1),k=d.getNextLineIndent(i,j,l)),f=c.getLine(m),g=d.$getIndent(f),k!==g&&(g.length>0&&(h=new n(m,0,m,g.length),c.remove(h)),k.length>0&&c.insert({row:m,column:0},k)),d.autoOutdent(i,c,m)},this.onTextInput=function(a,b){if(!b)return this.keyBinding.onTextInput(a);this.startOperation({command:{name:"insertstring"}});var c=this.applyComposition.bind(this,a,b);this.selection.rangeCount?this.forEachSelection(c):c(),this.endOperation()},this.applyComposition=function(a,b){if(b.extendLeft||b.extendRight){var c=this.selection.getRange();c.start.column-=b.extendLeft,c.end.column+=b.extendRight,c.start.column<0&&(c.start.row--,c.start.column+=this.session.getLine(c.start.row).length+1),this.selection.setRange(c),!a&&!c.isEmpty()&&this.remove()}if((a||!this.selection.isEmpty())&&this.insert(a,!0),b.restoreStart||b.restoreEnd){var c=this.selection.getRange();c.start.column-=b.restoreStart,c.end.column-=b.restoreEnd,this.selection.setRange(c)}},this.onCommandKey=function(a,b,c){return this.keyBinding.onCommandKey(a,b,c)},this.setOverwrite=function(a){this.session.setOverwrite(a)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(a){this.setOption("scrollSpeed",a)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(a){this.setOption("dragDelay",a)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(a){this.setOption("selectionStyle",a)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(a){this.setOption("highlightActiveLine",a)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(a){this.setOption("highlightGutterLine",a)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(a){this.setOption("highlightSelectedWord",a)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(a){this.renderer.setAnimatedScroll(a)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(a){this.renderer.setShowInvisibles(a)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(a){this.renderer.setDisplayIndentGuides(a)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setHighlightIndentGuides=function(a){this.renderer.setHighlightIndentGuides(a)},this.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},this.setShowPrintMargin=function(a){this.renderer.setShowPrintMargin(a)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(a){this.renderer.setPrintMarginColumn(a)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(a){this.setOption("readOnly",a)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(a){this.setOption("behavioursEnabled",a)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(a){this.setOption("wrapBehavioursEnabled",a)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(a){this.setOption("showFoldWidgets",a)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(a){this.setOption("fadeFoldWidgets",a)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(a){this.selection.isEmpty()&&("left"==a?this.selection.selectLeft():this.selection.selectRight());var b=this.getSelectionRange();if(this.getBehavioursEnabled()){var c=this.session,d=c.getState(b.start.row),e=c.getMode().transformAction(d,"deletion",this,c,b);if(0===b.end.column){var f=c.getTextRange(b);if("\n"==f[f.length-1]){var g=c.getLine(b.end.row);/^\s+$/.test(g)&&(b.end.column=g.length)}}e&&(b=e)}this.session.remove(b),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var a=this.getSelectionRange();a.start.column==a.end.column&&a.start.row==a.end.row&&(a.end.column=0,a.end.row++),this.session.remove(a),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var a=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(a)},this.transposeLetters=function(){if(this.selection.isEmpty()){var a=this.getCursorPosition(),b=a.column;if(0!==b){var c,d,e=this.session.getLine(a.row);b<e.length?(c=e.charAt(b)+e.charAt(b-1),d=new n(a.row,b-1,a.row,b+1)):(c=e.charAt(b-1)+e.charAt(b-2),d=new n(a.row,b-2,a.row,b)),this.session.replace(d,c),this.session.selection.moveToPosition(d.end)}}},this.toLowerCase=function(){var a=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var b=this.getSelectionRange(),c=this.session.getTextRange(b);this.session.replace(b,c.toLowerCase()),this.selection.setSelectionRange(a)},this.toUpperCase=function(){var a=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var b=this.getSelectionRange(),c=this.session.getTextRange(b);this.session.replace(b,c.toUpperCase()),this.selection.setSelectionRange(a)},this.indent=function(){var a=this.session,b=this.getSelectionRange();if(b.start.row<b.end.row){var c=this.$getSelectedRows();return void a.indentRows(c.first,c.last,"\t")}if(b.start.column<b.end.column){if(!/^\s+$/.test(a.getTextRange(b))){var c=this.$getSelectedRows();return void a.indentRows(c.first,c.last,"\t")}}var d=a.getLine(b.start.row),e=b.start,g=a.getTabSize(),h=a.documentToScreenColumn(e.row,e.column);if(this.session.getUseSoftTabs())var i=g-h%g,j=f.stringRepeat(" ",i);else{for(var i=h%g;" "==d[b.start.column-1]&&i;)b.start.column--,i--;this.selection.setSelectionRange(b),j="\t"}return this.insert(j)},this.blockIndent=function(){var a=this.$getSelectedRows();this.session.indentRows(a.first,a.last,"\t")},this.blockOutdent=function(){var a=this.session.getSelection();this.session.outdentRows(a.getRange())},this.sortLines=function(){for(var a=this.$getSelectedRows(),b=this.session,c=[],d=a.first;d<=a.last;d++)c.push(b.getLine(d));c.sort(function(a,b){return a.toLowerCase()<b.toLowerCase()?-1:a.toLowerCase()>b.toLowerCase()?1:0});for(var e=new n(0,0,0,0),d=a.first;d<=a.last;d++){var f=b.getLine(d);e.start.row=d,e.end.row=d,e.end.column=f.length,b.replace(e,c[d-a.first])}},this.toggleCommentLines=function(){var a=this.session.getState(this.getCursorPosition().row),b=this.$getSelectedRows();this.session.getMode().toggleCommentLines(a,this.session,b.first,b.last)},this.toggleBlockComment=function(){var a=this.getCursorPosition(),b=this.session.getState(a.row),c=this.getSelectionRange();this.session.getMode().toggleBlockComment(b,this.session,c,a)},this.getNumberAt=function(a,b){var c=/[\-]?[0-9]+(?:\.[0-9]+)?/g;c.lastIndex=0;for(var d=this.session.getLine(a);c.lastIndex<b;){var e=c.exec(d);if(e.index<=b&&e.index+e[0].length>=b){return{value:e[0],start:e.index,end:e.index+e[0].length}}}return null},this.modifyNumber=function(a){var b=this.selection.getCursor().row,c=this.selection.getCursor().column,d=new n(b,c-1,b,c),e=this.session.getTextRange(d);if(!isNaN(parseFloat(e))&&isFinite(e)){var f=this.getNumberAt(b,c);if(f){var g=f.value.indexOf(".")>=0?f.start+f.value.indexOf(".")+1:f.end,h=f.start+f.value.length-g,i=parseFloat(f.value);i*=Math.pow(10,h),g!==f.end&&c<g?a*=Math.pow(10,f.end-c-1):a*=Math.pow(10,f.end-c),i+=a,i/=Math.pow(10,h);var j=i.toFixed(h),k=new n(b,f.start,b,f.end);this.session.replace(k,j),this.moveCursorTo(b,Math.max(f.start+1,c+j.length-f.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var a=this.selection.getCursor().row,b=this.selection.getCursor().column;this.selection.selectWord();var c=this.getSelectedText(),d=this.selection.getWordRange().start.column,e=c.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),g=b-d-1;g<0&&(g=0);var h=0,i=0,j=this;c.match(/[A-Za-z0-9_]+/)&&e.forEach(function(b,e){i=h+b.length,g>=h&&g<=i&&(c=b,j.selection.clearSelection(),j.moveCursorTo(a,h+d),j.selection.selectTo(a,i+d)),h=i});for(var k,l=this.$toggleWordPairs,m=0;m<l.length;m++)for(var n=l[m],o=0;o<=1;o++){var p=+!o,q=c.match(new RegExp("^\\s?_?("+f.escapeRegExp(n[o])+")\\s?$","i"));if(q){var r=c.match(new RegExp("([_]|^|\\s)("+f.escapeRegExp(q[1])+")($|\\s)","g"));r&&(k=c.replace(new RegExp(f.escapeRegExp(n[o]),"i"),function(a){var b=n[p];return a.toUpperCase()==a?b=b.toUpperCase():a.charAt(0).toUpperCase()==a.charAt(0)&&(b=b.substr(0,0)+n[p].charAt(0).toUpperCase()+b.substr(1)),b}),this.insert(k),k="")}}},this.removeLines=function(){var a=this.$getSelectedRows();this.session.removeFullLines(a.first,a.last),this.clearSelection()},this.duplicateSelection=function(){var a=this.selection,b=this.session,c=a.getRange(),d=a.isBackwards();if(c.isEmpty()){var e=c.start.row;b.duplicateLines(e,e)}else{var f=d?c.start:c.end,g=b.insert(f,b.getTextRange(c),!1);c.start=f,c.end=g,a.setSelectionRange(c,d)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(a,b,c){return this.session.moveText(a,b,c)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(a,b){var c,d,e=this.selection;if(!e.inMultiSelectMode||this.inVirtualSelectionMode){var f=e.toOrientedRange();c=this.$getSelectedRows(f),d=this.session.$moveLines(c.first,c.last,b?0:a),b&&-1==a&&(d=0),f.moveBy(d,0),e.fromOrientedRange(f)}else{var g=e.rangeList.ranges;e.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var h=0,i=0,j=g.length,k=0;k<j;k++){var l=k;g[k].moveBy(h,0),c=this.$getSelectedRows(g[k]);for(var m=c.first,n=c.last;++k<j;){i&&g[k].moveBy(i,0);var o=this.$getSelectedRows(g[k]);if(b&&o.first!=n)break;if(!b&&o.first>n+1)break;n=o.last}for(k--,h=this.session.$moveLines(m,n,b?0:a),b&&-1==a&&(l=k+1);l<=k;)g[l].moveBy(h,0),l++;b||(h=0),i+=h}e.fromOrientedRange(e.ranges[0]),e.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(a){return a=(a||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(a.start.row),last:this.session.getRowFoldEnd(a.end.row)}},this.onCompositionStart=function(a){this.renderer.showComposition(a)},this.onCompositionUpdate=function(a){this.renderer.setCompositionText(a)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(a){return a>=this.getFirstVisibleRow()&&a<=this.getLastVisibleRow()},this.isRowFullyVisible=function(a){return a>=this.renderer.getFirstFullyVisibleRow()&&a<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(a,b){var c=this.renderer,d=this.renderer.layerConfig,e=a*Math.floor(d.height/d.lineHeight);!0===b?this.selection.$moveSelection(function(){this.moveCursorBy(e,0)}):!1===b&&(this.selection.moveCursorBy(e,0),this.selection.clearSelection());var f=c.scrollTop;c.scrollBy(0,e*d.lineHeight),null!=b&&c.scrollCursorIntoView(null,.5),c.animateScrolling(f)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(a){this.renderer.scrollToRow(a)},this.scrollToLine=function(a,b,c,d){this.renderer.scrollToLine(a,b,c,d)},this.centerSelection=function(){var a=this.getSelectionRange(),b={row:Math.floor(a.start.row+(a.end.row-a.start.row)/2),column:Math.floor(a.start.column+(a.end.column-a.start.column)/2)};this.renderer.alignCursor(b,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(a,b){this.selection.moveCursorTo(a,b)},this.moveCursorToPosition=function(a){this.selection.moveCursorToPosition(a)},this.jumpToMatching=function(a,b){var c=this.getCursorPosition(),d=new s(this.session,c.row,c.column),e=d.getCurrentToken(),f=0;e&&-1!==e.type.indexOf("tag-name")&&(e=d.stepBackward());var g=e||d.stepForward();if(g){var h,i,j=!1,k={},l=c.column-g.start,m={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(g.value.match(/[{}()\[\]]/g)){for(;l<g.value.length&&!j;l++)if(m[g.value[l]])switch(i=m[g.value[l]]+"."+g.type.replace("rparen","lparen"),isNaN(k[i])&&(k[i]=0),g.value[l]){case"(":case"[":case"{":k[i]++;break;case")":case"]":case"}":-1===--k[i]&&(h="bracket",j=!0)}}else-1!==g.type.indexOf("tag-name")&&(isNaN(k[g.value])&&(k[g.value]=0),"<"===e.value&&f>1?k[g.value]++:"</"===e.value&&k[g.value]--,-1===k[g.value]&&(h="tag",j=!0));j||(e=g,f++,g=d.stepForward(),l=0)}while(g&&!j);if(h){var o,p;if("bracket"===h)(o=this.session.getBracketRange(c))||(o=new n(d.getCurrentTokenRow(),d.getCurrentTokenColumn()+l-1,d.getCurrentTokenRow(),d.getCurrentTokenColumn()+l-1),p=o.start,(b||p.row===c.row&&Math.abs(p.column-c.column)<2)&&(o=this.session.getBracketRange(p)));else if("tag"===h){if(!g||-1===g.type.indexOf("tag-name"))return;if(o=new n(d.getCurrentTokenRow(),d.getCurrentTokenColumn()-2,d.getCurrentTokenRow(),d.getCurrentTokenColumn()-2),0===o.compare(c.row,c.column)){var q=this.session.getMatchingTags(c);q&&(q.openTag.contains(c.row,c.column)?(o=q.closeTag,p=o.start):(o=q.openTag,p=q.closeTag.start.row===c.row&&q.closeTag.start.column===c.column?o.end:o.start))}p=p||o.start}(p=o&&o.cursor||p)&&(a?o&&b?this.selection.setRange(o):o&&o.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(p.row,p.column):this.selection.moveTo(p.row,p.column))}}},this.gotoLine=function(a,b,c){this.selection.clearSelection(),this.session.unfold({row:a-1,column:b||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(a-1,b||0),this.isRowFullyVisible(a-1)||this.scrollToLine(a-1,!0,c)},this.navigateTo=function(a,b){this.selection.moveTo(a,b)},this.navigateUp=function(a){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var b=this.selection.anchor.getPosition();return this.moveCursorToPosition(b)}this.selection.clearSelection(),this.selection.moveCursorBy(-a||-1,0)},this.navigateDown=function(a){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var b=this.selection.anchor.getPosition();return this.moveCursorToPosition(b)}this.selection.clearSelection(),this.selection.moveCursorBy(a||1,0)},this.navigateLeft=function(a){if(this.selection.isEmpty())for(a=a||1;a--;)this.selection.moveCursorLeft();else{var b=this.getSelectionRange().start;this.moveCursorToPosition(b)}this.clearSelection()},this.navigateRight=function(a){if(this.selection.isEmpty())for(a=a||1;a--;)this.selection.moveCursorRight();else{var b=this.getSelectionRange().end;this.moveCursorToPosition(b)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(a,b){b&&this.$search.set(b);var c=this.$search.find(this.session),d=0;return c?(this.$tryReplace(c,a)&&(d=1),this.selection.setSelectionRange(c),this.renderer.scrollSelectionIntoView(c.start,c.end),d):d},this.replaceAll=function(a,b){b&&this.$search.set(b);var c=this.$search.findAll(this.session),d=0;if(!c.length)return d;var e=this.getSelectionRange();this.selection.moveTo(0,0);for(var f=c.length-1;f>=0;--f)this.$tryReplace(c[f],a)&&d++;return this.selection.setSelectionRange(e),d},this.$tryReplace=function(a,b){var c=this.session.getTextRange(a);return b=this.$search.replace(c,b),null!==b?(a.end=this.session.replace(a,b),a):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(a,b,c){b||(b={}),"string"==typeof a||a instanceof RegExp?b.needle=a:"object"==typeof a&&d.mixin(b,a);var e=this.selection.getRange();null==b.needle&&(a=this.session.getTextRange(e)||this.$search.$options.needle,a||(e=this.session.getWordRange(e.start.row,e.start.column),a=this.session.getTextRange(e)),this.$search.set({needle:a})),this.$search.set(b),b.start||this.$search.set({start:e});var f=this.$search.find(this.session);return b.preventScroll?f:f?(this.revealRange(f,c),f):(b.backwards?e.start=e.end:e.end=e.start,void this.selection.setRange(e))},this.findNext=function(a,b){this.find({skipCurrent:!0,backwards:!1},a,b)},this.findPrevious=function(a,b){this.find(a,{skipCurrent:!0,backwards:!0},b)},this.revealRange=function(a,b){this.session.unfold(a),this.selection.setSelectionRange(a);var c=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(a.start,a.end,.5),!1!==b&&this.renderer.animateScrolling(c)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(a){a.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(a){if(a){var b,c=this,d=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var e=this.$scrollAnchor;e.style.cssText="position:absolute",this.container.insertBefore(e,this.container.firstChild);var f=this.on("changeSelection",function(){d=!0}),g=this.renderer.on("beforeRender",function(){d&&(b=c.renderer.container.getBoundingClientRect())}),h=this.renderer.on("afterRender",function(){if(d&&b&&(c.isFocused()||c.searchBox&&c.searchBox.isFocused())){var a=c.renderer,f=a.$cursorLayer.$pixelPos,g=a.layerConfig,h=f.top-g.offset;d=f.top>=0&&h+b.top<0||!(f.top<g.height&&f.top+b.top+g.lineHeight>window.innerHeight)&&null,null!=d&&(e.style.top=h+"px",e.style.left=f.left+"px",e.style.height=g.lineHeight+"px",e.scrollIntoView(d)),d=b=null}});this.setAutoScrollEditorIntoView=function(a){a||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",f),this.renderer.off("afterRender",h),this.renderer.off("beforeRender",g))}}},this.$resetCursorStyle=function(){var a=this.$cursorStyle||"ace",b=this.renderer.$cursorLayer;b&&(b.setSmoothBlinking(/smooth/.test(a)),b.isBlinking=!this.$readOnly&&"wide"!=a,e.setCssClass(b.element,"ace_slim-cursors",/slim/.test(a)))},this.prompt=function(a,b,c){var d=this;r.loadModule("./ext/prompt",function(e){e.prompt(d,a,b,c)})}}.call(u.prototype),r.defineOptions(u.prototype,"editor",{selectionStyle:{set:function(a){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:a})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(a){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(a){this.textInput.setReadOnly(a),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(a){this.textInput.setCopyWithEmptySelection(a)},initialValue:!1},cursorStyle:{set:function(a){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(a){this.setAutoScrollEditorIntoView(a)}},keyboardHandler:{set:function(a){this.setKeyboardHandler(a)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(a){this.session.setValue(a)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(a){this.setSession(a)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(a){this.renderer.$gutterLayer.setShowLineNumbers(a),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),a&&this.$relativeLineNumbers?v.attach(this):v.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(a){this.$showLineNumbers&&a?v.attach(this):v.detach(this)}},placeholder:{set:function(a){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var a=this.session&&(this.renderer.$composition||this.getValue());if(a&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),e.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(a||this.renderer.placeholderNode)!a&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),e.addCssClass(this.container,"ace_hasPlaceholder");var b=e.createElement("div");b.className="ace_placeholder",b.textContent=this.$placeholder||"",this.renderer.placeholderNode=b,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var v={getText:function(a,b){return(Math.abs(a.selection.lead.row-b)||b+1+(b<9?"·":""))+""},getWidth:function(a,b,c){return Math.max(b.toString().length,(c.lastRow+1).toString().length,2)*c.characterWidth},update:function(a,b){b.renderer.$loop.schedule(b.renderer.CHANGE_GUTTER)},attach:function(a){a.renderer.$gutterLayer.$renderer=this,a.on("changeSelection",this.update),this.update(null,a)},detach:function(a){a.renderer.$gutterLayer.$renderer==this&&(a.renderer.$gutterLayer.$renderer=null),a.off("changeSelection",this.update),this.update(null,a)}};b.Editor=u}),define("ace/undomanager",["require","exports","module","ace/range"],function(a,b,c){"use strict";function d(a,b){for(var c=b;c--;){var d=a[c];if(d&&!d[0].ignore){for(;c<b-1;){var e=j(a[c],a[c+1]);a[c]=e[0],a[c+1]=e[1],c++}return!0}}}function e(a){return{row:a.row,column:a.column}}function f(a){return{start:e(a.start),end:e(a.end),action:a.action,lines:a.lines.slice()}}function g(a){if(a=a||this,Array.isArray(a))return a.map(g).join("\n");var b="";return a.action?(b="insert"==a.action?"+":"-",b+="["+a.lines+"]"):a.value&&(b=Array.isArray(a.value)?a.value.map(h).join("\n"):h(a.value)),a.start&&(b+=h(a)),(a.id||a.rev)&&(b+="\t("+(a.id||a.rev)+")"),b}function h(a){return a.start.row+":"+a.start.column+"=>"+a.end.row+":"+a.end.column}function i(a,b){var c="insert"==a.action,d="insert"==b.action;if(c&&d)if(s(b.start,a.end)>=0)l(b,a,-1);else{if(!(s(b.start,a.start)<=0))return null;l(a,b,1)}else if(c&&!d)if(s(b.start,a.end)>=0)l(b,a,-1);else{if(!(s(b.end,a.start)<=0))return null;l(a,b,-1)}else if(!c&&d)if(s(b.start,a.start)>=0)l(b,a,1);else{if(!(s(b.start,a.start)<=0))return null;l(a,b,1)}else if(!c&&!d)if(s(b.start,a.start)>=0)l(b,a,1);else{if(!(s(b.end,a.start)<=0))return null;l(a,b,-1)}return[b,a]}function j(a,b){for(var c=a.length;c--;)for(var d=0;d<b.length;d++)if(!i(a[c],b[d])){for(;c<a.length;){for(;d--;)i(b[d],a[c]);d=b.length,c++}return[a,b]}return a.selectionBefore=b.selectionBefore=a.selectionAfter=b.selectionAfter=null,[b,a]}function k(a,b){var c="insert"==a.action,d="insert"==b.action;if(c&&d)s(a.start,b.start)<0?l(b,a,1):l(a,b,1);else if(c&&!d)s(a.start,b.end)>=0?l(a,b,-1):s(a.start,b.start)<=0?l(b,a,1):(l(a,r.fromPoints(b.start,a.start),-1),l(b,a,1));else if(!c&&d)s(b.start,a.end)>=0?l(b,a,-1):s(b.start,a.start)<=0?l(a,b,1):(l(b,r.fromPoints(a.start,b.start),-1),l(a,b,1));else if(!c&&!d)if(s(b.start,a.end)>=0)l(b,a,-1);else{if(!(s(b.end,a.start)<=0)){var e,f;return s(a.start,b.start)<0&&(e=a,a=n(a,b.start)),s(a.end,b.end)>0&&(f=n(a,b.end)),m(b.end,a.start,a.end,-1),f&&!e&&(a.lines=f.lines,a.start=f.start,a.end=f.end,f=a),[b,e,f].filter(Boolean)}l(a,b,-1)}return[b,a]}function l(a,b,c){m(a.start,b.start,b.end,c),m(a.end,b.start,b.end,c)}function m(a,b,c,d){a.row==(1==d?b:c).row&&(a.column+=d*(c.column-b.column)),a.row+=d*(c.row-b.row)}function n(a,b){var c=a.lines,d=a.end;a.end=e(b);var f=a.end.row-a.start.row,g=c.splice(f,c.length),h=f?b.column:b.column-a.start.column;return c.push(g[0].substring(0,h)),g[0]=g[0].substr(h),{start:e(b),end:d,lines:g,action:a.action}}function o(a,b){b=f(b);for(var c=a.length;c--;){for(var d=a[c],e=0;e<d.length;e++){var g=d[e],h=k(g,b);b=h[0],2!=h.length&&(h[2]?(d.splice(e+1,1,h[1],h[2]),e++):h[1]||(d.splice(e,1),e--))}d.length||a.splice(c,1)}return a}function p(a,b){for(var c=0;c<b.length;c++)for(var d=b[c],e=0;e<d.length;e++)o(a,d[e])}var q=function(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()};(function(){this.addSession=function(a){this.$session=a},this.add=function(a,b,c){if(!this.$fromUndo&&a!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===b||!this.lastDeltas){this.lastDeltas=[];var d=this.$undoStack.length;d>this.$undoDepth-1&&this.$undoStack.splice(0,d-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),a.id=this.$rev=++this.$maxRev}"remove"!=a.action&&"insert"!=a.action||(this.$lastDelta=a),this.lastDeltas.push(a)}},this.addSelection=function(a,b){this.selections.push({value:a,rev:b||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(a,b){null==b&&(b=this.$rev+1);for(var c=this.$undoStack,d=c.length;d--;){var e=c[d][0];if(e.id<=a)break;e.id<b&&(e.ignore=!0)}this.lastDeltas=null},this.getSelection=function(a,b){for(var c=this.selections,d=c.length;d--;){var e=c[d];if(e.rev<a)return b&&(e=c[d+1]),e}},this.getRevision=function(){return this.$rev},this.getDeltas=function(a,b){null==b&&(b=this.$rev+1);for(var c=this.$undoStack,d=null,e=0,f=c.length;f--;){var g=c[f][0];if(g.id<b&&!d&&(d=f+1),g.id<=a){e=f+1;break}}return c.slice(e,d)},this.getChangedRanges=function(a,b){null==b&&(b=this.$rev+1)},this.getChangedLines=function(a,b){null==b&&(b=this.$rev+1)},this.undo=function(a,b){this.lastDeltas=null;var c=this.$undoStack;if(d(c,c.length)){a||(a=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var e=c.pop(),f=null;return e&&(f=a.undoChanges(e,b),this.$redoStack.push(e),this.$syncRev()),this.$fromUndo=!1,f}},this.redo=function(a,b){if(this.lastDeltas=null,a||(a=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var c=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);p(this.$redoStack,c),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(a){a[0].id=++this.$maxRev},this)}var d=this.$redoStack.pop(),e=null;return d&&(e=a.redoChanges(d,b),this.$undoStack.push(d),this.$syncRev()),this.$fromUndo=!1,e},this.$syncRev=function(){var a=this.$undoStack,b=a[a.length-1],c=b&&b[0].id||0;this.$redoStackBaseRev=c,this.$rev=c},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(a){void 0==a&&(a=this.$rev),this.mark=a},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(a){return a?g(a):g(this.$undoStack)+"\n---\n"+g(this.$redoStack)}}).call(q.prototype);var r=a("./range").Range,s=r.comparePoints;r.comparePoints;b.UndoManager=q}),define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(a,b,c){"use strict";var d=a("../lib/dom"),e=function(a,b){this.element=a,this.canvasHeight=b||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(a){d.translate(this.element,0,-a.firstRowScreen*a.lineHeight%this.canvasHeight-a.offset*this.$offsetCoefficient)},this.pageChanged=function(a,b){return Math.floor(a.firstRowScreen*a.lineHeight/this.canvasHeight)!==Math.floor(b.firstRowScreen*b.lineHeight/this.canvasHeight)},this.computeLineTop=function(a,b,c){var d=b.firstRowScreen*b.lineHeight,e=Math.floor(d/this.canvasHeight);return c.documentToScreenRow(a,0)*b.lineHeight-e*this.canvasHeight},this.computeLineHeight=function(a,b,c){return b.lineHeight*c.getRowLineCount(a)},this.getLength=function(){return this.cells.length},this.get=function(a){return this.cells[a]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(a){if(Array.isArray(a)){this.cells.push.apply(this.cells,a);for(var b=d.createFragment(this.element),c=0;c<a.length;c++)b.appendChild(a[c].element);this.element.appendChild(b)}else this.cells.push(a),this.element.appendChild(a.element)},this.unshift=function(a){if(Array.isArray(a)){this.cells.unshift.apply(this.cells,a);for(var b=d.createFragment(this.element),c=0;c<a.length;c++)b.appendChild(a[c].element);this.element.firstChild?this.element.insertBefore(b,this.element.firstChild):this.element.appendChild(b)}else this.cells.unshift(a),this.element.insertAdjacentElement("afterbegin",a.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(a){a&&(a.element.remove(),this.cellCache.push(a))},this.createCell=function(a,b,c,e){var f=this.cellCache.pop();if(!f){var g=d.createElement("div");e&&e(g),this.element.appendChild(g),f={element:g,text:"",row:a}}return f.row=a,f}}).call(e.prototype),b.Lines=e}),define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(a,b,c){"use strict";function d(a){var b=document.createTextNode("");a.appendChild(b);var c=e.createElement("span");return a.appendChild(c),a}var e=a("../lib/dom"),f=a("../lib/oop"),g=a("../lib/lang"),h=a("../lib/event_emitter").EventEmitter,i=a("./lines").Lines,j=function(a){this.element=e.createElement("div"),this.element.className="ace_layer ace_gutter-layer",a.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new i(this.element),this.$lines.$offsetCoefficient=1};(function(){f.implement(this,h),this.setSession=function(a){this.session&&this.session.off("change",this.$updateAnnotations),this.session=a,a&&a.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(a,b){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(a,b)},this.removeGutterDecoration=function(a,b){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(a,b)},this.setAnnotations=function(a){this.$annotations=[];for(var b=0;b<a.length;b++){var c=a[b],d=c.row,e=this.$annotations[d];e||(e=this.$annotations[d]={text:[]});var f=c.text;f=f?g.escapeHTML(f):c.html||"",-1===e.text.indexOf(f)&&e.text.push(f);var h=c.type,i=c.className;i?e.className=i:"error"==h?e.className=" ace_error":"warning"==h&&" ace_error"!=e.className?e.className=" ace_warning":"info"==h&&!e.className&&(e.className=" ace_info")}},this.$updateAnnotations=function(a){if(this.$annotations.length){var b=a.start.row,c=a.end.row-b;if(0!==c)if("remove"==a.action)this.$annotations.splice(b,c+1,null);else{var d=new Array(c+1);d.unshift(b,1),this.$annotations.splice.apply(this.$annotations,d)}}},this.update=function(a){this.config=a;var b=this.session,c=a.firstRow,e=Math.min(a.lastRow+a.gutterOffset,b.getLength()-1);this.oldLastRow=e,this.config=a,this.$lines.moveContainer(a),this.$updateCursorRow();for(var f=b.getNextFoldLine(c),g=f?f.start.row:1/0,h=null,i=-1,j=c;;){if(j>g&&(j=f.end.row+1,f=b.getNextFoldLine(j,f),g=f?f.start.row:1/0),j>e){for(;this.$lines.getLength()>i+1;)this.$lines.pop();break}h=this.$lines.get(++i),h?h.row=j:(h=this.$lines.createCell(j,a,this.session,d),this.$lines.push(h)),this.$renderCell(h,a,f,j),j++}this._signal("afterRender"),this.$updateGutterWidth(a)},this.$updateGutterWidth=function(a){var b=this.session,c=b.gutterRenderer||this.$renderer,d=b.$firstLineNumber,e=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||b.$useWrapMode)&&(e=b.getLength()+d-1);var f=c?c.getWidth(b,e,a):e.toString().length*a.characterWidth,g=this.$padding||this.$computePadding();(f+=g.left+g.right)!==this.gutterWidth&&!isNaN(f)&&(this.gutterWidth=f,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",f))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var a=this.session.selection.getCursor();this.$cursorRow!==a.row&&(this.$cursorRow=a.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var a=this.session.selection.cursor.row;if(this.$cursorRow=a,!this.$cursorCell||this.$cursorCell.row!=a){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var b=this.$lines.cells;this.$cursorCell=null;for(var c=0;c<b.length;c++){var d=b[c];if(d.row>=this.$cursorRow){if(d.row>this.$cursorRow){var e=this.session.getFoldLine(this.$cursorRow);if(!(c>0&&e&&e.start.row==b[c-1].row))break;d=b[c-1]}d.element.className="ace_gutter-active-line "+d.element.className,this.$cursorCell=d;break}}}}},this.scrollLines=function(a){var b=this.config;if(this.config=a,this.$updateCursorRow(),this.$lines.pageChanged(b,a))return this.update(a);this.$lines.moveContainer(a);var c=Math.min(a.lastRow+a.gutterOffset,this.session.getLength()-1),d=this.oldLastRow;if(this.oldLastRow=c,!b||d<a.firstRow)return this.update(a);if(c<b.firstRow)return this.update(a);if(b.firstRow<a.firstRow)for(var e=this.session.getFoldedRowCount(b.firstRow,a.firstRow-1);e>0;e--)this.$lines.shift();if(d>c)for(var e=this.session.getFoldedRowCount(c+1,d);e>0;e--)this.$lines.pop();a.firstRow<b.firstRow&&this.$lines.unshift(this.$renderLines(a,a.firstRow,b.firstRow-1)),c>d&&this.$lines.push(this.$renderLines(a,d+1,c)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(a)},this.$renderLines=function(a,b,c){for(var e=[],f=b,g=this.session.getNextFoldLine(f),h=g?g.start.row:1/0;f>h&&(f=g.end.row+1,g=this.session.getNextFoldLine(f,g),h=g?g.start.row:1/0),!(f>c);){var i=this.$lines.createCell(f,a,this.session,d);this.$renderCell(i,a,g,f),e.push(i),f++}return e},this.$renderCell=function(a,b,c,d){var f=a.element,g=this.session,h=f.childNodes[0],i=f.childNodes[1],j=g.$firstLineNumber,k=g.$breakpoints,l=g.$decorations,m=g.gutterRenderer||this.$renderer,n=this.$showFoldWidgets&&g.foldWidgets,o=c?c.start.row:Number.MAX_VALUE,p="ace_gutter-cell ";if(this.$highlightGutterLine&&(d==this.$cursorRow||c&&d<this.$cursorRow&&d>=o&&this.$cursorRow<=c.end.row)&&(p+="ace_gutter-active-line ",this.$cursorCell!=a&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=a)),k[d]&&(p+=k[d]),l[d]&&(p+=l[d]),this.$annotations[d]&&(p+=this.$annotations[d].className),f.className!=p&&(f.className=p),n){var q=n[d];null==q&&(q=n[d]=g.getFoldWidget(d))}if(q){var p="ace_fold-widget ace_"+q;"start"==q&&d==o&&d<c.end.row?p+=" ace_closed":p+=" ace_open",i.className!=p&&(i.className=p);var r=b.lineHeight+"px";e.setStyle(i.style,"height",r),e.setStyle(i.style,"display","inline-block")}else i&&e.setStyle(i.style,"display","none");var s=(m?m.getText(g,d):d+j).toString();return s!==h.data&&(h.data=s),e.setStyle(a.element.style,"height",this.$lines.computeLineHeight(d,b,g)+"px"),e.setStyle(a.element.style,"top",this.$lines.computeLineTop(d,b,g)+"px"),a.text=s,a},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(a){this.$highlightGutterLine=a},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(a){this.$renderer=!a&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(a){a?e.addCssClass(this.element,"ace_folding-enabled"):e.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=a,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var a=e.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(a.borderLeftWidth)||0)+(parseInt(a.paddingLeft)||0)+1,this.$padding.right=(parseInt(a.borderRightWidth)||0)+(parseInt(a.paddingRight)||0),this.$padding},this.getRegion=function(a){var b=this.$padding||this.$computePadding(),c=this.element.getBoundingClientRect();return a.x<b.left+c.left?"markers":this.$showFoldWidgets&&a.x>c.right-b.right?"foldWidgets":void 0}}).call(j.prototype),b.Gutter=j}),define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(a,b,c){"use strict";var d=a("../range").Range,e=a("../lib/dom"),f=function(a){this.element=e.createElement("div"),this.element.className="ace_layer ace_marker-layer",a.appendChild(this.element)};(function(){function a(a,b,c,d){return(a?1:0)|(b?2:0)|(c?4:0)|(d?8:0)}this.$padding=0,this.setPadding=function(a){this.$padding=a},this.setSession=function(a){this.session=a},this.setMarkers=function(a){this.markers=a},this.elt=function(a,b){var c=-1!=this.i&&this.element.childNodes[this.i];c?this.i++:(c=document.createElement("div"),this.element.appendChild(c),this.i=-1),c.style.cssText=b,c.className=a},this.update=function(a){if(a){this.config=a,this.i=0;var b;for(var c in this.markers){var d=this.markers[c];if(d.range){var e=d.range.clipRows(a.firstRow,a.lastRow);if(!e.isEmpty())if(e=e.toScreenRange(this.session),d.renderer){var f=this.$getTop(e.start.row,a),g=this.$padding+e.start.column*a.characterWidth;d.renderer(b,e,g,f,a)}else"fullLine"==d.type?this.drawFullLineMarker(b,e,d.clazz,a):"screenLine"==d.type?this.drawScreenLineMarker(b,e,d.clazz,a):e.isMultiLine()?"text"==d.type?this.drawTextMarker(b,e,d.clazz,a):this.drawMultiLineMarker(b,e,d.clazz,a):this.drawSingleLineMarker(b,e,d.clazz+" ace_start ace_br15",a)}else d.update(b,this,this.session,a)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(a,b){return(a-b.firstRowScreen)*b.lineHeight},this.drawTextMarker=function(b,c,e,f,g){for(var h=this.session,i=c.start.row,j=c.end.row,k=i,l=0,m=0,n=h.getScreenLastRowColumn(k),o=new d(k,c.start.column,k,m);k<=j;k++)o.start.row=o.end.row=k,o.start.column=k==i?c.start.column:h.getRowWrapIndent(k),o.end.column=n,l=m,m=n,n=k+1<j?h.getScreenLastRowColumn(k+1):k==j?0:c.end.column,this.drawSingleLineMarker(b,o,e+(k==i?" ace_start":"")+" ace_br"+a(k==i||k==i+1&&c.start.column,l<m,m>n,k==j),f,k==j?0:1,g)},this.drawMultiLineMarker=function(a,b,c,d,e){var f=this.$padding,g=d.lineHeight,h=this.$getTop(b.start.row,d),i=f+b.start.column*d.characterWidth;if(e=e||"",this.session.$bidiHandler.isBidiRow(b.start.row)){var j=b.clone();j.end.row=j.start.row,j.end.column=this.session.getLine(j.start.row).length,this.drawBidiSingleLineMarker(a,j,c+" ace_br1 ace_start",d,null,e)}else this.elt(c+" ace_br1 ace_start","height:"+g+"px;right:0;top:"+h+"px;left:"+i+"px;"+(e||""));if(this.session.$bidiHandler.isBidiRow(b.end.row)){var j=b.clone();j.start.row=j.end.row,j.start.column=0,this.drawBidiSingleLineMarker(a,j,c+" ace_br12",d,null,e)}else{h=this.$getTop(b.end.row,d);var k=b.end.column*d.characterWidth;this.elt(c+" ace_br12","height:"+g+"px;width:"+k+"px;top:"+h+"px;left:"+f+"px;"+(e||""))}if(!((g=(b.end.row-b.start.row-1)*d.lineHeight)<=0)){h=this.$getTop(b.start.row+1,d);var l=(b.start.column?1:0)|(b.end.column?0:8);this.elt(c+(l?" ace_br"+l:""),"height:"+g+"px;right:0;top:"+h+"px;left:"+f+"px;"+(e||""))}},this.drawSingleLineMarker=function(a,b,c,d,e,f){if(this.session.$bidiHandler.isBidiRow(b.start.row))return this.drawBidiSingleLineMarker(a,b,c,d,e,f);var g=d.lineHeight,h=(b.end.column+(e||0)-b.start.column)*d.characterWidth,i=this.$getTop(b.start.row,d),j=this.$padding+b.start.column*d.characterWidth;this.elt(c,"height:"+g+"px;width:"+h+"px;top:"+i+"px;left:"+j+"px;"+(f||""))},this.drawBidiSingleLineMarker=function(a,b,c,d,e,f){var g=d.lineHeight,h=this.$getTop(b.start.row,d),i=this.$padding;this.session.$bidiHandler.getSelections(b.start.column,b.end.column).forEach(function(a){this.elt(c,"height:"+g+"px;width:"+a.width+(e||0)+"px;top:"+h+"px;left:"+(i+a.left)+"px;"+(f||""))},this)},this.drawFullLineMarker=function(a,b,c,d,e){var f=this.$getTop(b.start.row,d),g=d.lineHeight;b.start.row!=b.end.row&&(g+=this.$getTop(b.end.row,d)-f),this.elt(c,"height:"+g+"px;top:"+f+"px;left:0;right:0;"+(e||""))},this.drawScreenLineMarker=function(a,b,c,d,e){var f=this.$getTop(b.start.row,d),g=d.lineHeight;this.elt(c,"height:"+g+"px;top:"+f+"px;left:0;right:0;"+(e||""))}}).call(f.prototype),b.Marker=f}),define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(a,b,c){"use strict";var d=a("../lib/oop"),e=a("../lib/dom"),f=a("../lib/lang"),g=a("./lines").Lines,h=a("../lib/event_emitter").EventEmitter,i=function(a){this.dom=e,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",a.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new g(this.element)};(function(){d.implement(this,h),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var a=this.session.doc,b="\n"==a.getNewLineCharacter()&&"windows"!=a.getNewLineMode(),c=b?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=c)return this.EOL_CHAR=c,!0},this.setPadding=function(a){this.$padding=a,this.element.style.margin="0 "+a+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(a){this.$fontMetrics=a,this.$fontMetrics.on("changeCharacterSize",function(a){this._signal("changeCharacterSize",a)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(a){this.session=a,a&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(a){return this.showInvisibles!=a&&(this.showInvisibles=a,"string"==typeof a?(this.showSpaces=/tab/i.test(a),this.showTabs=/space/i.test(a),this.showEOL=/eol/i.test(a)):this.showSpaces=this.showTabs=this.showEOL=a,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(a){return this.displayIndentGuides!=a&&(this.displayIndentGuides=a,this.$computeTabString(),!0)},this.$highlightIndentGuides=!0,this.setHighlightIndentGuides=function(a){return this.$highlightIndentGuides!==a&&(this.$highlightIndentGuides=a,a)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var a=this.session.getTabSize();this.tabSize=a;for(var b=this.$tabStrings=[0],c=1;c<a+1;c++)if(this.showTabs){var d=this.dom.createElement("span");d.className="ace_invisible ace_invisible_tab",d.textContent=f.stringRepeat(this.TAB_CHAR,c),b.push(d)}else b.push(this.dom.createTextNode(f.stringRepeat(" ",c),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var e="ace_indent-guide",g=this.showSpaces?" ace_invisible ace_invisible_space":"",h=this.showSpaces?f.stringRepeat(this.SPACE_CHAR,this.tabSize):f.stringRepeat(" ",this.tabSize),i=this.showTabs?" ace_invisible ace_invisible_tab":"",j=this.showTabs?f.stringRepeat(this.TAB_CHAR,this.tabSize):h,d=this.dom.createElement("span");d.className=e+g,d.textContent=h,this.$tabStrings[" "]=d;var d=this.dom.createElement("span");d.className=e+i,d.textContent=j,this.$tabStrings["\t"]=d}},this.updateLines=function(a,b,c){if(this.config.lastRow!=a.lastRow||this.config.firstRow!=a.firstRow)return this.update(a);this.config=a;for(var d=Math.max(b,a.firstRow),e=Math.min(c,a.lastRow),f=this.element.childNodes,g=0,h=a.firstRow;h<d;h++){var i=this.session.getFoldLine(h);if(i){if(i.containsRow(d)){d=i.start.row;break}h=i.end.row}g++}for(var j=!1,h=d,i=this.session.getNextFoldLine(h),k=i?i.start.row:1/0;h>k&&(h=i.end.row+1,i=this.session.getNextFoldLine(h,i),k=i?i.start.row:1/0),!(h>e);){var l=f[g++];if(l){this.dom.removeChildren(l),this.$renderLine(l,h,h==k&&i),j&&(l.style.top=this.$lines.computeLineTop(h,a,this.session)+"px");var m=a.lineHeight*this.session.getRowLength(h)+"px";l.style.height!=m&&(j=!0,l.style.height=m)}h++}if(j)for(;g<this.$lines.cells.length;){var n=this.$lines.cells[g++];n.element.style.top=this.$lines.computeLineTop(n.row,a,this.session)+"px"}},this.scrollLines=function(a){var b=this.config;if(this.config=a,this.$lines.pageChanged(b,a))return this.update(a);this.$lines.moveContainer(a);var c=a.lastRow,d=b?b.lastRow:-1;if(!b||d<a.firstRow)return this.update(a);if(c<b.firstRow)return this.update(a);if(!b||b.lastRow<a.firstRow)return this.update(a);if(a.lastRow<b.firstRow)return this.update(a);if(b.firstRow<a.firstRow)for(var e=this.session.getFoldedRowCount(b.firstRow,a.firstRow-1);e>0;e--)this.$lines.shift();if(b.lastRow>a.lastRow)for(var e=this.session.getFoldedRowCount(a.lastRow+1,b.lastRow);e>0;e--)this.$lines.pop();a.firstRow<b.firstRow&&this.$lines.unshift(this.$renderLinesFragment(a,a.firstRow,b.firstRow-1)),a.lastRow>b.lastRow&&this.$lines.push(this.$renderLinesFragment(a,b.lastRow+1,a.lastRow)),this.$highlightIndentGuide()},this.$renderLinesFragment=function(a,b,c){for(var d=[],f=b,g=this.session.getNextFoldLine(f),h=g?g.start.row:1/0;f>h&&(f=g.end.row+1,g=this.session.getNextFoldLine(f,g),h=g?g.start.row:1/0),!(f>c);){var i=this.$lines.createCell(f,a,this.session),j=i.element;this.dom.removeChildren(j),e.setStyle(j.style,"height",this.$lines.computeLineHeight(f,a,this.session)+"px"),e.setStyle(j.style,"top",this.$lines.computeLineTop(f,a,this.session)+"px"),this.$renderLine(j,f,f==h&&g),this.$useLineGroups()?j.className="ace_line_group":j.className="ace_line",d.push(i),f++}return d},this.update=function(a){this.$lines.moveContainer(a),this.config=a;for(var b=a.firstRow,c=a.lastRow,d=this.$lines;d.getLength();)d.pop();d.push(this.$renderLinesFragment(a,b,c))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(a,b,c,d){for(var e,g=this,h=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,i=this.dom.createFragment(this.element),j=0;e=h.exec(d);){var k=e[1],l=e[2],m=e[3],n=e[4],o=e[5];if(g.showSpaces||!l){var p=j!=e.index?d.slice(j,e.index):"";if(j=e.index+e[0].length,p&&i.appendChild(this.dom.createTextNode(p,this.element)),k){var q=g.session.getScreenTabSize(b+e.index);i.appendChild(g.$tabStrings[q].cloneNode(!0)),b+=q-1}else if(l)if(g.showSpaces){var r=this.dom.createElement("span");r.className="ace_invisible ace_invisible_space",r.textContent=f.stringRepeat(g.SPACE_CHAR,l.length),i.appendChild(r)}else i.appendChild(this.com.createTextNode(l,this.element));else if(m){var r=this.dom.createElement("span");r.className="ace_invisible ace_invisible_space ace_invalid",r.textContent=f.stringRepeat(g.SPACE_CHAR,m.length),i.appendChild(r)}else if(n){b+=1;var r=this.dom.createElement("span");r.style.width=2*g.config.characterWidth+"px",r.className=g.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",r.textContent=g.showSpaces?g.SPACE_CHAR:n,i.appendChild(r)}else if(o){b+=1;var r=this.dom.createElement("span");r.style.width=2*g.config.characterWidth+"px",r.className="ace_cjk",r.textContent=o,i.appendChild(r)}}}if(i.appendChild(this.dom.createTextNode(j?d.slice(j):d,this.element)),this.$textToken[c.type])a.appendChild(i);else{var s="ace_"+c.type.replace(/\./g," ace_"),r=this.dom.createElement("span");"fold"==c.type&&(r.style.width=c.value.length*this.config.characterWidth+"px"),r.className=s,r.appendChild(i),a.appendChild(r)}return b+d.length},this.renderIndentGuide=function(a,b,c){var d=b.search(this.$indentGuideRe);if(d<=0||d>=c)return b;if(" "==b[0]){d-=d%this.tabSize;for(var e=d/this.tabSize,f=0;f<e;f++)a.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),b.substr(d)}if("\t"==b[0]){for(var f=0;f<d;f++)a.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),b.substr(d)}return this.$highlightIndentGuide(),b},this.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var a=this.session.doc.$lines;if(a){var b=this.session.selection.getCursor(),c=/^\s*/.exec(this.session.doc.getLine(b.row))[0].length,d=Math.floor(c/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:d,start:b.row};if(this.session.$bracketHighlight)for(var e=this.session.$bracketHighlight.ranges,f=0;f<e.length;f++)if(b.row!==e[f].start.row){this.$highlightIndentGuideMarker.end=e[f].start.row,b.row>e[f].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}if(!this.$highlightIndentGuideMarker.end&&""!==a[b.row]&&b.column===a[b.row].length){this.$highlightIndentGuideMarker.dir=1;for(var f=b.row+1;f<a.length;f++){var g=a[f],h=/^\s*/.exec(g)[0].length;if(""!==g&&(this.$highlightIndentGuideMarker.end=f,h<=c))break}}this.$renderHighlightIndentGuide()}}},this.$clearActiveIndentGuide=function(){for(var a=this.$lines.cells,b=0;b<a.length;b++){var c=a[b],d=c.element.childNodes;if(d.length>0)for(var e=0;e<d.length;e++)if(d[e].classList&&d[e].classList.contains("ace_indent-guide-active")){d[e].classList.remove("ace_indent-guide-active");break}}},this.$setIndentGuideActive=function(a,b){if(""!==this.session.doc.getLine(a.row)){var c=a.element.childNodes;if(c){var d=c[b-1];d&&d.classList&&d.classList.contains("ace_indent-guide")&&d.classList.add("ace_indent-guide-active")}}},this.$renderHighlightIndentGuide=function(){if(this.$lines){var a=this.$lines.cells;this.$clearActiveIndentGuide();var b=this.$highlightIndentGuideMarker.indentLevel;if(0!==b)if(1===this.$highlightIndentGuideMarker.dir)for(var c=0;c<a.length;c++){var d=a[c];if(this.$highlightIndentGuideMarker.end&&d.row>=this.$highlightIndentGuideMarker.start+1){if(d.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(d,b)}}else for(var c=a.length-1;c>=0;c--){var d=a[c];if(this.$highlightIndentGuideMarker.end&&d.row<this.$highlightIndentGuideMarker.start){if(d.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(d,b)}}}},this.$createLineElement=function(a){var b=this.dom.createElement("div");return b.className="ace_line",b.style.height=this.config.lineHeight+"px",b},this.$renderWrappedLine=function(a,b,c){var d=0,e=0,g=c[0],h=0,i=this.$createLineElement();a.appendChild(i);for(var j=0;j<b.length;j++){var k=b[j],l=k.value;if(0==j&&this.displayIndentGuides){if(d=l.length,!(l=this.renderIndentGuide(i,l,g)))continue;d-=l.length}if(d+l.length<g)h=this.$renderToken(i,h,k,l),d+=l.length;else{for(;d+l.length>=g;)h=this.$renderToken(i,h,k,l.substring(0,g-d)),l=l.substring(g-d),d=g,i=this.$createLineElement(),a.appendChild(i),i.appendChild(this.dom.createTextNode(f.stringRepeat(" ",c.indent),this.element)),e++,h=0,g=c[e]||Number.MAX_VALUE;0!=l.length&&(d+=l.length,h=this.$renderToken(i,h,k,l))}}c[c.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(i,h,null,"",!0)},this.$renderSimpleLine=function(a,b){for(var c=0,d=0;d<b.length;d++){var e=b[d],f=e.value;if(0!=d||!this.displayIndentGuides||(f=this.renderIndentGuide(a,f))){if(c+f.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(a,c,e,f);c=this.$renderToken(a,c,e,f)}}},this.$renderOverflowMessage=function(a,b,c,d,e){c&&this.$renderToken(a,b,c,d.slice(0,this.MAX_LINE_LENGTH-b));var f=this.dom.createElement("span");f.className="ace_inline_button ace_keyword ace_toggle_wrap",f.textContent=e?"<hide>":"<click to see more...>",a.appendChild(f)},this.$renderLine=function(a,b,c){if(!c&&0!=c&&(c=this.session.getFoldLine(b)),c)var d=this.$getFoldLineTokens(b,c);else var d=this.session.getTokens(b);var e=a;if(d.length){var f=this.session.getRowSplitData(b);if(f&&f.length){this.$renderWrappedLine(a,d,f);var e=a.lastChild}else{var e=a;this.$useLineGroups()&&(e=this.$createLineElement(),a.appendChild(e)),this.$renderSimpleLine(e,d)}}else this.$useLineGroups()&&(e=this.$createLineElement(),a.appendChild(e));if(this.showEOL&&e){c&&(b=c.end.row);var g=this.dom.createElement("span");g.className="ace_invisible ace_invisible_eol",g.textContent=b==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,e.appendChild(g)}},this.$getFoldLineTokens=function(a,b){function c(a,b,c){for(var d=0,f=0;f+a[d].value.length<b;)if(f+=a[d].value.length,++d==a.length)return;if(f!=b){var g=a[d].value.substring(b-f);g.length>c-b&&(g=g.substring(0,c-b)),e.push({type:a[d].type,value:g}),f=b+g.length,d+=1}for(;f<c&&d<a.length;){var g=a[d].value;g.length+f>c?e.push({type:a[d].type,value:g.substring(0,c-f)}):e.push(a[d]),f+=g.length,d+=1}}var d=this.session,e=[],f=d.getTokens(a);return b.walk(function(a,b,g,h,i){null!=a?e.push({type:"fold",value:a}):(i&&(f=d.getTokens(b)),f.length&&c(f,h,g))},b.end.row,this.session.getLine(b.end.row).length),e},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(i.prototype),b.Text=i}),define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(a,b,c){"use strict";var d=a("../lib/dom"),e=function(a){this.element=d.createElement("div"),this.element.className="ace_layer ace_cursor-layer",a.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),d.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(a){for(var b=this.cursors,c=b.length;c--;)d.setStyle(b[c].style,"opacity",a?"":"0")},this.$startCssAnimation=function(){for(var a=this.cursors,b=a.length;b--;)a[b].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&d.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,d.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(a){this.$padding=a},this.setSession=function(a){this.session=a},this.setBlinking=function(a){a!=this.isBlinking&&(this.isBlinking=a,this.restartTimer())},this.setBlinkInterval=function(a){a!=this.blinkInterval&&(this.blinkInterval=a,this.restartTimer())},this.setSmoothBlinking=function(a){a!=this.smoothBlinking&&(this.smoothBlinking=a,d.setCssClass(this.element,"ace_smooth-blinking",a),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var a=d.createElement("div");return a.className="ace_cursor",this.element.appendChild(a),this.cursors.push(a),a},this.removeCursor=function(){if(this.cursors.length>1){var a=this.cursors.pop();return a.parentNode.removeChild(a),a}},this.hideCursor=function(){this.isVisible=!1,d.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,d.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var a=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,d.removeCssClass(this.element,"ace_smooth-blinking")),a(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible)return void this.$stopCssAnimation();if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&d.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),d.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var b=function(){this.timeoutId=setTimeout(function(){a(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){a(!0),b()},this.blinkInterval),b()}},this.getPixelPosition=function(a,b){if(!this.config||!this.session)return{left:0,top:0};a||(a=this.session.selection.getCursor());var c=this.session.documentToScreenPosition(a);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(c.row,a.row)?this.session.$bidiHandler.getPosLeft(c.column):c.column*this.config.characterWidth),top:(c.row-(b?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(a,b){return a.top>=0&&a.top<b.maxHeight},this.update=function(a){this.config=a;var b=this.session.$selectionMarkers,c=0,e=0;void 0!==b&&0!==b.length||(b=[{cursor:null}]);for(var c=0,f=b.length;c<f;c++){var g=this.getPixelPosition(b[c].cursor,!0);if(!((g.top>a.height+a.offset||g.top<0)&&c>1)){var h=this.cursors[e++]||this.addCursor(),i=h.style;this.drawCursor?this.drawCursor(h,g,a,b[c],this.session):this.isCursorInView(g,a)?(d.setStyle(i,"display","block"),d.translate(h,g.left,g.top),d.setStyle(i,"width",Math.round(a.characterWidth)+"px"),d.setStyle(i,"height",a.lineHeight+"px")):d.setStyle(i,"display","none")}}for(;this.cursors.length>e;)this.removeCursor();var j=this.session.getOverwrite();this.$setOverwrite(j),this.$pixelPos=g,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(a){a!=this.overwrite&&(this.overwrite=a,a?d.addCssClass(this.element,"ace_overwrite-cursors"):d.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(e.prototype),b.Cursor=e}),define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./lib/dom"),f=a("./lib/event"),g=a("./lib/event_emitter").EventEmitter,h=32768,i=function(a){this.element=e.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=e.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),a.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,f.addListener(this.element,"scroll",this.onScroll.bind(this)),f.addListener(this.element,"mousedown",f.preventDefault)};(function(){d.implement(this,g),this.setVisible=function(a){this.element.style.display=a?"":"none",this.isVisible=a,this.coeff=1}}).call(i.prototype);var j=function(a,b){i.call(this,a),this.scrollTop=0,this.scrollHeight=0,b.$scrollbarWidth=this.width=e.scrollbarWidth(a.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};d.inherits(j,i),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var a=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-a)/(this.coeff-a)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(a){this.element.style.height=a+"px"},this.setInnerHeight=this.setScrollHeight=function(a){this.scrollHeight=a,a>h?(this.coeff=h/a,a=h):1!=this.coeff&&(this.coeff=1),this.inner.style.height=a+"px"},this.setScrollTop=function(a){this.scrollTop!=a&&(this.skipEvent=!0,this.scrollTop=a,this.element.scrollTop=a*this.coeff)}}.call(j.prototype);var k=function(a,b){i.call(this,a),this.scrollLeft=0,this.height=b.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};d.inherits(k,i),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(a){this.element.style.width=a+"px"},this.setInnerWidth=function(a){this.inner.style.width=a+"px"},this.setScrollWidth=function(a){this.inner.style.width=a+"px"},this.setScrollLeft=function(a){this.scrollLeft!=a&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=a)}}.call(k.prototype),b.ScrollBar=j,b.ScrollBarV=j,b.ScrollBarH=k,b.VScrollBar=j,b.HScrollBar=k}),define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./lib/dom"),f=a("./lib/event"),g=a("./lib/event_emitter").EventEmitter;e.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);var h=function(a){this.element=e.createElement("div"),this.element.className="ace_sb"+this.classSuffix,this.inner=e.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,a.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,f.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")};(function(){d.implement(this,g),this.setVisible=function(a){this.element.style.display=a?"":"none",this.isVisible=a,this.coeff=1}}).call(h.prototype);var i=function(a,b){h.call(this,a),this.scrollTop=0,this.scrollHeight=0,this.parent=a,this.width=this.VScrollWidth,this.renderer=b,this.inner.style.width=this.element.style.width=(this.width||15)+"px",this.$minWidth=0};d.inherits(i,h),function(){this.classSuffix="-v",d.implement(this,g),this.onMouseDown=function(a,b){if("mousedown"===a&&0===f.getButton(b)&&2!==b.detail){if(b.target===this.inner){var c=this,d=b.clientY,e=function(a){d=a.clientY},g=function(){clearInterval(k)},h=b.clientY,i=this.thumbTop,j=function(){if(void 0!==d){var a=c.scrollTopFromThumbTop(i+d-h);a!==c.scrollTop&&c._emit("scroll",{data:a})}};f.capture(this.inner,e,g);var k=setInterval(j,20);return f.preventDefault(b)}var l=b.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(l)}),f.preventDefault(b)}},this.getHeight=function(){return this.height},this.scrollTopFromThumbTop=function(a){var b=a*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return b>>=0,b<0?b=0:b>this.pageHeight-this.viewHeight&&(b=this.pageHeight-this.viewHeight),b},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(a){this.height=Math.max(0,a),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},this.setInnerHeight=this.setScrollHeight=function(a,b){(this.pageHeight!==a||b)&&(this.pageHeight=a,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},this.setScrollTop=function(a){this.scrollTop=a,a<0&&(a=0),this.thumbTop=a*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"}}.call(i.prototype);var j=function(a,b){h.call(this,a),this.scrollLeft=0,this.scrollWidth=0,this.height=this.HScrollHeight,this.inner.style.height=this.element.style.height=(this.height||12)+"px",this.renderer=b};d.inherits(j,h),function(){this.classSuffix="-h",d.implement(this,g),this.onMouseDown=function(a,b){if("mousedown"===a&&0===f.getButton(b)&&2!==b.detail){if(b.target===this.inner){var c=this,d=b.clientX,e=function(a){d=a.clientX},g=function(){clearInterval(k)},h=b.clientX,i=this.thumbLeft,j=function(){if(void 0!==d){var a=c.scrollLeftFromThumbLeft(i+d-h);a!==c.scrollLeft&&c._emit("scroll",{data:a})}};f.capture(this.inner,e,g);var k=setInterval(j,20);return f.preventDefault(b)}var l=b.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(l)}),f.preventDefault(b)}},this.getHeight=function(){return this.isVisible?this.height:0},this.scrollLeftFromThumbLeft=function(a){var b=a*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return b>>=0,b<0?b=0:b>this.pageWidth-this.viewWidth&&(b=this.pageWidth-this.viewWidth),b},this.setWidth=function(a){this.width=Math.max(0,a),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},this.setInnerWidth=this.setScrollWidth=function(a,b){(this.pageWidth!==a||b)&&(this.pageWidth=a,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},this.setScrollLeft=function(a){this.scrollLeft=a,a<0&&(a=0),this.thumbLeft=a*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"}}.call(j.prototype),b.ScrollBar=i,b.ScrollBarV=i,b.ScrollBarH=j,b.VScrollBar=i,b.HScrollBar=j}),define("ace/renderloop",["require","exports","module","ace/lib/event"],function(a,b,c){"use strict";var d=a("./lib/event"),e=function(a,b){this.onRender=a,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=b||window;var c=this;this._flush=function(a){c.pending=!1;var b=c.changes;if(b&&(d.blockIdle(100),c.changes=0,c.onRender(b)),c.changes){if(c.$recursionLimit--<0)return;c.schedule()}else c.$recursionLimit=2}};(function(){this.schedule=function(a){this.changes=this.changes|a,this.changes&&!this.pending&&(d.nextFrame(this._flush),this.pending=!0)},this.clear=function(a){var b=this.changes;return this.changes=0,b}}).call(e.prototype),b.RenderLoop=e}),define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(a,b,c){var d=a("../lib/oop"),e=a("../lib/dom"),f=a("../lib/lang"),g=a("../lib/event"),h=a("../lib/useragent"),i=a("../lib/event_emitter").EventEmitter,j=256,k="function"==typeof ResizeObserver,l=200,m=b.FontMetrics=function(a){this.el=e.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=e.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=e.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),a.appendChild(this.el),this.$measureNode.textContent=f.stringRepeat("X",j),this.$characterSize={width:0,height:0},k?this.$addObserver():this.checkForSizeChanges()};(function(){d.implement(this,i),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(a,b){a.width=a.height="auto",a.left=a.top="0px",a.visibility="hidden",a.position="absolute",a.whiteSpace="pre",h.isIE<8?a["font-family"]="inherit":a.font="inherit",a.overflow=b?"hidden":"visible"},this.checkForSizeChanges=function(a){if(void 0===a&&(a=this.$measureSizes()),a&&(this.$characterSize.width!==a.width||this.$characterSize.height!==a.height)){this.$measureNode.style.fontWeight="bold";var b=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=a,this.charSizes=Object.create(null),this.allowBoldFonts=b&&b.width===a.width&&b.height===a.height,this._emit("changeCharacterSize",{data:a})}},this.$addObserver=function(){var a=this;this.$observer=new window.ResizeObserver(function(b){a.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var a=this;return this.$pollSizeChangesTimer=g.onIdle(function b(){a.checkForSizeChanges(),g.onIdle(b,500)},500)},this.setPolling=function(a){a?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(a){var b={height:(a||this.$measureNode).clientHeight,width:(a||this.$measureNode).clientWidth/j};return 0===b.width||0===b.height?null:b},this.$measureCharWidth=function(a){return this.$main.textContent=f.stringRepeat(a,j),this.$main.getBoundingClientRect().width/j},this.getCharacterWidth=function(a){var b=this.charSizes[a];return void 0===b&&(b=this.charSizes[a]=this.$measureCharWidth(a)/this.$characterSize.width),b},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function a(b){return b&&b.parentElement?(window.getComputedStyle(b).zoom||1)*a(b.parentElement):1},this.$initTransformMeasureNodes=function(){var a=function(a,b){return["div",{style:"position: absolute;top:"+a+"px;left:"+b+"px;"}]};this.els=e.buildDom([a(0,0),a(l,0),a(0,l),a(l,l)],this.el)},this.transformCoordinates=function(a,b){function c(a,b,c){var d=a[1]*b[0]-a[0]*b[1];return[(-b[1]*c[0]+b[0]*c[1])/d,(+a[1]*c[0]-a[0]*c[1])/d]}function d(a,b){return[a[0]-b[0],a[1]-b[1]]}function e(a,b){return[a[0]+b[0],a[1]+b[1]]}function f(a,b){return[a*b[0],a*b[1]]}function g(a){var b=a.getBoundingClientRect();return[b.left,b.top]}if(a){a=f(1/this.$getZoom(this.el),a)}this.els||this.$initTransformMeasureNodes();var h=g(this.els[0]),i=g(this.els[1]),j=g(this.els[2]),k=g(this.els[3]),m=c(d(k,i),d(k,j),d(e(i,j),e(k,h))),n=f(1+m[0],d(i,h)),o=f(1+m[1],d(j,h));if(b){var p=b,q=m[0]*p[0]/l+m[1]*p[1]/l+1,r=e(f(p[0],n),f(p[1],o));return e(f(1/q/l,r),h)}var s=d(a,h),t=c(d(n,f(m[0],s)),d(o,f(m[1],s)),s);return f(l,t)}}).call(m.prototype)}),define("ace/css/editor.css",["require","exports","module"],function(a,b,c){c.exports='/*\nstyles = []\nfor (var i = 1; i < 16; i++) {\n    styles.push(".ace_br" + i + "{" + (\n        ["top-left", "top-right", "bottom-right", "bottom-left"]\n    ).map(function(x, j) {\n        return i & (1<<j) ? "border-" + x + "-radius: 3px;" : "" \n    }).filter(Boolean).join(" ") + "}")\n}\nstyles.join("\\n")\n*/\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left {\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n}\n\n.ace_gutter-cell {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell.ace_error {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n    will-change: transform;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #FFF;\n    background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n}\n\n.ace_folding-enabled > .ace_gutter-cell {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}'}),define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(a,b,c){"use strict";var d=a("../lib/dom"),e=a("../lib/oop"),f=a("../lib/event_emitter").EventEmitter,g=function(a,b){this.canvas=d.createElement("canvas"),this.renderer=b,this.pixelRatio=1,this.maxHeight=b.layerConfig.maxHeight,this.lineHeight=b.layerConfig.lineHeight,this.canvasHeight=a.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=a.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},a.element.appendChild(this.canvas)};(function(){e.implement(this,f),this.$updateDecorators=function(a){function b(a,b){return a.priority<b.priority?-1:a.priority>b.priority?1:0}var c=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;if(a){this.maxHeight=a.maxHeight,this.lineHeight=a.lineHeight,this.canvasHeight=a.height;(a.lastRow+1)*this.lineHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var d=this.canvas.getContext("2d"),e=this.renderer.session.$annotations;if(d.clearRect(0,0,this.canvas.width,this.canvas.height),e){var f={info:1,warning:2,error:3};e.forEach(function(a){a.priority=f[a.type]||null}),e=e.sort(b);for(var g=this.renderer.session.$foldData,h=0;h<e.length;h++){var i=e[h].row,j=this.compensateFoldRows(i,g),k=Math.round((i-j)*this.lineHeight*this.heightRatio),l=Math.round((i-j)*this.lineHeight*this.heightRatio),m=Math.round(((i-j)*this.lineHeight+this.lineHeight)*this.heightRatio);if(m-l<this.minDecorationHeight){var n=(l+m)/2|0;n<this.halfMinDecorationHeight?n=this.halfMinDecorationHeight:n+this.halfMinDecorationHeight>this.canvasHeight&&(n=this.canvasHeight-this.halfMinDecorationHeight),l=Math.round(n-this.halfMinDecorationHeight),m=Math.round(n+this.halfMinDecorationHeight)}d.fillStyle=c[e[h].type]||null,d.fillRect(0,k,this.canvasWidth,m-l)}}var o=this.renderer.session.selection.getCursor();if(o){var j=this.compensateFoldRows(o.row,g),k=Math.round((o.row-j)*this.lineHeight*this.heightRatio);d.fillStyle="rgba(0, 0, 0, 0.5)",d.fillRect(0,k,this.canvasWidth,2)}},this.compensateFoldRows=function(a,b){var c=0;if(b&&b.length>0)for(var d=0;d<b.length;d++)a>b[d].start.row&&a<b[d].end.row?c+=a-b[d].start.row:a>=b[d].end.row&&(c+=b[d].end.row-b[d].start.row);return c}}).call(g.prototype),b.Decorator=g}),define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./lib/dom"),f=a("./config"),g=a("./layer/gutter").Gutter,h=a("./layer/marker").Marker,i=a("./layer/text").Text,j=a("./layer/cursor").Cursor,k=a("./scrollbar").HScrollBar,l=a("./scrollbar").VScrollBar,m=a("./scrollbar_custom").HScrollBar,n=a("./scrollbar_custom").VScrollBar,o=a("./renderloop").RenderLoop,p=a("./layer/font_metrics").FontMetrics,q=a("./lib/event_emitter").EventEmitter,r=a("./css/editor.css"),s=a("./layer/decorators").Decorator,t=a("./lib/useragent"),u=t.isIE;e.importCssString(r,"ace_editor.css",!1);var v=function(a,b){var c=this;this.container=a||e.createElement("div"),e.addCssClass(this.container,"ace_editor"),e.HI_DPI&&e.addCssClass(this.container,"ace_hidpi"),this.setTheme(b),null==f.get("useStrictCSP")&&f.set("useStrictCSP",!1),this.$gutter=e.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=e.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=e.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new g(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new h(this.content);var d=this.$textLayer=new i(this.content);this.canvas=d.element,this.$markerFront=new h(this.content),this.$cursorLayer=new j(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new l(this.container,this),this.scrollBarH=new k(this.container,this),this.scrollBarV.on("scroll",function(a){c.$scrollAnimation||c.session.setScrollTop(a.data-c.scrollMargin.top)}),this.scrollBarH.on("scroll",function(a){c.$scrollAnimation||c.session.setScrollLeft(a.data-c.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(a){c.updateCharacterSize(),c.onResize(!0,c.gutterWidth,c.$size.width,c.$size.height),c._signal("changeCharacterSize",a)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!t.isIOS,this.$loop=new o(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),f.resetOptions(this),f._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,d.implement(this,q),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),e.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(a){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=a,a&&this.scrollMargin.top&&a.getScrollTop()<=0&&a.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(a),this.$markerBack.setSession(a),this.$markerFront.setSession(a),this.$gutterLayer.setSession(a),this.$textLayer.setSession(a),a&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(a,b,c){if(void 0===b&&(b=1/0),this.$changedLines?(this.$changedLines.firstRow>a&&(this.$changedLines.firstRow=a),this.$changedLines.lastRow<b&&(this.$changedLines.lastRow=b)):this.$changedLines={firstRow:a,lastRow:b},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!c)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(a){a?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(a,b,c,d){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=a?1:0;var e=this.container;d||(d=e.clientHeight||e.scrollHeight),c||(c=e.clientWidth||e.scrollWidth);var f=this.$updateCachedSize(a,b,c,d);if(!this.$size.scrollerHeight||!c&&!d)return this.resizing=0;a&&(this.$gutterLayer.$padding=null),a?this.$renderChanges(f|this.$changes,!0):this.$loop.schedule(f|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},this.$updateCachedSize=function(a,b,c,d){d-=this.$extraHeight||0;var f=0,g=this.$size,h={width:g.width,height:g.height,scrollerHeight:g.scrollerHeight,scrollerWidth:g.scrollerWidth};if(d&&(a||g.height!=d)&&(g.height=d,f|=this.CHANGE_SIZE,g.scrollerHeight=g.height,this.$horizScroll&&(g.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(g.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",f|=this.CHANGE_SCROLL),c&&(a||g.width!=c)){f|=this.CHANGE_SIZE,g.width=c,null==b&&(b=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=b,e.setStyle(this.scrollBarH.element.style,"left",b+"px"),e.setStyle(this.scroller.style,"left",b+this.margin.left+"px"),g.scrollerWidth=Math.max(0,c-b-this.scrollBarV.getWidth()-this.margin.h),e.setStyle(this.$gutter.style,"left",this.margin.left+"px");var i=this.scrollBarV.getWidth()+"px";e.setStyle(this.scrollBarH.element.style,"right",i),e.setStyle(this.scroller.style,"right",i),e.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(g.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||a)&&(f|=this.CHANGE_FULL)}return g.$dirty=!c||!d,f&&this._signal("resize",h),f},this.onGutterResize=function(a){var b=this.$showGutter?a:0;b!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,b,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var a=this.$size.scrollerWidth-2*this.$padding,b=Math.floor(a/this.characterWidth);return this.session.adjustWrapLimit(b,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(a){this.setOption("animatedScroll",a)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(a){this.setOption("showInvisibles",a),this.session.$bidiHandler.setShowInvisibles(a)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(a){this.setOption("displayIndentGuides",a)},this.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},this.setHighlightIndentGuides=function(a){this.setOption("highlightIndentGuides",a)},this.setShowPrintMargin=function(a){this.setOption("showPrintMargin",a)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(a){this.setOption("printMarginColumn",a)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(a){return this.setOption("showGutter",a)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(a){this.setOption("fadeFoldWidgets",a)},this.setHighlightGutterLine=function(a){this.setOption("highlightGutterLine",a)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var a=e.createElement("div");a.className="ace_layer ace_print-margin-layer",this.$printMarginEl=e.createElement("div"),this.$printMarginEl.className="ace_print-margin",a.appendChild(this.$printMarginEl),this.content.insertBefore(a,this.content.firstChild)}var b=this.$printMarginEl.style;b.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",b.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var a=this.textarea.style,b=this.$composition;if(!this.$keepTextAreaAtCursor&&!b)return void e.translate(this.textarea,-100,0);var c=this.$cursorLayer.$pixelPos;if(c){b&&b.markerRange&&(c=this.$cursorLayer.getPixelPosition(b.markerRange.start,!0));var d=this.layerConfig,f=c.top,g=c.left;f-=d.offset;var h=b&&b.useTextareaForIME?this.lineHeight:u?0:1;if(f<0||f>d.height-h)return void e.translate(this.textarea,0,0);var i=1,j=this.$size.height-h;if(b)if(b.useTextareaForIME){var k=this.textarea.value;i=this.characterWidth*this.session.$getStringScreenWidth(k)[0]}else f+=this.lineHeight+2;else f+=this.lineHeight;g-=this.scrollLeft,g>this.$size.scrollerWidth-i&&(g=this.$size.scrollerWidth-i),g+=this.gutterWidth+this.margin.left,e.setStyle(a,"height",h+"px"),e.setStyle(a,"width",i+"px"),e.translate(this.textarea,Math.min(g,this.$size.scrollerWidth-i),Math.min(f,j))}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var a=this.layerConfig,b=a.lastRow;return this.session.documentToScreenRow(b,0)*a.lineHeight-this.session.getScrollTop()>a.height-a.lineHeight?b-1:b},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(a){this.$padding=a,this.$textLayer.setPadding(a),this.$cursorLayer.setPadding(a),this.$markerFront.setPadding(a),this.$markerBack.setPadding(a),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(a,b,c,d){var e=this.scrollMargin;e.top=0|a,e.bottom=0|b,e.right=0|d,e.left=0|c,e.v=e.top+e.bottom,e.h=e.left+e.right,e.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-e.top),this.updateFull()},this.setMargin=function(a,b,c,d){var e=this.margin;e.top=0|a,e.bottom=0|b,e.right=0|d,e.left=0|c,e.v=e.top+e.bottom,e.h=e.left+e.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(a){this.setOption("hScrollBarAlwaysVisible",a)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(a){this.setOption("vScrollBarAlwaysVisible",a)},this.$updateScrollBarV=function(){var a=this.layerConfig.maxHeight,b=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(a-=(b-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>a-b&&(a=this.scrollTop+b,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(a+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(a,b){if(this.$changes&&(a|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!a&&!b)return void(this.$changes|=a);if(this.$size.$dirty)return this.$changes|=a,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",a),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var c=this.layerConfig;if(a&this.CHANGE_FULL||a&this.CHANGE_SIZE||a&this.CHANGE_TEXT||a&this.CHANGE_LINES||a&this.CHANGE_SCROLL||a&this.CHANGE_H_SCROLL){if(a|=this.$computeLayerConfig()|this.$loop.clear(),c.firstRow!=this.layerConfig.firstRow&&c.firstRowScreen==this.layerConfig.firstRowScreen){var d=this.scrollTop+(c.firstRow-this.layerConfig.firstRow)*this.lineHeight;d>0&&(this.scrollTop=d,a|=this.CHANGE_SCROLL,a|=this.$computeLayerConfig()|this.$loop.clear())}c=this.layerConfig,this.$updateScrollBarV(),a&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),e.translate(this.content,-this.scrollLeft,-c.offset);var f=c.width+2*this.$padding+"px",g=c.minHeight+"px";e.setStyle(this.content.style,"width",f),e.setStyle(this.content.style,"height",g)}return a&this.CHANGE_H_SCROLL&&(e.translate(this.content,-this.scrollLeft,-c.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),a&this.CHANGE_FULL?(this.$changedLines=null,this.$textLayer.update(c),this.$showGutter&&this.$gutterLayer.update(c),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(c),this.$markerBack.update(c),this.$markerFront.update(c),this.$cursorLayer.update(c),this.$moveTextAreaToCursor(),this._signal("afterRender",a),void 0):a&this.CHANGE_SCROLL?(this.$changedLines=null,a&this.CHANGE_TEXT||a&this.CHANGE_LINES?this.$textLayer.update(c):this.$textLayer.scrollLines(c),this.$showGutter&&(a&this.CHANGE_GUTTER||a&this.CHANGE_LINES?this.$gutterLayer.update(c):this.$gutterLayer.scrollLines(c)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(c),this.$markerBack.update(c),this.$markerFront.update(c),this.$cursorLayer.update(c),this.$moveTextAreaToCursor(),this._signal("afterRender",a),void 0):(a&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(c),this.$showGutter&&this.$gutterLayer.update(c),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(c)):a&this.CHANGE_LINES?((this.$updateLines()||a&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(c),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(c)):a&this.CHANGE_TEXT||a&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(c),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(c)):a&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(c),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(c)),a&this.CHANGE_CURSOR&&(this.$cursorLayer.update(c),this.$moveTextAreaToCursor()),a&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(c),a&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(c),this._signal("afterRender",a),void 0)},this.$autosize=function(){var a=this.session.getScreenLength()*this.lineHeight,b=this.$maxLines*this.lineHeight,c=Math.min(b,Math.max((this.$minLines||1)*this.lineHeight,a))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(c+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&c>this.$maxPixelHeight&&(c=this.$maxPixelHeight);var d=c<=2*this.lineHeight,e=!d&&a>b;if(c!=this.desiredHeight||this.$size.height!=this.desiredHeight||e!=this.$vScroll){e!=this.$vScroll&&(this.$vScroll=e,this.scrollBarV.setVisible(e));var f=this.container.clientWidth;this.container.style.height=c+"px",this.$updateCachedSize(!0,this.$gutterWidth,f,c),this.desiredHeight=c,this._signal("autosize")}},this.$computeLayerConfig=function(){var a=this.session,b=this.$size,c=b.height<=2*this.lineHeight,d=this.session.getScreenLength(),e=d*this.lineHeight,f=this.$getLongestLine(),g=!c&&(this.$hScrollBarAlwaysVisible||b.scrollerWidth-f-2*this.$padding<0),h=this.$horizScroll!==g;h&&(this.$horizScroll=g,this.scrollBarH.setVisible(g));var i=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var j=b.scrollerHeight+this.lineHeight,k=!this.$maxLines&&this.$scrollPastEnd?(b.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;e+=k;var l=this.scrollMargin;this.session.setScrollTop(Math.max(-l.top,Math.min(this.scrollTop,e-b.scrollerHeight+l.bottom))),this.session.setScrollLeft(Math.max(-l.left,Math.min(this.scrollLeft,f+2*this.$padding-b.scrollerWidth+l.right)));var m=!c&&(this.$vScrollBarAlwaysVisible||b.scrollerHeight-e+k<0||this.scrollTop>l.top),n=i!==m;n&&(this.$vScroll=m,this.scrollBarV.setVisible(m));var o,p,q=this.scrollTop%this.lineHeight,r=Math.ceil(j/this.lineHeight)-1,s=Math.max(0,Math.round((this.scrollTop-q)/this.lineHeight)),t=s+r,u=this.lineHeight;s=a.screenToDocumentRow(s,0);var v=a.getFoldLine(s);v&&(s=v.start.row),o=a.documentToScreenRow(s,0),p=a.getRowLength(s)*u,t=Math.min(a.screenToDocumentRow(t,0),a.getLength()-1),j=b.scrollerHeight+a.getRowLength(t)*u+p,q=this.scrollTop-o*u;var w=0;return(this.layerConfig.width!=f||h)&&(w=this.CHANGE_H_SCROLL),(h||n)&&(w|=this.$updateCachedSize(!0,this.gutterWidth,b.width,b.height),this._signal("scrollbarVisibilityChanged"),n&&(f=this.$getLongestLine())),this.layerConfig={width:f,padding:this.$padding,firstRow:s,firstRowScreen:o,lastRow:t,lineHeight:u,characterWidth:this.characterWidth,minHeight:j,maxHeight:e,offset:q,gutterOffset:u?Math.max(0,Math.ceil((q+b.height-b.scrollerHeight)/u)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(f-this.$padding),w},this.$updateLines=function(){if(this.$changedLines){var a=this.$changedLines.firstRow,b=this.$changedLines.lastRow;this.$changedLines=null;var c=this.layerConfig;if(!(a>c.lastRow+1||b<c.firstRow))return b===1/0?(this.$showGutter&&this.$gutterLayer.update(c),void this.$textLayer.update(c)):(this.$textLayer.updateLines(c,a,b),!0)}},this.$getLongestLine=function(){var a=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(a+=1),this.$textLayer&&a>this.$textLayer.MAX_LINE_LENGTH&&(a=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(a*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(a,b){this.$gutterLayer.addGutterDecoration(a,b)},this.removeGutterDecoration=function(a,b){this.$gutterLayer.removeGutterDecoration(a,b)},this.updateBreakpoints=function(a){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(a){this.$gutterLayer.setAnnotations(a),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(a,b,c){this.scrollCursorIntoView(a,c),this.scrollCursorIntoView(b,c)},this.scrollCursorIntoView=function(a,b,c){if(0!==this.$size.scrollerHeight){var d=this.$cursorLayer.getPixelPosition(a),e=d.left,f=d.top,g=c&&c.top||0,h=c&&c.bottom||0,i=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;i+g>f?(b&&i+g>f+this.lineHeight&&(f-=b*this.$size.scrollerHeight),0===f&&(f=-this.scrollMargin.top),this.session.setScrollTop(f)):i+this.$size.scrollerHeight-h<f+this.lineHeight&&(b&&i+this.$size.scrollerHeight-h<f-this.lineHeight&&(f+=b*this.$size.scrollerHeight),this.session.setScrollTop(f+this.lineHeight+h-this.$size.scrollerHeight));var j=this.scrollLeft;j>e?(e<this.$padding+2*this.layerConfig.characterWidth&&(e=-this.scrollMargin.left),this.session.setScrollLeft(e)):j+this.$size.scrollerWidth<e+this.characterWidth?this.session.setScrollLeft(Math.round(e+this.characterWidth-this.$size.scrollerWidth)):j<=this.$padding&&e-j<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(a){this.session.setScrollTop(a*this.lineHeight)},this.alignCursor=function(a,b){"number"==typeof a&&(a={row:a,column:0});var c=this.$cursorLayer.getPixelPosition(a),d=this.$size.scrollerHeight-this.lineHeight,e=c.top-d*(b||0);return this.session.setScrollTop(e),e},this.STEPS=8,this.$calcSteps=function(a,b){var c=0,d=this.STEPS,e=[],f=function(a,b,c){return c*(Math.pow(a-1,3)+1)+b};for(c=0;c<d;++c)e.push(f(c/this.STEPS,a,b-a));return e},this.scrollToLine=function(a,b,c,d){var e=this.$cursorLayer.getPixelPosition({row:a,column:0}),f=e.top;b&&(f-=this.$size.scrollerHeight/2);var g=this.scrollTop;this.session.setScrollTop(f),!1!==c&&this.animateScrolling(g,d)},this.animateScrolling=function(a,b){var c=this.scrollTop;if(this.$animatedScroll){var d=this;if(a!=c){if(this.$scrollAnimation){var e=this.$scrollAnimation.steps;if(e.length&&(a=e[0])==c)return}var f=d.$calcSteps(a,c);this.$scrollAnimation={from:a,to:c,steps:f},clearInterval(this.$timer),d.session.setScrollTop(f.shift()),d.session.$scrollTop=c,this.$timer=setInterval(function(){if(!d.session)return clearInterval(d.$timer);f.length?(d.session.setScrollTop(f.shift()),d.session.$scrollTop=c):null!=c?(d.session.$scrollTop=-1,d.session.setScrollTop(c),c=null):(d.$timer=clearInterval(d.$timer),d.$scrollAnimation=null,b&&b())},10)}}},this.scrollToY=function(a){this.scrollTop!==a&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=a)},this.scrollToX=function(a){this.scrollLeft!==a&&(this.scrollLeft=a),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(a,b){this.session.setScrollTop(b),this.session.setScrollLeft(a)},this.scrollBy=function(a,b){b&&this.session.setScrollTop(this.session.getScrollTop()+b),a&&this.session.setScrollLeft(this.session.getScrollLeft()+a)},this.isScrollableBy=function(a,b){return b<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(b>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(a<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(a>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(a,b){var c;if(this.$hasCssTransforms){c={top:0,left:0};var d=this.$fontMetrics.transformCoordinates([a,b]);a=d[1]-this.gutterWidth-this.margin.left,b=d[0]}else c=this.scroller.getBoundingClientRect();var e=a+this.scrollLeft-c.left-this.$padding,f=e/this.characterWidth,g=Math.floor((b+this.scrollTop-c.top)/this.lineHeight),h=this.$blockCursor?Math.floor(f):Math.round(f);return{row:g,column:h,side:f-h>0?1:-1,offsetX:e}},this.screenToTextCoordinates=function(a,b){var c;if(this.$hasCssTransforms){c={top:0,left:0};var d=this.$fontMetrics.transformCoordinates([a,b]);a=d[1]-this.gutterWidth-this.margin.left,b=d[0]}else c=this.scroller.getBoundingClientRect();var e=a+this.scrollLeft-c.left-this.$padding,f=e/this.characterWidth,g=this.$blockCursor?Math.floor(f):Math.round(f),h=Math.floor((b+this.scrollTop-c.top)/this.lineHeight);return this.session.screenToDocumentPosition(h,Math.max(g,0),e)},this.textToScreenCoordinates=function(a,b){var c=this.scroller.getBoundingClientRect(),d=this.session.documentToScreenPosition(a,b),e=this.$padding+(this.session.$bidiHandler.isBidiRow(d.row,a)?this.session.$bidiHandler.getPosLeft(d.column):Math.round(d.column*this.characterWidth)),f=d.row*this.lineHeight;return{pageX:c.left+e-this.scrollLeft,pageY:c.top+f-this.scrollTop}},this.visualizeFocus=function(){e.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){e.removeCssClass(this.container,"ace_focus")},this.showComposition=function(a){this.$composition=a,a.cssText||(a.cssText=this.textarea.style.cssText),void 0==a.useTextareaForIME&&(a.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(e.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):a.markerId=this.session.addMarker(a.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(a){var b=this.session.selection.cursor;this.addToken(a,"composition_placeholder",b.row,b.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),e.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var a=this.session.selection.cursor;this.removeExtraToken(a.row,a.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(a,b,c,d){var e=this.session;e.bgTokenizer.lines[c]=null;var f={type:b,value:a},g=e.getTokens(c);if(null==d)g.push(f);else for(var h=0,i=0;i<g.length;i++){var j=g[i];if(h+=j.value.length,d<=h){var k=j.value.length-(h-d),l=j.value.slice(0,k),m=j.value.slice(k);g.splice(i,1,{type:j.type,value:l},f,{type:j.type,value:m});break}}this.updateLines(c,c)},this.removeExtraToken=function(a,b){this.updateLines(a,a)},this.setTheme=function(a,b){function c(c){if(d.$themeId!=a)return b&&b();if(!c||!c.cssClass)throw new Error("couldn't load module "+a+" or it didn't call define");c.$id&&(d.$themeId=c.$id),e.importCssString(c.cssText,c.cssClass,d.container),d.theme&&e.removeCssClass(d.container,d.theme.cssClass);var f="padding"in c?c.padding:"padding"in(d.theme||{})?4:d.$padding;d.$padding&&f!=d.$padding&&d.setPadding(f),d.$theme=c.cssClass,d.theme=c,e.addCssClass(d.container,c.cssClass),e.setCssClass(d.container,"ace_dark",c.isDark),d.$size&&(d.$size.width=0,d.$updateSizeAsync()),d._dispatchEvent("themeLoaded",{theme:c}),b&&b()}var d=this;if(this.$themeId=a,d._dispatchEvent("themeChange",{theme:a}),a&&"string"!=typeof a)c(a);else{var g=a||this.$options.theme.initialValue;f.loadModule(["theme",g],c)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(a,b){e.setCssClass(this.container,a,!1!==b)},this.unsetStyle=function(a){e.removeCssClass(this.container,a)},this.setCursorStyle=function(a){e.setStyle(this.scroller.style,"cursor",a)},this.setMouseCursor=function(a){e.setStyle(this.scroller.style,"cursor",a)},this.attachToShadowRoot=function(){e.importCssString(r,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""},this.$updateCustomScrollbar=function(a){var b=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===a?(this.scrollBarV=new n(this.container,this),this.scrollBarH=new m(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(a){b.$scrollAnimation||b.session.setScrollTop(a.data-b.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(a){b.$scrollAnimation||b.session.setScrollLeft(a.data-b.scrollMargin.left)}),this.$scrollDecorator=new s(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new l(this.container,this),this.scrollBarH=new k(this.container,this),this.scrollBarV.addEventListener("scroll",function(a){b.$scrollAnimation||b.session.setScrollTop(a.data-b.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(a){b.$scrollAnimation||b.session.setScrollLeft(a.data-b.scrollMargin.left)}))}}).call(v.prototype),f.defineOptions(v.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(a){this.$textLayer.setShowInvisibles(a)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(a){"number"==typeof a&&(this.$printMarginColumn=a),this.$showPrintMargin=!!a,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(a){this.$gutter.style.display=a?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(a){e.setCssClass(this.$gutter,"ace_fade-fold-widgets",a)},initialValue:!1},showFoldWidgets:{set:function(a){this.$gutterLayer.setShowFoldWidgets(a),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(a){this.$textLayer.setDisplayIndentGuides(a)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(a){1==this.$textLayer.setHighlightIndentGuides(a)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(a){this.$gutterLayer.setHighlightGutterLine(a),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(a){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(a){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(a){"number"==typeof a&&(a+="px"),this.container.style.fontSize=a,this.updateFontSize()},initialValue:12},fontFamily:{set:function(a){this.container.style.fontFamily=a,this.updateFontSize()}},maxLines:{set:function(a){this.updateFull()}},minLines:{set:function(a){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(a){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(a){a=+a||0,this.$scrollPastEnd!=a&&(this.$scrollPastEnd=a,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(a){this.$gutterLayer.$fixedWidth=!!a,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(a){this.$updateCustomScrollbar(a)},initialValue:!1},theme:{set:function(a){this.setTheme(a)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!t.isMobile&&!t.isIE}}),b.VirtualRenderer=v}),define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(a,b,c){"use strict";function d(a){var b="importScripts('"+g.qualifyURL(a)+"');";try{return new Blob([b],{type:"application/javascript"})}catch(a){var c=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,d=new c;return d.append(b),d.getBlob("application/javascript")}}function e(a){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(i.get("loadWorkerFromBlob")){var b=d(a),c=window.URL||window.webkitURL,e=c.createObjectURL(b);return new Worker(e)}return new Worker(a)}var f=a("../lib/oop"),g=a("../lib/net"),h=a("../lib/event_emitter").EventEmitter,i=a("../config"),j=function(a){a.postMessage||(a=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=a,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){f.implement(this,h),this.$createWorkerFromOldConfig=function(b,c,d,f,g){if(a.nameToUrl&&!a.toUrl&&(a.toUrl=a.nameToUrl),i.get("packaged")||!a.toUrl)f=f||i.moduleUrl(c,"worker");else{var h=this.$normalizePath;f=f||h(a.toUrl("ace/worker/worker.js",null,"_"));var j={};b.forEach(function(b){j[b]=h(a.toUrl(b,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=e(f),g&&this.send("importScripts",g),this.$worker.postMessage({init:!0,tlns:j,module:c,classname:d}),this.$worker},this.onMessage=function(a){var b=a.data;switch(b.type){case"event":this._signal(b.name,{data:b.data});break;case"call":var c=this.callbacks[b.id];c&&(c(b.data),delete this.callbacks[b.id]);break;case"error":this.reportError(b.data);break;case"log":window.console&&console.log&&console.log.apply(console,b.data)}},this.reportError=function(a){window.console&&console.error&&console.error(a)},this.$normalizePath=function(a){return g.qualifyURL(a)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(a,b){this.$worker.postMessage({command:a,args:b})},this.call=function(a,b,c){if(c){var d=this.callbackId++;this.callbacks[d]=c,b.push(d)}this.send(a,b)},this.emit=function(a,b){try{b.data&&b.data.err&&(b.data.err={message:b.data.err.message,stack:b.data.err.stack,code:b.data.err.code}),this.$worker&&this.$worker.postMessage({event:a,data:{data:b.data}})}catch(a){console.error(a.stack)}},this.attachToDocument=function(a){this.$doc&&this.terminate(),this.$doc=a,this.call("setValue",[a.getValue()]),a.on("change",this.changeListener,!0)},this.changeListener=function(a){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==a.action?this.deltaQueue.push(a.start,a.lines):this.deltaQueue.push(a.start,a.end)},this.$sendDeltaQueue=function(){var a=this.deltaQueue;a&&(this.deltaQueue=null,a.length>50&&a.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:a}))}}).call(j.prototype);var k=function(a,b,c){var d=null,e=!1,f=Object.create(h),g=[],k=new j({messageBuffer:g,terminate:function(){},postMessage:function(a){g.push(a),d&&(e?setTimeout(l):l())}});k.setEmitSync=function(a){e=a};var l=function(){var a=g.shift();a.command?d[a.command].apply(d,a.args):a.event&&f._signal(a.event,a.data)};return f.postMessage=function(a){k.onMessage({data:a})},f.callback=function(a,b){this.postMessage({type:"call",id:b,data:a})},f.emit=function(a,b){this.postMessage({type:"event",name:a,data:b})},i.loadModule(["worker",b],function(a){for(d=new a[c](f);g.length;)l()}),k};b.UIWorkerClient=k,b.WorkerClient=j,b.createWorker=e}),define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(a,b,c){"use strict";var d=a("./range").Range,e=a("./lib/event_emitter").EventEmitter,f=a("./lib/oop"),g=function(a,b,c,d,e,f){var g=this;this.length=b,this.session=a,this.doc=a.getDocument(),this.mainClass=e,this.othersClass=f,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=d,this.$onCursorChange=function(){setTimeout(function(){g.onCursorChange()})},this.$pos=c;var h=a.getUndoManager().$undoStack||a.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=h.length,this.setup(),a.selection.on("changeCursor",this.$onCursorChange)};(function(){f.implement(this,e),this.setup=function(){var a=this,b=this.doc,c=this.session;this.selectionBefore=c.selection.toJSON(),c.selection.inMultiSelectMode&&c.selection.toSingleRange(),this.pos=b.createAnchor(this.$pos.row,this.$pos.column);var e=this.pos;e.$insertRight=!0,e.detach(),e.markerId=c.addMarker(new d(e.row,e.column,e.row,e.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(c){var d=b.createAnchor(c.row,c.column);d.$insertRight=!0,d.detach(),a.others.push(d)}),c.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var a=this.session,b=this;this.othersActive=!0,this.others.forEach(function(c){c.markerId=a.addMarker(new d(c.row,c.column,c.row,c.column+b.length),b.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var a=0;a<this.others.length;a++)this.session.removeMarker(this.others[a].markerId)}},this.onUpdate=function(a){if(this.$updating)return this.updateAnchors(a);var b=a;if(b.start.row===b.end.row&&b.start.row===this.pos.row){this.$updating=!0;var c="insert"===a.action?b.end.column-b.start.column:b.start.column-b.end.column,e=b.start.column>=this.pos.column&&b.start.column<=this.pos.column+this.length+1,f=b.start.column-this.pos.column;if(this.updateAnchors(a),e&&(this.length+=c),e&&!this.session.$fromUndo)if("insert"===a.action)for(var g=this.others.length-1;g>=0;g--){var h=this.others[g],i={row:h.row,column:h.column+f};this.doc.insertMergedLines(i,a.lines)}else if("remove"===a.action)for(var g=this.others.length-1;g>=0;g--){var h=this.others[g],i={row:h.row,column:h.column+f};this.doc.remove(new d(i.row,i.column,i.row,i.column-c))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(a){this.pos.onChange(a);for(var b=this.others.length;b--;)this.others[b].onChange(a);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var a=this,b=this.session,c=function(c,e){b.removeMarker(c.markerId),c.markerId=b.addMarker(new d(c.row,c.column,c.row,c.column+a.length),e,null,!1)};c(this.pos,this.mainClass);for(var e=this.others.length;e--;)c(this.others[e],this.othersClass)}},this.onCursorChange=function(a){if(!this.$updating&&this.session){var b=this.session.selection.getCursor();b.row===this.pos.row&&b.column>=this.pos.column&&b.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",a)):(this.hideOtherMarkers(),this._emit("cursorLeave",a))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var a=this.session.getUndoManager(),b=(a.$undoStack||a.$undostack).length-this.$undoStackDepth,c=0;c<b;c++)a.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(g.prototype),b.PlaceHolder=g}),define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(a,b,c){function d(a,b){return a.row==b.row&&a.column==b.column}function e(a){var b=a.domEvent,c=b.altKey,e=b.shiftKey,h=b.ctrlKey,i=a.getAccelKey(),j=a.getButton();if(h&&g.isMac&&(j=b.button),a.editor.inMultiSelectMode&&2==j)return void a.editor.textInput.onContextMenu(a.domEvent);if(!h&&!c&&!i)return void(0===j&&a.editor.inMultiSelectMode&&a.editor.exitMultiSelectMode());if(0===j){var k,l=a.editor,m=l.selection,n=l.inMultiSelectMode,o=a.getDocumentPosition(),p=m.getCursor(),q=a.inSelection()||m.isEmpty()&&d(o,p),r=a.x,s=a.y,t=function(a){r=a.clientX,s=a.clientY},u=l.session,v=l.renderer.pixelToScreenCoordinates(r,s),w=v;if(l.$mouseHandler.$enableJumpToDef)h&&c||i&&c?k=e?"block":"add":c&&l.$blockSelectEnabled&&(k="block");else if(i&&!c){if(k="add",!n&&e)return}else c&&l.$blockSelectEnabled&&(k="block");if(k&&g.isMac&&b.ctrlKey&&l.$mouseHandler.cancelContextMenu(),"add"==k){if(!n&&q)return;if(!n){var x=m.toOrientedRange();l.addSelectionMarker(x)}var y=m.rangeList.rangeAtPoint(o);l.inVirtualSelectionMode=!0,e&&(y=null,x=m.ranges[0]||x,l.removeSelectionMarker(x)),l.once("mouseup",function(){var a=m.toOrientedRange();y&&a.isEmpty()&&d(y.cursor,a.cursor)?m.substractPoint(a.cursor):(e?m.substractPoint(x.cursor):x&&(l.removeSelectionMarker(x),m.addRange(x)),m.addRange(a)),l.inVirtualSelectionMode=!1})}else if("block"==k){a.stop(),l.inVirtualSelectionMode=!0;var z,A=[],B=function(){var a=l.renderer.pixelToScreenCoordinates(r,s),b=u.screenToDocumentPosition(a.row,a.column,a.offsetX);d(w,a)&&d(b,m.lead)||(w=a,l.selection.moveToPosition(b),l.renderer.scrollCursorIntoView(),l.removeSelectionMarkers(A),A=m.rectangularRangeBlock(w,v),l.$mouseHandler.$clickSelection&&1==A.length&&A[0].isEmpty()&&(A[0]=l.$mouseHandler.$clickSelection.clone()),A.forEach(l.addSelectionMarker,l),l.updateSelectionMarkers())};n&&!i?m.toSingleRange():!n&&i&&(z=m.toOrientedRange(),l.addSelectionMarker(z)),e?v=u.documentToScreenPosition(m.lead):m.moveToPosition(o),w={row:-1,column:-1};var C=function(a){B(),clearInterval(E),l.removeSelectionMarkers(A),A.length||(A=[m.toOrientedRange()]),z&&(l.removeSelectionMarker(z),m.toSingleRange(z));for(var b=0;b<A.length;b++)m.addRange(A[b]);l.inVirtualSelectionMode=!1,l.$mouseHandler.$clickSelection=null},D=B;f.capture(l.container,t,C);var E=setInterval(function(){D()},20);return a.preventDefault()}}}var f=a("../lib/event"),g=a("../lib/useragent");b.onMouseDown=e}),define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(a,b,c){b.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(a){a.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(a){a.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(a){a.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(a){a.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(a){a.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(a){a.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(a){a.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(a){a.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(a){a.multiSelect.rangeCount>1?a.multiSelect.joinSelections():a.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(a){a.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(a){a.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(a){a.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],b.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(a){a.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(a){return a&&a.inMultiSelectMode}}];var d=a("../keyboard/hash_handler").HashHandler;b.keyboardHandler=new d(b.multiSelectCommands)}),define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(a,b,c){function d(a,b,c){return p.$options.wrap=!0,p.$options.needle=b,p.$options.backwards=-1==c,p.find(a)}function e(a,b){return a.row==b.row&&a.column==b.column}function f(a){a.$multiselectOnSessionChange||(a.$onAddRange=a.$onAddRange.bind(a),a.$onRemoveRange=a.$onRemoveRange.bind(a),a.$onMultiSelect=a.$onMultiSelect.bind(a),a.$onSingleSelect=a.$onSingleSelect.bind(a),a.$multiselectOnSessionChange=b.onSessionChange.bind(a),a.$checkMultiselectChange=a.$checkMultiselectChange.bind(a),a.$multiselectOnSessionChange(a),a.on("changeSession",a.$multiselectOnSessionChange),a.on("mousedown",k),a.commands.addCommands(n.defaultCommands),g(a))}function g(a){function b(b){d&&(a.renderer.setMouseCursor(""),d=!1)}if(a.textInput){var c=a.textInput.getElement(),d=!1;l.addListener(c,"keydown",function(c){var e=18==c.keyCode&&!(c.ctrlKey||c.shiftKey||c.metaKey);a.$blockSelectEnabled&&e?d||(a.renderer.setMouseCursor("crosshair"),d=!0):d&&b()},a),l.addListener(c,"keyup",b,a),l.addListener(c,"blur",b,a)}}var h=a("./range_list").RangeList,i=a("./range").Range,j=a("./selection").Selection,k=a("./mouse/multi_select_handler").onMouseDown,l=a("./lib/event"),m=a("./lib/lang"),n=a("./commands/multi_select_commands");b.commands=n.defaultCommands.concat(n.multiSelectCommands);var o=a("./search").Search,p=new o,q=a("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(q.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(a,b){if(a){if(!this.inMultiSelectMode&&0===this.rangeCount){var c=this.toOrientedRange();if(this.rangeList.add(c),this.rangeList.add(a),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),b||this.fromOrientedRange(a);this.rangeList.removeAll(),this.rangeList.add(c),this.$onAddRange(c)}a.cursor||(a.cursor=a.end);var d=this.rangeList.add(a);return this.$onAddRange(a),d.length&&this.$onRemoveRange(d),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),b||this.fromOrientedRange(a)}},this.toSingleRange=function(a){a=a||this.ranges[0];var b=this.rangeList.removeAll();b.length&&this.$onRemoveRange(b),a&&this.fromOrientedRange(a)},this.substractPoint=function(a){var b=this.rangeList.substractPoint(a);if(b)return this.$onRemoveRange(b),b[0]},this.mergeOverlappingRanges=function(){var a=this.rangeList.merge();a.length&&this.$onRemoveRange(a)},this.$onAddRange=function(a){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(a),this._signal("addRange",{range:a})},this.$onRemoveRange=function(a){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var b=this.rangeList.ranges.pop();a.push(b),this.rangeCount=0}for(var c=a.length;c--;){var d=this.ranges.indexOf(a[c]);this.ranges.splice(d,1)}this._signal("removeRange",{ranges:a}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(b=b||this.ranges[0])&&!b.isEqual(this.getRange())&&this.fromOrientedRange(b)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new h,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var a=this.ranges.length?this.ranges:[this.getRange()],b=[],c=0;c<a.length;c++){var d=a[c],e=d.start.row,f=d.end.row;if(e===f)b.push(d.clone());else{for(b.push(new i(e,d.start.column,e,this.session.getLine(e).length));++e<f;)b.push(this.getLineRange(e,!0));b.push(new i(f,0,f,d.end.column))}0==c&&!this.isBackwards()&&(b=b.reverse())}this.toSingleRange();for(var c=b.length;c--;)this.addRange(b[c])},this.joinSelections=function(){var a=this.rangeList.ranges,b=a[a.length-1],c=i.fromPoints(a[0].start,b.end);this.toSingleRange(),this.setSelectionRange(c,b.cursor==b.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var a=this.rangeList.ranges,b=a[a.length-1],c=i.fromPoints(a[0].start,b.end);this.toSingleRange(),this.setSelectionRange(c,b.cursor==b.start)}else{var d=this.session.documentToScreenPosition(this.cursor),e=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(d,e).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(a,b,c){var d=[],f=a.column<b.column;if(f)var g=a.column,h=b.column,j=a.offsetX,k=b.offsetX;else var g=b.column,h=a.column,j=b.offsetX,k=a.offsetX;var l=a.row<b.row;if(l)var m=a.row,n=b.row;else var m=b.row,n=a.row;g<0&&(g=0),m<0&&(m=0),m==n&&(c=!0);for(var o,p=m;p<=n;p++){var q=i.fromPoints(this.session.screenToDocumentPosition(p,g,j),this.session.screenToDocumentPosition(p,h,k));if(q.isEmpty()){if(o&&e(q.end,o))break;o=q.end}q.cursor=f?q.start:q.end,d.push(q)}if(l&&d.reverse(),!c){for(var r=d.length-1;d[r].isEmpty()&&r>0;)r--;if(r>0)for(var s=0;d[s].isEmpty();)s++;for(var t=r;t>=s;t--)d[t].isEmpty()&&d.splice(t,1)}return d}}.call(j.prototype);var r=a("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(a){a.cursor||(a.cursor=a.end);var b=this.getSelectionStyle();return a.marker=this.session.addMarker(a,"ace_selection",b),this.session.$selectionMarkers.push(a),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,a},this.removeSelectionMarker=function(a){if(a.marker){this.session.removeMarker(a.marker);var b=this.session.$selectionMarkers.indexOf(a);-1!=b&&this.session.$selectionMarkers.splice(b,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(a){for(var b=this.session.$selectionMarkers,c=a.length;c--;){var d=a[c];if(d.marker){this.session.removeMarker(d.marker);var e=b.indexOf(d);-1!=e&&b.splice(e,1)}}this.session.selectionMarkerCount=b.length},this.$onAddRange=function(a){this.addSelectionMarker(a.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(a){this.removeSelectionMarkers(a.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(a){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(n.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(a){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(n.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(a){var b=a.command,c=a.editor;if(c.multiSelect){if(b.multiSelectAction)"forEach"==b.multiSelectAction?d=c.forEachSelection(b,a.args):"forEachLine"==b.multiSelectAction?d=c.forEachSelection(b,a.args,!0):"single"==b.multiSelectAction?(c.exitMultiSelectMode(),d=b.exec(c,a.args||{})):d=b.multiSelectAction(c,a.args||{});else{var d=b.exec(c,a.args||{});c.multiSelect.addRange(c.multiSelect.toOrientedRange()),c.multiSelect.mergeOverlappingRanges()}return d}},this.forEachSelection=function(a,b,c){if(!this.inVirtualSelectionMode){var d,e=c&&c.keepOrder,f=1==c||c&&c.$byLines,g=this.session,h=this.selection,i=h.rangeList,k=(e?h:i).ranges;if(!k.length)return a.exec?a.exec(this,b||{}):a(this,b||{});var l=h._eventRegistry;h._eventRegistry={};var m=new j(g);this.inVirtualSelectionMode=!0;for(var n=k.length;n--;){if(f)for(;n>0&&k[n].start.row==k[n-1].end.row;)n--;m.fromOrientedRange(k[n]),m.index=n,this.selection=g.selection=m;var o=a.exec?a.exec(this,b||{}):a(this,b||{});!d&&void 0!==o&&(d=o),m.toOrientedRange(k[n])}m.detach(),this.selection=g.selection=h,this.inVirtualSelectionMode=!1,h._eventRegistry=l,h.mergeOverlappingRanges(),h.ranges[0]&&h.fromOrientedRange(h.ranges[0]);var p=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),p&&p.from==p.to&&this.renderer.animateScrolling(p.from),d}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var a="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var b=this.multiSelect.rangeList.ranges,c=[],d=0;d<b.length;d++)c.push(this.session.getTextRange(b[d]));var e=this.session.getDocument().getNewLineCharacter();a=c.join(e),a.length==(c.length-1)*e.length&&(a="")}else this.selection.isEmpty()||(a=this.session.getTextRange(this.getSelectionRange()));return a},this.$checkMultiselectChange=function(a,b){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var c=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&b==this.multiSelect.anchor)return;var d=b==this.multiSelect.anchor?c.cursor==c.start?c.end:c.start:c.cursor;d.row!=b.row||this.session.$clipPositionToDocument(d.row,d.column).column!=b.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(a,b,c){if(b=b||{},b.needle=a||b.needle,void 0==b.needle){var d=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();b.needle=this.session.getTextRange(d)}this.$search.set(b);var e=this.$search.findAll(this.session);if(!e.length)return 0;var f=this.multiSelect;c||f.toSingleRange(e[0]);for(var g=e.length;g--;)f.addRange(e[g],!0);return d&&f.rangeList.rangeAtPoint(d.start)&&f.addRange(d,!0),e.length},this.selectMoreLines=function(a,b){var c=this.selection.toOrientedRange(),d=c.cursor==c.end,e=this.session.documentToScreenPosition(c.cursor);this.selection.$desiredColumn&&(e.column=this.selection.$desiredColumn);var f=this.session.screenToDocumentPosition(e.row+a,e.column);if(c.isEmpty())var g=f;else var h=this.session.documentToScreenPosition(d?c.end:c.start),g=this.session.screenToDocumentPosition(h.row+a,h.column);if(d){var j=i.fromPoints(f,g);j.cursor=j.start}else{var j=i.fromPoints(g,f);j.cursor=j.end}if(j.desiredColumn=e.column,this.selection.inMultiSelectMode){if(b)var k=c.cursor}else this.selection.addRange(c);this.selection.addRange(j),k&&this.selection.substractPoint(k)},this.transposeSelections=function(a){for(var b=this.session,c=b.multiSelect,d=c.ranges,e=d.length;e--;){var f=d[e];if(f.isEmpty()){var g=b.getWordRange(f.start.row,f.start.column);f.start.row=g.start.row,f.start.column=g.start.column,f.end.row=g.end.row,f.end.column=g.end.column}}c.mergeOverlappingRanges();for(var h=[],e=d.length;e--;){var f=d[e];h.unshift(b.getTextRange(f))}a<0?h.unshift(h.pop()):h.push(h.shift());for(var e=d.length;e--;){var f=d[e],g=f.clone();b.replace(f,h[e]),f.start.row=g.start.row,f.start.column=g.start.column}c.fromOrientedRange(c.ranges[0])},this.selectMore=function(a,b,c){var e=this.session,f=e.multiSelect,g=f.toOrientedRange();if(!g.isEmpty()||(g=e.getWordRange(g.start.row,g.start.column),g.cursor=-1==a?g.start:g.end,this.multiSelect.addRange(g),!c)){var h=e.getTextRange(g),i=d(e,h,a);i&&(i.cursor=-1==a?i.start:i.end,this.session.unfold(i),this.multiSelect.addRange(i),this.renderer.scrollCursorIntoView(null,.5)),b&&this.multiSelect.substractPoint(g.cursor)}},this.alignCursors=function(){var a=this.session,b=a.multiSelect,c=b.ranges,d=-1,e=c.filter(function(a){if(a.cursor.row==d)return!0;d=a.cursor.row});if(c.length&&e.length!=c.length-1){e.forEach(function(a){b.substractPoint(a.cursor)});var f=0,g=1/0,h=c.map(function(b){var c=b.cursor,d=a.getLine(c.row),e=d.substr(c.column).search(/\S/g);return-1==e&&(e=0),c.column>f&&(f=c.column),e<g&&(g=e),e});c.forEach(function(b,c){var d=b.cursor,e=f-d.column,j=h[c]-g;e>j?a.insert(d,m.stringRepeat(" ",e-j)):a.remove(new i(d.row,d.column,d.row,d.column-e+j)),b.start.column=b.end.column=f,b.start.row=b.end.row=d.row,b.cursor=b.end}),b.fromOrientedRange(c[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var j=this.selection.getRange(),k=j.start.row,l=j.end.row,n=k==l;if(n){var o,p=this.session.getLength();do{o=this.session.getLine(l)}while(/[=:]/.test(o)&&++l<p);do{o=this.session.getLine(k)}while(/[=:]/.test(o)&&--k>0);k<0&&(k=0),l>=p&&(l=p-1)}var q=this.session.removeFullLines(k,l);q=this.$reAlignText(q,n),this.session.insert({row:k,column:0},q.join("\n")+"\n"),n||(j.start.column=0,j.end.column=q[q.length-1].length),this.selection.setRange(j)}},this.$reAlignText=function(a,b){function c(a){return m.stringRepeat(" ",a)}function d(a){return a[2]?c(g)+a[2]+c(h-a[2].length+i)+a[4].replace(/^([=:])\s+/,"$1 "):a[0]}function e(a){return a[2]?c(g+h-a[2].length)+a[2]+c(i)+a[4].replace(/^([=:])\s+/,"$1 "):a[0]}function f(a){return a[2]?c(g)+a[2]+c(i)+a[4].replace(/^([=:])\s+/,"$1 "):a[0]}var g,h,i,j=!0,k=!0;return a.map(function(a){var b=a.match(/(\s*)(.*?)(\s*)([=:].*)/);return b?null==g?(g=b[1].length,h=b[2].length,i=b[3].length,b):(g+h+i!=b[1].length+b[2].length+b[3].length&&(k=!1),g!=b[1].length&&(j=!1),g>b[1].length&&(g=b[1].length),h<b[2].length&&(h=b[2].length),i>b[3].length&&(i=b[3].length),b):[a]}).map(b?d:j?k?e:d:f)}}).call(r.prototype),b.onSessionChange=function(a){var b=a.session;b&&!b.multiSelect&&(b.$selectionMarkers=[],b.selection.$initRangeList(),b.multiSelect=b.selection),this.multiSelect=b&&b.multiSelect;var c=a.oldSession;c&&(c.multiSelect.off("addRange",this.$onAddRange),c.multiSelect.off("removeRange",this.$onRemoveRange),c.multiSelect.off("multiSelect",this.$onMultiSelect),c.multiSelect.off("singleSelect",this.$onSingleSelect),c.multiSelect.lead.off("change",this.$checkMultiselectChange),c.multiSelect.anchor.off("change",this.$checkMultiselectChange)),b&&(b.multiSelect.on("addRange",this.$onAddRange),b.multiSelect.on("removeRange",this.$onRemoveRange),b.multiSelect.on("multiSelect",this.$onMultiSelect),b.multiSelect.on("singleSelect",this.$onSingleSelect),b.multiSelect.lead.on("change",this.$checkMultiselectChange),b.multiSelect.anchor.on("change",this.$checkMultiselectChange)),b&&this.inMultiSelectMode!=b.selection.inMultiSelectMode&&(b.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},b.MultiSelect=f,a("./config").defineOptions(r.prototype,"editor",{enableMultiselect:{set:function(a){f(this),a?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",k)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",k))},value:!0},enableBlockSelect:{set:function(a){this.$blockSelectEnabled=a},value:!0}})}),define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(a,b,c){"use strict";var d=a("../../range").Range,e=b.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(a,b,c){var d=a.getLine(c);return this.foldingStartMarker.test(d)?"start":"markbeginend"==b&&this.foldingStopMarker&&this.foldingStopMarker.test(d)?"end":""},this.getFoldWidgetRange=function(a,b,c){return null},this.indentationBlock=function(a,b,c){var e=/\S/,f=a.getLine(b),g=f.search(e);if(-1!=g){for(var h=c||f.length,i=a.getLength(),j=b,k=b;++b<i;){var l=a.getLine(b).search(e);if(-1!=l){if(l<=g){var m=a.getTokenAt(b,0);if(!m||"string"!==m.type)break}k=b}}if(k>j){var n=a.getLine(k).length;return new d(j,h,k,n)}}},this.openingBracketBlock=function(a,b,c,e,f){var g={row:c,column:e+1},h=a.$findClosingBracket(b,g,f);if(h){var i=a.foldWidgets[h.row];return null==i&&(i=a.getFoldWidget(h.row)),"start"==i&&h.row>g.row&&(h.row--,h.column=a.getLine(h.row).length),d.fromPoints(g,h)}},this.closingBracketBlock=function(a,b,c,e,f){var g={row:c,column:e},h=a.$findOpeningBracket(b,g);if(h)return h.column++,g.column--,d.fromPoints(h,g)}}).call(e.prototype)}),define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(a,b,c){"use strict";function d(a){this.session=a,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var e=a("./lib/dom");(function(){this.getRowLength=function(a){var b;return b=this.lineWidgets?this.lineWidgets[a]&&this.lineWidgets[a].rowCount||0:0,this.$useWrapMode&&this.$wrapData[a]?this.$wrapData[a].length+1+b:1+b},this.$getWidgetScreenLength=function(){var a=0;return this.lineWidgets.forEach(function(b){b&&b.rowCount&&!b.hidden&&(a+=b.rowCount)}),a},this.$onChangeEditor=function(a){this.attach(a.editor)},this.attach=function(a){a&&a.widgetManager&&a.widgetManager!=this&&a.widgetManager.detach(),this.editor!=a&&(this.detach(),this.editor=a,a&&(a.widgetManager=this,a.renderer.on("beforeRender",this.measureWidgets),a.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(a){var b=this.editor;if(b){this.editor=null,b.widgetManager=null,b.renderer.off("beforeRender",this.measureWidgets),b.renderer.off("afterRender",this.renderWidgets);var c=this.session.lineWidgets;c&&c.forEach(function(a){a&&a.el&&a.el.parentNode&&(a._inDocument=!1,a.el.parentNode.removeChild(a.el))})}},this.updateOnFold=function(a,b){var c=b.lineWidgets;if(c&&a.action){for(var d=a.data,e=d.start.row,f=d.end.row,g="add"==a.action,h=e+1;h<f;h++)c[h]&&(c[h].hidden=g);c[f]&&(g?c[e]?c[f].hidden=g:c[e]=c[f]:(c[e]==c[f]&&(c[e]=void 0),c[f].hidden=g))}},this.updateOnChange=function(a){var b=this.session.lineWidgets;if(b){var c=a.start.row,d=a.end.row-c;if(0!==d)if("remove"==a.action){var e=b.splice(c+1,d);!b[c]&&e[e.length-1]&&(b[c]=e.pop()),e.forEach(function(a){a&&this.removeLineWidget(a)},this),this.$updateRows()}else{var f=new Array(d);b[c]&&null!=b[c].column&&a.start.column>b[c].column&&c++,f.unshift(c,0),b.splice.apply(b,f),this.$updateRows()}}},this.$updateRows=function(){var a=this.session.lineWidgets;if(a){var b=!0;a.forEach(function(a,c){if(a)for(b=!1,a.row=c;a.$oldWidget;)a.$oldWidget.row=c,a=a.$oldWidget}),b&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(a){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var b=this.session.lineWidgets[a.row];return b&&(a.$oldWidget=b,b.el&&b.el.parentNode&&(b.el.parentNode.removeChild(b.el),b._inDocument=!1)),this.session.lineWidgets[a.row]=a,a},this.addLineWidget=function(a){if(this.$registerLineWidget(a),a.session=this.session,!this.editor)return a;var b=this.editor.renderer;a.html&&!a.el&&(a.el=e.createElement("div"),a.el.innerHTML=a.html),a.el&&(e.addCssClass(a.el,"ace_lineWidgetContainer"),a.el.style.position="absolute",a.el.style.zIndex=5,b.container.appendChild(a.el),a._inDocument=!0,a.coverGutter||(a.el.style.zIndex=3),null==a.pixelHeight&&(a.pixelHeight=a.el.offsetHeight)),null==a.rowCount&&(a.rowCount=a.pixelHeight/b.layerConfig.lineHeight);var c=this.session.getFoldAt(a.row,0);if(a.$fold=c,c){var d=this.session.lineWidgets;a.row!=c.end.row||d[c.start.row]?a.hidden=!0:d[c.start.row]=a}return this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows(),this.renderWidgets(null,b),this.onWidgetChanged(a),a},this.removeLineWidget=function(a){if(a._inDocument=!1,a.session=null,a.el&&a.el.parentNode&&a.el.parentNode.removeChild(a.el),a.editor&&a.editor.destroy)try{a.editor.destroy()}catch(a){}if(this.session.lineWidgets){var b=this.session.lineWidgets[a.row];if(b==a)this.session.lineWidgets[a.row]=a.$oldWidget,a.$oldWidget&&this.onWidgetChanged(a.$oldWidget);else for(;b;){if(b.$oldWidget==a){b.$oldWidget=a.$oldWidget;break}b=b.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(a){for(var b=this.session.lineWidgets,c=b&&b[a],d=[];c;)d.push(c),c=c.$oldWidget;return d},this.onWidgetChanged=function(a){this.session._changedWidgets.push(a),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(a,b){var c=this.session._changedWidgets,d=b.layerConfig;if(c&&c.length){for(var e=1/0,f=0;f<c.length;f++){var g=c[f];if(g&&g.el&&g.session==this.session){if(!g._inDocument){if(this.session.lineWidgets[g.row]!=g)continue;g._inDocument=!0,b.container.appendChild(g.el)}g.h=g.el.offsetHeight,g.fixedWidth||(g.w=g.el.offsetWidth,g.screenWidth=Math.ceil(g.w/d.characterWidth));var h=g.h/d.lineHeight;g.coverLine&&(h-=this.session.getRowLineCount(g.row))<0&&(h=0),g.rowCount!=h&&(g.rowCount=h,g.row<e&&(e=g.row))}}e!=1/0&&(this.session._emit("changeFold",{data:{start:{row:e}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(a,b){var c=b.layerConfig,d=this.session.lineWidgets;if(d){for(var e=Math.min(this.firstRow,c.firstRow),f=Math.max(this.lastRow,c.lastRow,d.length);e>0&&!d[e];)e--;this.firstRow=c.firstRow,this.lastRow=c.lastRow,b.$cursorLayer.config=c;for(var g=e;g<=f;g++){var h=d[g];if(h&&h.el)if(h.hidden)h.el.style.top=-100-(h.pixelHeight||0)+"px";else{h._inDocument||(h._inDocument=!0,b.container.appendChild(h.el));var i=b.$cursorLayer.getPixelPosition({row:g,column:0},!0).top;h.coverLine||(i+=c.lineHeight*this.session.getRowLineCount(h.row)),h.el.style.top=i-c.offset+"px";var j=h.coverGutter?0:b.gutterWidth;h.fixedWidth||(j-=b.scrollLeft),h.el.style.left=j+"px",h.fullWidth&&h.screenWidth&&(h.el.style.minWidth=c.width+2*c.padding+"px"),h.fixedWidth?h.el.style.right=b.scrollBar.getWidth()+"px":h.el.style.right=""}}}}}).call(d.prototype),b.LineWidgets=d}),define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(a,b,c){"use strict";function d(a,b,c){for(var d=0,e=a.length-1;d<=e;){var f=d+e>>1,g=c(b,a[f]);if(g>0)d=f+1;else{if(!(g<0))return f;e=f-1}}return-(d+1)}function e(a,b,c){var e=a.getAnnotations().sort(h.comparePoints);if(e.length){var f=d(e,{row:b,column:-1},h.comparePoints);f<0&&(f=-f-1),f>=e.length?f=c>0?0:e.length-1:0===f&&c<0&&(f=e.length-1);var g=e[f];if(g&&c){if(g.row===b){do{g=e[f+=c]}while(g&&g.row===b);if(!g)return e.slice()}var i=[];b=g.row;do{i[c<0?"unshift":"push"](g),g=e[f+=c]}while(g&&g.row==b);return i.length&&i}}}var f=a("../line_widgets").LineWidgets,g=a("../lib/dom"),h=a("../range").Range;b.showErrorMarker=function(a,b){var c=a.session;c.widgetManager||(c.widgetManager=new f(c),c.widgetManager.attach(a));var d=a.getCursorPosition(),h=d.row,i=c.widgetManager.getWidgetsAtRow(h).filter(function(a){return"errorMarker"==a.type})[0];i?i.destroy():h-=b;var j,k=e(c,h,b);if(k){var l=k[0];d.column=(l.pos&&"number"!=typeof l.column?l.pos.sc:l.column)||0,d.row=l.row,j=a.renderer.$gutterLayer.$annotations[d.row]}else{if(i)return;j={text:["Looks good!"],className:"ace_ok"}}a.session.unfold(d.row),a.selection.moveToPosition(d);var m={row:d.row,fixedWidth:!0,coverGutter:!0,el:g.createElement("div"),type:"errorMarker"},n=m.el.appendChild(g.createElement("div")),o=m.el.appendChild(g.createElement("div"));o.className="error_widget_arrow "+j.className;var p=a.renderer.$cursorLayer.getPixelPosition(d).left;o.style.left=p+a.renderer.gutterWidth-5+"px",m.el.className="error_widget_wrapper",n.className="error_widget "+j.className,n.innerHTML=j.text.join("<br>"),n.appendChild(g.createElement("div"));var q=function(a,b,c){if(0===b&&("esc"===c||"return"===c))return m.destroy(),{command:"null"}};m.destroy=function(){a.$mouseHandler.isMousePressed||(a.keyBinding.removeKeyboardHandler(q),c.widgetManager.removeLineWidget(m),a.off("changeSelection",m.destroy),a.off("changeSession",m.destroy),a.off("mouseup",m.destroy),a.off("change",m.destroy))},a.keyBinding.addKeyboardHandler(q),a.on("changeSelection",m.destroy),a.on("changeSession",m.destroy),a.on("mouseup",m.destroy),a.on("change",m.destroy),a.session.widgetManager.addLineWidget(m),m.el.onmousedown=a.focus.bind(a),a.renderer.scrollCursorIntoView(null,.5,{bottom:m.el.offsetHeight})},g.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)}),define("ace/ace",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(a,b,c){"use strict";a("./loader_build")(b);var d=a("./lib/dom"),e=a("./lib/event"),f=a("./range").Range,g=a("./editor").Editor,h=a("./edit_session").EditSession,i=a("./undomanager").UndoManager,j=a("./virtual_renderer").VirtualRenderer;a("./worker/worker_client"),a("./keyboard/hash_handler"),a("./placeholder"),a("./multi_select"),a("./mode/folding/fold_mode"),a("./theme/textmate"),a("./ext/error_marker"),b.config=a("./config"),b.edit=function(a,c){if("string"==typeof a){var f=a;if(!(a=document.getElementById(f)))throw new Error("ace.edit can't find div #"+f)}if(a&&a.env&&a.env.editor instanceof g)return a.env.editor;var h="";if(a&&/input|textarea/i.test(a.tagName)){var i=a;h=i.value,a=d.createElement("pre"),i.parentNode.replaceChild(a,i)}else a&&(h=a.textContent,a.innerHTML="");var k=b.createEditSession(h),l=new g(new j(a),k,c),m={document:k,editor:l,onResize:l.resize.bind(l,null)};return i&&(m.textarea=i),e.addListener(window,"resize",m.onResize),l.on("destroy",function(){e.removeListener(window,"resize",m.onResize),m.editor.container.env=null}),l.container.env=l.env=m,l},b.createEditSession=function(a,b){var c=new h(a,b);return c.setUndoManager(new i),c},b.Range=f,b.Editor=g,b.EditSession=h,b.UndoManager=i,b.VirtualRenderer=j,b.version=b.config.version}),function(){window.require(["ace/ace"],function(a){a&&(a.config.init(!0),a.define=window.define),window.ace||(window.ace=a);for(var b in a)a.hasOwnProperty(b)&&(window.ace[b]=a[b]);window.ace.default=window.ace,"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=window.ace)})}(),define("ace/mode/sql_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(a,b,c){"use strict";var d=a("../lib/oop"),e=a("./text_highlight_rules").TextHighlightRules,f=function(){var a="select|insert|update|delete|from|where|and|or|group|by|order|limit|offset|having|as|case|when|then|else|end|type|left|right|join|on|outer|desc|asc|union|create|table|primary|key|if|foreign|not|references|default|null|inner|cross|natural|database|drop|grant|distinct",b="true|false",c="avg|count|first|last|max|min|sum|ucase|lcase|mid|len|round|rank|now|format|coalesce|ifnull|isnull|nvl",d="int|numeric|decimal|date|varchar|char|bigint|float|double|bit|binary|text|set|timestamp|money|real|number|integer",e=this.createKeywordMapper({"support.function":c,keyword:a,"constant.language":b,"storage.type":d},"identifier",!0);this.$rules={start:[{token:"comment",regex:"--.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\/|\\/\\/|%|<@>|@>|<@|&|\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"}]},this.normalizeRules()};d.inherits(f,e),b.SqlHighlightRules=f}),define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(a,b,c){"use strict";var d=a("../../lib/oop"),e=a("../../range").Range,f=a("./fold_mode").FoldMode,g=b.FoldMode=function(a){a&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+a.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+a.end)))};d.inherits(g,f),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(a,b,c){var d=a.getLine(c);if(this.singleLineBlockCommentRe.test(d)&&!this.startRegionRe.test(d)&&!this.tripleStarBlockCommentRe.test(d))return"";var e=this._getFoldWidgetBase(a,b,c);return!e&&this.startRegionRe.test(d)?"start":e},this.getFoldWidgetRange=function(a,b,c,d){var e=a.getLine(c);if(this.startRegionRe.test(e))return this.getCommentRegionBlock(a,e,c);var f=e.match(this.foldingStartMarker);if(f){var g=f.index;if(f[1])return this.openingBracketBlock(a,f[1],c,g);var h=a.getCommentFoldRange(c,g+f[0].length,1);return h&&!h.isMultiLine()&&(d?h=this.getSectionRange(a,c):"all"!=b&&(h=null)),h}if("markbegin"!==b){var f=e.match(this.foldingStopMarker);if(f){var g=f.index+f[0].length;return f[1]?this.closingBracketBlock(a,f[1],c,g):a.getCommentFoldRange(c,g,-1)}}},this.getSectionRange=function(a,b){var c=a.getLine(b),d=c.search(/\S/),f=b,g=c.length;b+=1;for(var h=b,i=a.getLength();++b<i;){c=a.getLine(b);var j=c.search(/\S/);if(-1!==j){if(d>j)break;var k=this.getFoldWidgetRange(a,"all",b);if(k){if(k.start.row<=f)break;if(k.isMultiLine())b=k.end.row;else if(d==j)break}h=b}}return new e(f,g,h,a.getLine(h).length)},this.getCommentRegionBlock=function(a,b,c){for(var d=b.search(/\s*$/),f=a.getLength(),g=c,h=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,i=1;++c<f;){b=a.getLine(c);var j=h.exec(b);if(j&&(j[1]?i--:i++,!i))break}var k=c;if(k>g)return new e(g,d,k,b.length)}}.call(g.prototype)}),define("ace/mode/folding/sql",["require","exports","module","ace/lib/oop","ace/mode/folding/cstyle"],function(a,b,c){"use strict";var d=a("../../lib/oop"),e=a("./cstyle").FoldMode,f=b.FoldMode=function(){};d.inherits(f,e),function(){}.call(f.prototype)}),define("ace/mode/sql",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/sql_highlight_rules","ace/mode/folding/sql"],function(a,b,c){"use strict";var d=a("../lib/oop"),e=a("./text").Mode,f=a("./sql_highlight_rules").SqlHighlightRules,g=a("./folding/sql").FoldMode,h=function(){this.HighlightRules=f,this.foldingRules=new g,this.$behaviour=this.$defaultBehaviour};d.inherits(h,e),function(){this.lineCommentStart="--",this.blockComment={start:"/*",end:"*/"},this.$id="ace/mode/sql",this.snippetFileId="ace/snippets/sql"}.call(h.prototype),b.Mode=h}),function(){window.require(["ace/mode/sql"],function(a){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=a)})}(),define("ace/theme/monokai.css",["require","exports","module"],function(a,b,c){c.exports='.ace-monokai .ace_gutter {\n  background: #2F3129;\n  color: #8F908A\n}\n\n.ace-monokai .ace_print-margin {\n  width: 1px;\n  background: #555651\n}\n\n.ace-monokai {\n  background-color: #272822;\n  color: #F8F8F2\n}\n\n.ace-monokai .ace_cursor {\n  color: #F8F8F0\n}\n\n.ace-monokai .ace_marker-layer .ace_selection {\n  background: #49483E\n}\n\n.ace-monokai.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px #272822;\n}\n\n.ace-monokai .ace_marker-layer .ace_step {\n  background: rgb(102, 82, 0)\n}\n\n.ace-monokai .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid #49483E\n}\n\n.ace-monokai .ace_marker-layer .ace_active-line {\n  background: #202020\n}\n\n.ace-monokai .ace_gutter-active-line {\n  background-color: #272727\n}\n\n.ace-monokai .ace_marker-layer .ace_selected-word {\n  border: 1px solid #49483E\n}\n\n.ace-monokai .ace_invisible {\n  color: #52524d\n}\n\n.ace-monokai .ace_entity.ace_name.ace_tag,\n.ace-monokai .ace_keyword,\n.ace-monokai .ace_meta.ace_tag,\n.ace-monokai .ace_storage {\n  color: #F92672\n}\n\n.ace-monokai .ace_punctuation,\n.ace-monokai .ace_punctuation.ace_tag {\n  color: #fff\n}\n\n.ace-monokai .ace_constant.ace_character,\n.ace-monokai .ace_constant.ace_language,\n.ace-monokai .ace_constant.ace_numeric,\n.ace-monokai .ace_constant.ace_other {\n  color: #AE81FF\n}\n\n.ace-monokai .ace_invalid {\n  color: #F8F8F0;\n  background-color: #F92672\n}\n\n.ace-monokai .ace_invalid.ace_deprecated {\n  color: #F8F8F0;\n  background-color: #AE81FF\n}\n\n.ace-monokai .ace_support.ace_constant,\n.ace-monokai .ace_support.ace_function {\n  color: #66D9EF\n}\n\n.ace-monokai .ace_fold {\n  background-color: #A6E22E;\n  border-color: #F8F8F2\n}\n\n.ace-monokai .ace_storage.ace_type,\n.ace-monokai .ace_support.ace_class,\n.ace-monokai .ace_support.ace_type {\n  font-style: italic;\n  color: #66D9EF\n}\n\n.ace-monokai .ace_entity.ace_name.ace_function,\n.ace-monokai .ace_entity.ace_other,\n.ace-monokai .ace_entity.ace_other.ace_attribute-name,\n.ace-monokai .ace_variable {\n  color: #A6E22E\n}\n\n.ace-monokai .ace_variable.ace_parameter {\n  font-style: italic;\n  color: #FD971F\n}\n\n.ace-monokai .ace_string {\n  color: #E6DB74\n}\n\n.ace-monokai .ace_comment {\n  color: #75715E\n}\n\n.ace-monokai .ace_indent-guide {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y\n}\n\n.ace-monokai .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'}),define("ace/theme/monokai",["require","exports","module","ace/theme/monokai.css","ace/lib/dom"],function(a,b,c){b.isDark=!0,b.cssClass="ace-monokai",b.cssText=a("./monokai.css"),a("../lib/dom").importCssString(b.cssText,b.cssClass,!1)}),function(){window.require(["ace/theme/monokai"],function(a){"object"==typeof module&&"object"==typeof exports&&module&&(module.exports=a)})}(),window.BlocklyPlugins=window.BlocklyPlugins||{},function(){var a={listeners:[]};a.types={WORKSPACE_READY:"WORKSPACE_READY",DOCUMENT_READY:"DOCUMENT_READY",BEFORE_UNLOAD:"BEFORE_UNLOAD",UNLOAD:"UNLOAD",LOAD:"LOAD"},a.addListener=function(b){a.listeners.push(b)},a.fire=function(b){a.listeners.forEach(function(a){a(b)})},a.check=function(){Blockly.mainWorkspace?a.fire(a.types.WORKSPACE_READY):setTimeout(a.check,200)},a.ready=function(b){Blockly.mainWorkspace?b():a.addListener(function(c){c==a.types.WORKSPACE_READY&&b()})},a.docReady=function(b){a.addListener(function(c){c==a.types.DOCUMENT_READY&&b()})},a.beforeUnload=function(b){a.addListener(function(c){c==a.types.BEFORE_UNLOAD&&b()})},a.unload=function(b){a.addListener(function(c){c==a.types.UNLOAD&&b()})},a.load=function(b){a.addListener(function(c){c==a.types.LOAD&&b()})},window.addEventListener("beforeunload",function(){a.fire(a.types.BEFORE_UNLOAD)}),window.addEventListener("unload",function(){a.fire(a.types.UNLOAD)}),window.addEventListener("load",function(){a.fire(a.types.LOAD)}),document.addEventListener("DOMContentLoaded",function(b){a.fire(a.types.DOCUMENT_READY),a.check()}),a.check(),BlocklyPlugins.Events=a}(),function(){"use strict";var a=null,b=null,c=function(){if(a&&null!==b){a.getAllBlocks().forEach(function(a){a.getConnections_(!1).forEach(function(a){a.typeHighlightSvgPath&&(goog.dom.removeNode(a.typeHighlightSvgPath),delete a.typeHighlightSvgPath,a.typeHighlightSvgPath=!1)})}),a=null}b()};null!==Blockly.BlockSvg.terminateDrag?(b=Blockly.BlockSvg.terminateDrag,Blockly.BlockSvg.terminateDrag=c):null!==Blockly.BlockSvg.terminateDrag_&&(b=Blockly.BlockSvg.terminateDrag_,Blockly.BlockSvg.terminateDrag_=c);var d=null,e=function(b){if(null!==d){var c=this;if(2==Blockly.dragMode_&&!a){a=c.workspace;var e="dummy",f=null,g=null;if(c.outputConnection&&(f=c.outputConnection,e="input"),c.previousConnection&&(f=c.previousConnection,e="statement"),c.nextConnection&&(g=c.nextConnection,e="statement"),f){var h=Blockly.OPPOSITE_TYPE[f.type];a.connectionDBList[h].forEach(function(a){!f.checkType_(a)||a.typeHighlightSvgPath||c.isParentOf(a.sourceBlock_)||("statement"==e||"input"==e&&!a.targetConnection?a.typeHighlightSvgPath=a.typeHighlight():a.typeHighlightSvgPath=a.typeHighlight("blocklyOccupiedTypeHighlightedConnectionPath"))})}if(g){var i=Blockly.OPPOSITE_TYPE[g.type];a.connectionDBList[i].forEach(function(a){!f.checkType_(a)||a.typeHighlightSvgPath||c.isParentOf(a.sourceBlock_)||("statement"==e||"input"==e&&!a.targetConnection?a.typeHighlightSvgPath=a.typeHighlight():a.typeHighlightSvgPath=a.typeHighlight("blocklyOccupiedTypeHighlightedConnectionPath"))})}}}d.call(this,b)};Blockly.BlockSvg.prototype.onMouseMove?(d=Blockly.BlockSvg.prototype.onMouseMove,Blockly.BlockSvg.prototype.onMouseMove=e):Blockly.BlockSvg.prototype.onMouseMove_&&(d=Blockly.BlockSvg.prototype.onMouseMove_,Blockly.BlockSvg.prototype.onMouseMove_=e);var f;f=void 0!=Blockly.utils&&void 0!=Blockly.utils.createSvgElement?Blockly.utils.createSvgElement:Blockly.createSvgElement,Blockly.Connection.prototype.typeHighlight=function(a){void 0===a&&(a="blocklyTypeHighlightedConnectionPath");var b;if(this.type==Blockly.INPUT_VALUE||this.type==Blockly.OUTPUT_VALUE){var c=this.sourceBlock_.RTL?-Blockly.BlockSvg.TAB_WIDTH:Blockly.BlockSvg.TAB_WIDTH;b="m 0,0 v 5 c 0,10 "+-c+",-8 "+-c+",7.5 s "+c+",-2.5 "+c+",7.5 v 5"}else b=this.sourceBlock_.RTL?"m 20,0 h -5 "+Blockly.BlockSvg.NOTCH_PATH_RIGHT+" h -5":"m -20,0 h 5 "+Blockly.BlockSvg.NOTCH_PATH_LEFT+" h 5";var d=this.sourceBlock_.getRelativeToSurfaceXY(),e=this.x_-d.x,g=this.y_-d.y;return f("path",{class:a,d:b,transform:"translate("+e+", "+g+")"},this.sourceBlock_.getSvgRoot())},Blockly.Block.prototype.isParentOf=function(a){return null!==a&&void 0!==a.parentBlock_&&(this===a||this.isParentOf(a.parentBlock_))},Blockly.Css.CONTENT.push(".blocklyTypeHighlightedConnectionPath {","  fill: none;","  stroke: #FC3;","  stroke-width: 2px;","  opacity: 1;","}"),Blockly.Css.CONTENT.push(".blocklyHighlightedConnectionPath {","  stroke: #FC3;","  stroke-width: 4px;","  opacity: 1;","}"),Blockly.Css.CONTENT.push(".blocklyOccupiedTypeHighlightedConnectionPath {","  fill: none;","  stroke: #FC3;","  stroke-width: 2px;","  opacity: 1;","}"),Blockly.Css.getStylesBySelector=function(a){for(var b=Blockly.Css.styleSheet_.rules,c=[],d=0;d<b.length;d++)b[d].selectorText===a&&c.push(b[d].style);return c.length>0&&c},Blockly.Css.addRule=function(a,b){var c=Blockly.Css.styleSheet_.insertRule(a+"{\n"+b+"\n}\n",Blockly.Css.styleSheet_.length);return Blockly.Css.styleSheet_.rules[c].style},Blockly.Css.setTypeIndicatorColours=function(a,b,c){var d,e=Blockly.Css.getStylesBySelector(".blocklyTypeHighlightedConnectionPath");e?d=e[e.length-1]:(d=Blockly.Css.addRule(".blocklyTypeHighlightedConnectionPath",""),d.strokeWidth="4px",d.fill="none"),d.stroke=a;var f,g=Blockly.Css.getStylesBySelector(".blocklyHighlightedConnectionPath");g?f=g[g.length-1]:(f=Blockly.Css.addRule(".blocklyHighlightedConnectionPath",""),f.fill="none"),f.stroke=b;var h,i=Blockly.Css.getStylesBySelector(".blocklyOccupiedTypeHighlightedConnectionPath");i?h=i[i.length-1]:(h=Blockly.Css.addRule(".blocklyOccupiedTypeHighlightedConnectionPath",""),h.strokeWidth="2px",h.fill="none"),h.stroke=c}}();var SQLBlockly={};SQLBlockly.LANG="en",SQLBlockly.BLOCKLY_PATH="../common/modules/GoogleBlockly/",SQLBlockly.MEDIA_PATH=SQLBlockly.BLOCKLY_PATH+"media/",SQLBlockly.DSN="",SQLBlockly.Colours={},SQLBlockly.Colours.list="#74A55B",SQLBlockly.Colours.string="#A56D5B",SQLBlockly.Colours.number="#6C5DA4",SQLBlockly.Colours.boolean="#5BA58C",SQLBlockly.Colours.date="#A55B80",SQLBlockly.Colours.undefined="#000000",SQLBlockly.Colours.mutators="#63A65A",function(){"use strict";SQLBlockly.SQLGen=new Blockly.Generator("SQL"),SQLBlockly.SQLGen.isNotEmpty=function(a){return""!==a&&a?a:null},SQLBlockly.SQLGen.addReservedWords("SELECT","INSERT","UPDATE","ALL","DISTINCT","AS","INTO","FROM","VALUES","WHERE","SET","GOUP BY","ORDER BY","HAVING","LIMIT","AVG","COUNT","MIN","MAX","STDDEV","SUM","VARIANCE","ASC","DESC","AS"),SQLBlockly.SQLGen.ORDER_ATOMIC=0,SQLBlockly.SQLGen.ORDER_MEMBER=1.1,SQLBlockly.SQLGen.ORDER_FUNCTION_CALL=2,SQLBlockly.SQLGen.ORDER_INCREMENT=3,SQLBlockly.SQLGen.ORDER_DECREMENT=3,SQLBlockly.SQLGen.ORDER_BITWISE_NOT=4.1,SQLBlockly.SQLGen.ORDER_UNARY_PLUS=4.2,SQLBlockly.SQLGen.ORDER_UNARY_NEGATION=4.3,SQLBlockly.SQLGen.ORDER_LOGICAL_NOT=4.4,SQLBlockly.SQLGen.ORDER_DIVISION=5.1,SQLBlockly.SQLGen.ORDER_MULTIPLICATION=5.2,SQLBlockly.SQLGen.ORDER_MODULUS=5.3,SQLBlockly.SQLGen.ORDER_SUBTRACTION=6.1,SQLBlockly.SQLGen.ORDER_ADDITION=6.2,SQLBlockly.SQLGen.ORDER_BITWISE_SHIFT=7,SQLBlockly.SQLGen.ORDER_RELATIONAL=8,SQLBlockly.SQLGen.ORDER_IN=8,SQLBlockly.SQLGen.ORDER_EQUALITY=9,SQLBlockly.SQLGen.ORDER_BITWISE_AND=10,SQLBlockly.SQLGen.ORDER_BITWISE_XOR=11,SQLBlockly.SQLGen.ORDER_BITWISE_OR=12,SQLBlockly.SQLGen.ORDER_LOGICAL_AND=13,SQLBlockly.SQLGen.ORDER_LOGICAL_OR=14,SQLBlockly.SQLGen.ORDER_ASSIGNMENT=15,SQLBlockly.SQLGen.ORDER_COMMA=16,SQLBlockly.SQLGen.ORDER_NONE=99,SQLBlockly.SQLGen.init=function(a){SQLBlockly.SQLGen.variableDB_?SQLBlockly.SQLGen.variableDB_.reset():SQLBlockly.SQLGen.variableDB_=new Blockly.Names(SQLBlockly.SQLGen.RESERVED_WORDS_)},SQLBlockly.SQLGen.finish=function(a){return SQLBlockly.SQLGen.variableDB_.reset(),a.trim()+";"},SQLBlockly.SQLGen.scrubNakedValue=function(a){return a+"\n"},SQLBlockly.SQLGen.quote_=function(a){return"'"+(a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},SQLBlockly.SQLGen.scrub_=function(a,b){var c="";if(!a.outputConnection||!a.outputConnection.targetConnection){var d=a.getCommentText();d=Blockly.utils.wrap(d,SQLBlockly.SQLGen.COMMENT_WRAP-3),d&&(a.getProcedureDef?c+="/**\n"+SQLBlockly.SQLGen.prefixLines(d+"\n"," * ")+" */\n":c+=SQLBlockly.SQLGen.prefixLines(d+" */\n","/* "));for(var e=0;e<a.inputList.length;e++)if(a.inputList[e].type==Blockly.INPUT_VALUE){var f=a.inputList[e].connection.targetBlock();if(f){var d=SQLBlockly.SQLGen.allNestedComments(f);d&&(c+=SQLBlockly.SQLGen.prefixLines(d+" */\n","/* "))}}}var g=a.nextConnection&&a.nextConnection.targetBlock();return c+b+SQLBlockly.SQLGen.blockToCode(g)},SQLBlockly.SQLGen.getAdjusted=function(a,b,c,d,e){var f=c||0,g=e||SQLBlockly.SQLGen.ORDER_NONE;a.workspace.options.oneBasedIndex&&f--;var h=a.workspace.options.oneBasedIndex?"1":"0";if(f>0)var i=SQLBlockly.SQLGen.valueToCode(a,b,SQLBlockly.SQLGen.ORDER_ADDITION)||h;else if(f<0)var i=SQLBlockly.SQLGen.valueToCode(a,b,SQLBlockly.SQLGen.ORDER_SUBTRACTION)||h;else if(d)var i=SQLBlockly.SQLGen.valueToCode(a,b,SQLBlockly.SQLGen.ORDER_UNARY_NEGATION)||h;else var i=SQLBlockly.SQLGen.valueToCode(a,b,g)||h;if(Blockly.isNumber(i))i=parseFloat(i)+f,d&&(i=-i);else{if(f>0){i=i+" + "+f;var j=SQLBlockly.SQLGen.ORDER_ADDITION}else if(f<0){i=i+" - "+-f;var j=SQLBlockly.SQLGen.ORDER_SUBTRACTION}if(d){i=f?"-("+i+")":"-"+i;var j=SQLBlockly.SQLGen.ORDER_UNARY_NEGATION}j=Math.floor(j),g=Math.floor(g),j&&g>=j&&(i="("+i+")")}return i}}(),function(){"use strict";SQLBlockly.SQLGen.select=function(a){var b="SELECT",c=SQLBlockly.SQLGen.statementToCode(a,"select"),d=c.split(","),e="",f={},g=SQLBlockly.SQLGen.valueToCode(a,"Clause",null),h=null,i=SQLBlockly.SQLGen.statementToCode(a,"group_by"),j=SQLBlockly.SQLGen.valueToCode(a,"having",null),k=SQLBlockly.SQLGen.valueToCode(a,"limit",null),l=SQLBlockly.SQLGen.statementToCode(a,"order_by");for(var m in d){var n=d[m];for(var o in SQLBlocks.Msg.DROPDOWN.GROUPFUNCTIONS){var p=SQLBlocks.Msg.DROPDOWN.GROUPFUNCTIONS[o][1],q=new RegExp(p+"\\(","i"),r=n.search(q),s=null;-1!==r&&(-1!==n.lastIndexOf(")")?(h=n.substring(r,n.indexOf(")")+1).trim(),s=h.substring(p.length+1,n.indexOf(")")-1).split(".")[0].trim()):(h=n.substring(r,r+p.length+1).trim(),s=h.substring(p.length+1,n.length-1).split(".")[0].trim()),s in f||0===s.length||/^\s*$/.test(s)||(f[s]=s,e+=s+","),n=n.replace(h,""),d[m]=n)}}for(var t in d){var u=d[t],v=u.indexOf("."),s=u.substring(0,v).trim();s in f||0===s.length||/^\s*$/.test(s)||s.includes("SELECT")||(f[s]=s,e+=s+",")}if(c=c.substring(0,c.length-1),e=e.substring(0,e.length-1),","===c.charAt(c.length-1)&&(c=c.substring(0,c.length-1)),","===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),b+=c+"\nFROM "+e,SQLBlockly.SQLGen.isNotEmpty(g)&&(g=g.substring(1,g.length-1).trim(),","===g.charAt(g.length-1)&&(g=g.substring(0,g.length-1)),b+="\nWHERE "+g),SQLBlockly.SQLGen.isNotEmpty(i)&&(i=i.substring(0,i.length-1),b+="\nGROUP BY "+i,SQLBlockly.SQLGen.isNotEmpty(j))){var w=SQLBlockly.SQLGen.valueToCode(a,"having",null);w=w.substring(1,w.length-1),b+="\nHAVING "+w}if(SQLBlockly.SQLGen.isNotEmpty(l)){var x=a.getField("sort").value_;l=l.substring(0,l.length-1),b+="\nORDER BY "+l+" "+x}return SQLBlockly.SQLGen.isNotEmpty(k)&&(k=k.substring(1,k.length-1),b+="\nLIMIT "+k),b},SQLBlockly.SQLGen.insert=function(a){for(var b="INSERT INTO ",c=0,d="",e="",f="";a.getInput("set"+c);){var g=SQLBlockly.SQLGen.valueToCode(a,"set"+c,null);g&&(g=g.substring(1,g.length-1).trim(),d=g.split(".")[0].trim(),e+=g.split("=")[0].split(".")[1].trim()+", ",f+=g.split("=")[1].trim()+", "),c++}return e=e.substring(0,e.length-2),f=f.substring(0,f.length-2),b+=d+"\n("+e+")\nVALUES\n("+f+")"},SQLBlockly.SQLGen.update=function(a){for(var b="UPDATE ",c=0,d="",e="",f=SQLBlockly.SQLGen.valueToCode(a,"Clause",null);a.getInput("set"+c);){var g=SQLBlockly.SQLGen.valueToCode(a,"set"+c,null);g&&(g=g.substring(1,g.length-1),d=g.split(".")[0],e+=g+", "),c++}return e=e.substring(0,e.length-2),b+=d+" SET "+e,""!==f&&f&&(f=f.substring(1,f.length-1),b+="\nWHERE "+f),b},SQLBlockly.SQLGen.sub_select=function(a){return"("+SQLBlockly.SQLGen.select(a)+"), "},SQLBlockly.SQLGen.sub_select_where=function(a){return["("+SQLBlockly.SQLGen.select(a)+"), ",1]},SQLBlockly.SQLGen.distinct=function(a){var b="DISTINCT ",c=SQLBlockly.SQLGen.statementToCode(a,"distinct2");return c=c.substring(0,c.length-1),b+=c}}(),window.BlocklyPlugins=window.BlocklyPlugins||{},function(){"use strict";SQLBlockly.SQLGen.tables_and_columns=function(a){var b="";return b+=a.getFieldValue("tabele")+"."+a.getFieldValue("Column")+","},SQLBlockly.SQLGen.tables_and_columns_var=function(a){var b="";return b+=a.getFieldValue("tabele").trim()+"."+a.getFieldValue("Column").trim(),[b,SQLBlockly.SQLGen.ORDER_ADDITION]}}(),function(){"use strict";SQLBlockly.SQLGen.groupfunction=function(a){var b="",c=a.getField("group_function").getValue().toUpperCase(),d=SQLBlockly.SQLGen.statementToCode(a,"group"),e=a.getField("VAR").getValue();return d=d.substring(0,d.length-1),b+=c+"("+d+")",""!==e&&"undefined"!==e&&e&&(b+=" AS "+e),b+","},SQLBlockly.SQLGen.charfunction=function(a){var b="",c=a.getField("char_function").getValue(),d=SQLBlockly.SQLGen.valueToCode(a,"option",1),e=SQLBlockly.SQLGen.valueToCode(a,"num",1),f=SQLBlockly.SQLGen.valueToCode(a,"option2",1);return d=d.substring(1,d.length-1),e=e.substring(1,e.length-1),f=f.substring(1,f.length-1),b+=c+"("+d,""!==e&&e&&(b+=", "+e),""!==f&&f&&(b+=", "+f),b+=")",[b,SQLBlockly.SQLGen.ORDER_FUNCTION_CALL]},SQLBlockly.SQLGen.numberfunction=function(a){var b="",c=a.getField("number_function").getValue(),d=SQLBlockly.SQLGen.valueToCode(a,"object",1),e=SQLBlockly.SQLGen.valueToCode(a,"number",1);return d=d.substring(1,d.length-1),e=e.substring(1,e.length-1),b+=c+"("+d,""!==e&&e&&(b+=", "+e),b+=")",[b,SQLBlockly.SQLGen.ORDER_FUNCTION_CALL]},SQLBlockly.SQLGen.datefunction=function(a){var b="",c=a.getField("date_function").getValue().toUpperCase(),d=SQLBlockly.SQLGen.valueToCode(a,"object",1);return b+=c,b+=""!==d&&d?d:"()",[b,SQLBlockly.SQLGen.ORDER_FUNCTION_CALL]}}(),window.BlocklyPlugins=window.BlocklyPlugins||{},function(){"use strict";SQLBlockly.SQLGen.compare_operator=function(a){var b="",c=SQLBlockly.SQLGen.valueToCode(a,"A",1),d=SQLBlockly.SQLGen.valueToCode(a,"B",1),e=a.getField("OP").text_;return c=c.substring(1,c.length-1),d=d.substring(1,d.length-1),b+=c+" "+e+" "+d,[b,1]},SQLBlockly.SQLGen.to=function(a){var b="",c=SQLBlockly.SQLGen.valueToCode(a,"A",1),d=SQLBlockly.SQLGen.valueToCode(a,"B",1);return c=c.substring(1,c.length-1),d=d.substring(1,d.length-1),b+=c+" = "+d,[b,1]},SQLBlockly.SQLGen.logical_conjunction=function(a){var b="",c=SQLBlockly.SQLGen.valueToCode(a,"A",1),d=SQLBlockly.SQLGen.valueToCode(a,"B",1),e=a.getField("operator").getValue();return c=c.substring(0,c.length-1),d=d.substring(1,d.length),b+=c+" "+e+" "+d,[b,1]},SQLBlockly.SQLGen.conditions=function(a){var b="NOT ",c=SQLBlockly.SQLGen.valueToCode(a,"A",1);return c=c.substring(1,c.length-1),b+=c,[b,1]},SQLBlockly.SQLGen.terms_simple_expressions=function(a){var b="",c=SQLBlockly.SQLGen.valueToCode(a,"A",1),d=SQLBlockly.SQLGen.valueToCode(a,"B",1),e=a.getField("OP").text_;return c=c.substring(1,c.length-1),d=d.substring(1,d.length-1),b+="("+c+" "+e+" "+d+")",[b,1]}}(),window.BlocklyPlugins=window.BlocklyPlugins||{},function(){"use strict";SQLBlockly.SQLGen.num=function(a){return[a.getField("NUM").getValue(),1]},SQLBlockly.SQLGen.string=function(a){return["'"+a.getField("String").getValue()+"'",1]},SQLBlockly.SQLGen.date=function(a){return["'"+a.getField("Date_").getValue()+"'",1]},SQLBlockly.SQLGen.fieldname_get=function(a){var b="AS ",c=a.getField("VAR");return c?b+=c.getValue():b="",b},SQLBlockly.SQLGen.bool=function(a){return[a.getField("BOOL").getValue(),1]},SQLBlockly.SQLGen.array=function(a){for(var b="(",c=0;c<this.itemCount_;c++){var d=this.getInputTargetBlock("ADD"+c);if(d){switch(d.type){case"num":b+=d.getField("NUM").getValue();break;case"string":b+="'"+d.getField("String").getValue()+"'";break;case"bool":b+=d.getField("BOOL").getValue();break;case"date":b+="'"+d.getField("Date_").getValue()+"'"}b+=", "}}return c>0&&","==b.charAt(b.length-2)&&(b=b.substring(0,b.length-2)),b+=")",[b,1]}}();var sqlHelp=null;Blockly.Blocks.init=function(){return sqlHelp=new SQLHelper,'<xml id="toolbox" style="display: none"><category name="'+SQLBlocks.Msg.Toolbox.COMMANDS+'"><block type="select"></block><block type="insert"></block><block type="update"></block><block type="sub_select"></block><block type="sub_select_where"></block><block type="distinct"></block></category><category name="'+SQLBlocks.Msg.Toolbox.FIELDS+'"><block type="tables_and_columns"></block><block type="tables_and_columns_var"></block></category><category name="'+SQLBlocks.Msg.Toolbox.OPERATORS+'"><block type="compare_operator"></block><block type="compare_operator"><value name="A"><block type="tables_and_columns_var"></block></value></block><block type="to"></block><block type="to"><value name="A"><block type="tables_and_columns_var"></block></value></block><block type="logical_conjunction"></block><block type="conditions"></block><block type="terms_simple_expressions"></block></category><category name="'+SQLBlocks.Msg.Toolbox.VALUES+'"><block type="num"></block><block type="string"></block><block type="date" ></block><block type="fieldname_get"></block><block type="bool"></block><block type="array"></block></category><category name="'+SQLBlocks.Msg.Toolbox.FUNCTIONS+'"><block type="groupfunction"></block><block type="charfunction"></block> <block type="numberfunction"></block><block type="datefunction"></block></category></xml>'},Blockly.Blocks.tables_and_columns={init:function(){this.table=Object.keys(dbStructure)[0],this.column="*",this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.list),this.setup(),this.setPreviousStatement(!0,["table_column","group_function","sub_select","otherfunction","name"]),this.setNextStatement(!0,["table_column","group_function","sub_select","otherfunction","name"]),this.setTooltip(SQLBlocks.Msg.Tooltips.TABLES_AND_COLUMNS)},setup:function(){var a=this,b=new Blockly.FieldDropdown(sqlHelp.getTableDropdowndata(),function(b){a.updateShape(b,"*"),a.table=b,a.column="*";var c=a.getParent();c&&c.onchange()}),c=new Blockly.FieldDropdown(sqlHelp.getColumnDropdowndata(this.table,!0),function(b){var c=a.getFieldValue("tabele");a.updateShape(c,b),a.table=c,a.column=b;var d=a.getParent();d&&d.onchange()});b.setValue(this.table),c.setValue(this.column),a.setColour(sqlHelp.getTypeColour(this.table,this.column)),a.appendDummyInput("Table").setAlign(Blockly.ALIGN_RIGHT).appendField(b,"tabele").appendField(" ","space").appendField(c,"Column")},mutationToDom:function(){var a=this.getFieldValue("tabele"),b=this.getFieldValue("Column"),c=document.createElement("mutation");return c.setAttribute("tabele",a),c.setAttribute("Column",b),c.setAttribute("color",this.getColour()),c},domToMutation:function(a){var b=a.getAttribute("tabele"),c=a.getAttribute("Column"),d=a.getAttribute("color");this.updateShape(b,c),d&&this.setColour(d)},updateShape:function(a,b){this.removeInput("Table"),this.table=a,this.column=b,this.setup()},onchange:function(){this.workspace&&sqlHelp.colourTheParent(this)}},Blockly.Blocks.tables_and_columns_var={init:function(){var a=Object.keys(dbStructure)[0],b=dbStructure[a][0].name;this.columnType=null,this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.list),this.setup(a,b),this.setTooltip(SQLBlocks.Msg.Tooltips.TABLES_AND_COLUMNS_VAR),this.setOutput(!0,"table_column_var")},setup:function(a,b){var c=this,d=new Blockly.FieldDropdown(sqlHelp.getTableDropdowndata(),function(a){c.updateShape(a,dbStructure[a][0].name);var b=c.getParent();b&&b.onchange()}),e=new Blockly.FieldDropdown(sqlHelp.getColumnDropdowndata(a,!1),function(a){var b=c.getFieldValue("tabele"),d=sqlHelp.getType(b,a);c.updateShape(b,a),c.onchange(),c.setOutput(!0,d);var e=c.getParent();e&&e.onchange()});d.setValue(a),e.setValue(b),c.setColour(sqlHelp.getTypeColour(a,b)),c.appendDummyInput("Table").setAlign(Blockly.ALIGN_RIGHT).appendField(d,"tabele").appendField(" ","Abstand").appendField(e,"Column")},mutationToDom:function(){var a=this.getFieldValue("tabele"),b=this.getFieldValue("Column"),c=document.createElement("mutation");return c.setAttribute("tabele",a),c.setAttribute("Column",b),c.setAttribute("color",this.getColour()),c},domToMutation:function(a){var b=a.getAttribute("tabele"),c=a.getAttribute("Column"),d=a.getAttribute("color");this.updateShape(b,c),d&&this.setColour(d)},updateShape:function(a,b){this.removeInput("Table"),this.setup(a,b)},onchange:function(){this.workspace&&sqlHelp.colourTheParent(this)}},Blockly.Blocks.to={init:function(){this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.list),this.appendValueInput("A").setCheck("table_column_var"),this.appendValueInput("B").appendField(SQLBlocks.Msg.Blocks.TO).setCheck(["date","condition","sub_select","bool","numberfunction","charfunction","ArithmethikOPs","datefunction","sub_select","number","string"]),this.setOutput(!0,"TO"),this.setTooltip(SQLBlocks.Msg.Tooltips.TO)},onchange:function(){this.workspace&&(this.getInputTargetBlock("A")||this.getInputTargetBlock("B")||this.setColour(this.getColour()))}},Blockly.Blocks.compare_operator={init:function(a){this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.boolean),this.setOutput(!0,"condition"),this.setup(this,"EQ"),this.setInputsInline(!1)},setup:function(a,b){var c=new Blockly.FieldDropdown(SQLBlocks.Msg.DROPDOWN.COMPAREOPERATORS,function(a){this.sourceBlock_.updateShape(a)});if(sqlHelp.clearInputList(this),""!=b)if(c.setValue(b),"isnull"==b||"isnotnull"==b){var d=a.appendValueInput("A").setAlign(Blockly.ALIGN_LEFT).appendField("","Abstand").setCheck(["condition","table_column_var","charfunction","groupfunction"]);a.appendDummyInput("D").appendField(c,"OP"),this.valueConnection1_&&d.connection.connect(this.valueConnection1_);var e=this;a.setTooltip(function(){var a=e.getFieldValue("OP");return{isnull:SQLBlocks.Msg.Tooltips.LOGIC_COMPARE.NULL,isnotnull:SQLBlocks.Msg.Tooltips.LOGIC_COMPARE.NOT_NULL}[a]})}else if("like"==b){var d=a.appendValueInput("A").setAlign(Blockly.ALIGN_RIGHT).setCheck(["string","table_column_var","charfunction","groupfunction"]);a.appendDummyInput().appendField(c,"OP");var f=a.appendValueInput("B").setAlign(Blockly.ALIGN_RIGHT).setCheck(["string","table_column_var","charfunction","groupfunction"]);this.valueConnection1_&&d.connection.connect(this.valueConnection1_),this.valueConnection2_&&f.connection.connect(this.valueConnection2_)}else{a.appendValueInput("A").setAlign(Blockly.ALIGN_LEFT).appendField("","Abstand").setCheck(["date","condition","bool","numberfunction","charfunction","ArithmethikOPs","datefunction","table_column_var","sub_select","number","string","groupfunction","BolleanOPs"]),a.appendDummyInput().setAlign(Blockly.ALIGN_LEFT).appendField(c,"OP"),a.appendValueInput("B").setCheck(["date","condition","bool","numberfunction","charfunction","ArithmethikOPs","datefunction","table_column_var","sub_select","number","string","groupfunction","BolleanOPs","Array"]),this.valueConnection1_&&d.connection.connect(this.valueConnection1_),this.valueConnection2_&&f.connection.connect(this.valueConnection2_);var e=this;a.setTooltip(function(){var a=e.getFieldValue("OP");return{EQ:SQLBlocks.Msg.Tooltips.LOGIC_COMPARE.EQ,NEQ:SQLBlocks.Msg.Tooltips.LOGIC_COMPARE.NEQ,LT:SQLBlocks.Msg.Tooltips.LOGIC_COMPARE.LT,LTE:SQLBlocks.Msg.Tooltips.LOGIC_COMPARE.LTE,GT:SQLBlocks.Msg.Tooltips.LOGIC_COMPARE.GT,GTE:SQLBlocks.Msg.Tooltips.LOGIC_COMPARE.GTE}[a]})}},mutationToDom:function(){var a=document.createElement("mutation"),b=this.getColour(),c=this.getFieldValue("OP");return a.setAttribute("OP",c),a.setAttribute("colour",b),a},domToMutation:function(a){a||(a=this.mutationToDom()),this.updateShape(a.getAttribute("OP"));var b=a.getAttribute("colour");this.setColour(b)},saveConnections:function(){var a=this,b=this.getInput("A");if(a.valueConnection1_=b&&b.connection.targetConnection,this.getInput("B")){var c=this.getInput("B");a.valueConnection2_=c&&c.connection.targetConnection}},updateShape:function(a){this.saveConnections(),0!=a&&(this.removeInput("A"),this.getInput("B")&&this.removeInput("B"),this.getInput("D")&&this.removeInput("D"),this.setup(this,a))},onchange:function(){this.workspace&&(this.getInputTargetBlock("A")||this.getInputTargetBlock("B")||this.setColour(this.getColour()))}},Blockly.Blocks.logical_conjunction={init:function(){this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.boolean),this.appendValueInput("A").setAlign(Blockly.ALIGN_CENTRE).setCheck(["condition","BolleanOPs","bool","LogicOPs"]),this.appendDummyInput().appendField(new Blockly.FieldDropdown(SQLBlocks.Msg.DROPDOWN.LOGICALCONJUNCTION),"operator"),this.appendValueInput("B").setAlign(Blockly.ALIGN_RIGHT).setCheck(["condition","BolleanOPs","bool","LogicOPs"]),this.setOutput(!0,"BolleanOPs"),this.setTooltip(SQLBlocks.Msg.Tooltips.LOGICAL_CONJUNCTION),this.setInputsInline(!1)}},Blockly.Blocks.conditions={init:function(){this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.boolean),this.setOutput(!0,"condition"),this.appendValueInput("A").appendField(SQLBlocks.Msg.Blocks.NOT).setCheck(["LogicOPs","bool","table_column_var","BolleanOPs","condition"]),this.setTooltip(SQLBlocks.Msg.Tooltips.CONDITIONS)}},Blockly.Blocks.terms_simple_expressions={init:function(){this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.number),this.setOutput(!0,"ArithmethikOPs"),this.appendValueInput("A").setCheck(["table_column_var","number","ArithmethikOPs","numberfunction"]),this.appendDummyInput().setAlign(Blockly.ALIGN_CENTRE).appendField(new Blockly.FieldDropdown(SQLBlocks.Msg.DROPDOWN.MATHOPERATORS),"OP"),this.appendValueInput("B").setAlign(Blockly.ALIGN_LEFT).setCheck(["table_column_var","number","ArithmethikOPs","numberfunction"]),this.setInputsInline(!1);var a=this;this.setTooltip(function(){var b=a.getFieldValue("OP");return{PLUS:SQLBlocks.Msg.Tooltips.SIMPLE_TERM.PLUS,MINUS:SQLBlocks.Msg.Tooltips.SIMPLE_TERM.MINUS,DIVIDE:SQLBlocks.Msg.Tooltips.SIMPLE_TERM.DIVIDE,MULTIPLICATE:SQLBlocks.Msg.Tooltips.SIMPLE_TERM.MULTIPLICATE}[b]})}},Blockly.Blocks.array={init:function(){this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.list),this.itemCount_=2,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new Blockly.Mutator(["list_entry"])),this.setTooltip(SQLBlocks.Msg.Tooltips.ARRAY)},mutationToDom:function(){var a=document.createElement("mutation");return a.setAttribute("items",this.itemCount_),a},domToMutation:function(a){this.itemCount_=parseInt(a.getAttribute("items"),10),this.updateShape_()},decompose:function(a){var b=a.newBlock("list");b.initSvg();for(var c=b.getInput("STACK").connection,d=0;d<this.itemCount_;d++){var e=a.newBlock("list_entry");e.initSvg(),c.connect(e.previousConnection),c=e.nextConnection}return b},compose:function(a){for(var b=a.getInputTargetBlock("STACK"),c=[];b;)c.push(b.valueConnection_),b=b.nextConnection&&b.nextConnection.targetBlock();for(var d=0;d<this.itemCount_;d++){var e=this.getInput("ADD"+d).connection.targetConnection;e&&-1==c.indexOf(e)&&e.disconnect()}this.itemCount_=c.length,this.updateShape_();for(var d=0;d<this.itemCount_;d++)Blockly.Mutator.reconnect(c[d],this,"ADD"+d)},saveConnections:function(a){for(var b=a.getInputTargetBlock("STACK"),c=0;b;){var d=this.getInput("ADD"+c);b.valueConnection_=d&&d.connection.targetConnection,c++,b=b.nextConnection&&b.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(SQLBlocks.Msg.Blocks.ARRAY_EMPTY);for(var a=0;a<this.itemCount_;a++)if(!this.getInput("ADD"+a)){var b=this.appendValueInput("ADD"+a).setCheck(["string","number","date","bool"]);0==a&&b.appendField(SQLBlocks.Msg.Blocks.ARRAY)}for(;this.getInput("ADD"+a);)this.removeInput("ADD"+a),a++}},Blockly.Blocks.bool={init:function(){this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.boolean),this.appendDummyInput("boolean").setAlign(Blockly.ALIGN_RIGHT).appendField(new Blockly.FieldDropdown(SQLBlocks.Msg.DROPDOWN.BOOL),"BOOL"),this.setOutput(!0,"bool"),this.setTooltip(SQLBlocks.Msg.Tooltips.BOOL)},onchange:function(){this.workspace&&sqlHelp.colourTheParent(this)}},Blockly.Blocks.num={init:function(){this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.number),this.appendDummyInput("number").setAlign(Blockly.ALIGN_RIGHT).appendField(new Blockly.FieldTextInput("0",checkNumeric),"NUM"),this.setOutput(!0,"number"),this.setTooltip(SQLBlocks.Msg.Tooltips.NUMBER)},onchange:function(){this.workspace&&sqlHelp.colourTheParent(this)}},Blockly.Blocks.string={init:function(){this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.string),this.appendDummyInput("string").setAlign(Blockly.ALIGN_LEFT).appendField(new Blockly.FieldTextInput(""),"String"),this.setOutput(!0,"string"),this.setTooltip(SQLBlocks.Msg.Tooltips.STRING)},onchange:function(){this.workspace&&sqlHelp.colourTheParent(this)}},Blockly.Blocks.date={init:function(){this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.date),this.appendDummyInput().setAlign(Blockly.ALIGN_LEFT).appendField(new Blockly.FieldDate("2016-01-01"),"Date_").appendField(" "),this.setOutput(!0,"date"),this.setTooltip(SQLBlocks.Msg.Tooltips.DATE)},onchange:function(){this.workspace&&sqlHelp.colourTheParent(this)}},Blockly.Blocks.fieldname_get={init:function(){this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.list),this.setup(this),this.setPreviousStatement(!0,"name"),this.setTooltip(SQLBlocks.Msg.Tooltips.GET)},setup:function(a){var b=new Blockly.FieldVariable(SQLBlocks.Msg.Blocks.VARIABLES_GET_ITEM);if(" "==b.getValue()){var c=Blockly.Variables.allUsedVariables(a);c.length>0?b.setValue(c[0]):b.setValue("dummy_variable")}a.appendDummyInput().appendField(b,"VAR")},getVars:function(){return[this.getFieldValue("VAR")]},renameVar:function(a,b){Blockly.Names.equals(a,this.getFieldValue("VAR"))&&this.setFieldValue(b,"VAR")},customContextMenu:function(a){var b={enabled:!0},c=this.getFieldValue("VAR"),d=goog.dom.createDom("field",null,c);d.setAttribute("name","VAR");var e=goog.dom.createDom("block",null,d);e.setAttribute("type",this.contextMenuType_),b.callback=Blockly.ContextMenu.callbackFactory(this,e),a.push(b)}},Blockly.Blocks.list={init:function(){this.setColour(SQLBlockly.Colours.mutators),this.appendDummyInput().appendField(SQLBlocks.Msg.Blocks.LIST),this.appendStatementInput("STACK"),this.setTooltip(SQLBlocks.Msg.Tooltips.Mutators.LIST),this.contextMenu=!1}},Blockly.Blocks.list_entry={init:function(){this.setColour(SQLBlockly.Colours.list),this.appendDummyInput().appendField(SQLBlocks.Msg.Blocks.LIST_ENTRY),this.setPreviousStatement(!0,"list_entry"),this.setNextStatement(!0,"list_entry"),this.setTooltip(SQLBlocks.Msg.Tooltips.Mutators.LIST_ENTRY),this.contextMenu=!1}},Blockly.Blocks.groupfunction={init:function(){this.setColour(SQLBlockly.Colours.list),this.setup(this,"avg"),this.setPreviousStatement(!0,["group_function","table_column","distinct","sub_select"]),this.setNextStatement(!0,["group_function","table_column","distinct","sub_select"]),this.contextMenuMsg_=Blockly.Msg.VARIABLES_SET_CREATE_GET,this.contextMenuType_="fieldname_get"},getVars:function(){return[this.getFieldValue("VAR")]},renameVar:function(a,b){Blockly.Names.equals(a,this.getFieldValue("VAR"))&&this.setFieldValue(b,"VAR")},setup:function(a,b){var c,d=new Blockly.FieldDropdown(SQLBlocks.Msg.DROPDOWN.GROUPFUNCTIONS,function(a){this.sourceBlock_.updateShape(a)});if(""!=b){d.setValue(b),c=a.appendStatementInput("group").appendField(d,"group_function").setCheck(["table_column","distinct"]),a.appendDummyInput("VALUE").appendField(SQLBlocks.Msg.Blocks.AS).appendField(new Blockly.FieldTextInput("dummy_variable"),"VAR");var e=a;a.setHelpUrl(function(){return{count:"groupfunction_count",min:"groupfunction_min",max:"groupfunction_max",avg:"groupfunction_avg",stddev:"groupfunction_stddev",sum:"groupfunction_sum",variance:"groupfunction_variance"}[e.getFieldValue("group_function")]}),a.setTooltip(function(){var a=e.getFieldValue("group_function");return{count:SQLBlocks.Msg.Tooltips.GROUP_FUNCTION.COUNT,min:SQLBlocks.Msg.Tooltips.GROUP_FUNCTION.MIN,max:SQLBlocks.Msg.Tooltips.GROUP_FUNCTION.MAX,avg:SQLBlocks.Msg.Tooltips.GROUP_FUNCTION.AVG,stddev:SQLBlocks.Msg.Tooltips.GROUP_FUNCTION.STDDEV,sum:SQLBlocks.Msg.Tooltips.GROUP_FUNCTION.SUM,variance:SQLBlocks.Msg.Tooltips.GROUP_FUNCTION.VARIANCE}[a]}),this.statementConnection1_&&c.connection.connect(this.statementConnection1_)}},mutationToDom:function(){var a=document.createElement("mutation"),b=this.getFieldValue("group_function");return a.setAttribute("groupfunction",b),a},domToMutation:function(a){a&&this.updateShape(a.getAttribute("groupfunction"))},saveConnections:function(){var a=this,b=this.getInput("group");a.statementConnection1_=b&&b.connection.targetConnection},updateShape:function(a){this.saveConnections(),0!=a&&(this.removeInput("group"),this.getInput("VALUE")&&this.removeInput("VALUE"),this.setup(this,a))},onchange:function(){this.workspace},customContextMenu:Blockly.Blocks.fieldname_get.customContextMenu},Blockly.Blocks.numberfunction={init:function(a){a||(a="abs"),this.setColour(SQLBlockly.Colours.number),this.setup(this,a),this.setOutput(!0,"numberfunction")},setup:function(a,b){var c=new Blockly.FieldDropdown(SQLBlocks.Msg.DROPDOWN.NUMBERFUNCTIONS,function(a){this.sourceBlock_.updateShape(a)});if(sqlHelp.clearInputList(this),""!=b)if(c.setValue(b),"mod"==b||"power"==b||"round"==b||"truncate"==b){var d=a.appendValueInput("object").appendField(c,"number_function").setAlign(Blockly.ALIGN_RIGHT).setCheck(["table_column_var","number","numberfunction"]),e=a.appendValueInput("number").setAlign(Blockly.ALIGN_RIGHT).setCheck("number","numberfunction"),f=a;this.valueConnection1_&&d.connection.connect(this.valueConnection1_),this.valueConnection2_&&e.connection.connect(this.valueConnection2_),a.setHelpUrl(function(){return{mod:"numberfunction_mod",power:"numberfunction_power",round:"numberfunction_round",sign:"numberfunction_sign",truncate:"numberfunction_truncate"}[f.getFieldValue("number_function")]}),a.setTooltip(function(){var a=f.getFieldValue("number_function");return{mod:SQLBlocks.Msg.Tooltips.NUMBER_FUNCTION.MOD,power:SQLBlocks.Msg.Tooltips.NUMBER_FUNCTION.POWER,round:SQLBlocks.Msg.Tooltips.NUMBER_FUNCTION.ROUND,sign:SQLBlocks.Msg.Tooltips.NUMBER_FUNCTION.SIGN,truncate:SQLBlocks.Msg.Tooltips.NUMBER_FUNCTION.TRUNCATE}[a]})}else{var d=a.appendValueInput("object").appendField(c,"number_function").setAlign(Blockly.ALIGN_RIGHT).setCheck(["table_column_var","number","numberfunction"]),f=a;a.setHelpUrl(function(){return{abs:"numberfunction_abs",ceil:"numberfunction_ceil",floor:"numberfunction_floor",sqrt:"numberfunction_sqrt"}[f.getFieldValue("number_function")]}),a.setTooltip(function(){var a=f.getFieldValue("number_function");return{abs:SQLBlocks.Msg.Tooltips.NUMBER_FUNCTION.ABS,ceil:SQLBlocks.Msg.Tooltips.NUMBER_FUNCTION.CEIL,floor:SQLBlocks.Msg.Tooltips.NUMBER_FUNCTION.FLOOR,sqrt:SQLBlocks.Msg.Tooltips.NUMBER_FUNCTION.SQRT}[a]}),this.valueConnection1_&&d.connection.connect(this.valueConnection1_)}},mutationToDom:function(){var a=document.createElement("mutation"),b=this.getFieldValue("number_function");return a.setAttribute("numberfunction",b),a},domToMutation:function(a){this.updateShape(a.attributes[0].value)},saveConnections:function(){var a=this,b=this.getInput("object");if(a.valueConnection1_=b&&b.connection.targetConnection,this.getInput("number")){var c=this.getInput("number");a.valueConnection2_=c&&c.connection.targetConnection}},updateShape:function(a){this.saveConnections(),0!=a&&(this.removeInput("object"),this.getInput("number")&&this.removeInput("number"),this.setup(this,a))},onchange:function(){this.workspace&&(allowOnlyNumeric(this.getInputTargetBlock("object")),allowOnlyNumeric(this.getInputTargetBlock("number")),sqlHelp.colourTheParent(this))}},Blockly.Blocks.otherfunction={init:function(){this.setup(this,"decode"),this.setPreviousStatement(!0,"otherfunction"),this.setNextStatement(!0,["otherfunction","groupfunction","table_colum"]),this.valueCount_=2},setup:function(a,b){var c=new Blockly.Mutator(["more"]),d=new Blockly.FieldDropdown(SQLBlocks.Msg.DROPDOWN.OTHER,function(a){this.sourceBlock_.updateShape(a)});if(""!=b){if(d.setValue(b),"decode"==b&&(a.setMutator(!1),a.appendValueInput("object").setAlign(Blockly.ALIGN_RIGHT).appendField(d,"other_function").setCheck(["LogicOPs"]),a.appendValueInput("expr").setAlign(Blockly.ALIGN_RIGHT).setCheck(["datefunction","table_column_var","bool","string","date","number"]),a.appendValueInput("expr2").setAlign(Blockly.ALIGN_RIGHT).setCheck(["datefunction","table_column_var","bool","string","date","number"]),a.setHelpUrl("otherfunction_decode"),a.setTooltip(SQLBlocks.Msg.Tooltips.OTHER_FUNCTION.DECODE)),"greatest"==b||"least"==b){a.setMutator(c),a.appendStatementInput("object").setAlign(Blockly.ALIGN_RIGHT).appendField(d,"other_function").setCheck("table_column"),a.appendStatementInput("object1").setAlign(Blockly.ALIGN_RIGHT).setCheck("table_column");var e=this;a.setHelpUrl(function(){return{greatest:"otherfunction_greatest",least:"otherfunction_least"}[e.getFieldValue("other_function")]}),a.setTooltip(function(){var a=e.getFieldValue("other_function");return{greatest:SQLBlocks.Msg.Tooltips.OTHER_FUNCTION.GREATEST,least:SQLBlocks.Msg.Tooltips.OTHER_FUNCTION.LEAST}[a]})}"nvl"==b&&(a.setMutator(!1),a.appendStatementInput("object").setAlign(Blockly.ALIGN_LEFT).appendField(d,"other_function").setCheck(["datefunction","table_column_var","table_column","sub_select","bool","string","date","number"]),a.appendValueInput("expr").setAlign(Blockly.ALIGN_RIGHT).setCheck(["datefunction","bool","string","date","number"]),this.interpolateMsg(SQLBlocks.Msg.Blocks.VARIABLES_SET_TITLE+" %1 ",["VAR",new Blockly.FieldTextInput("dummy_variable")],Blockly.ALIGN_LEFT),a.setHelpUrl("otherfunction_ifnull"),a.setTooltip(SQLBlocks.Msg.Tooltips.OTHER_FUNCTION.NVL))}},setup2:function(a,b){a.appendStatementInput("object"+b).setAlign(Blockly.ALIGN_RIGHT).setCheck("table_column")},mutationToDom:function(){var a=document.createElement("mutation"),b=this.getFieldValue("other_function"),c=this.getColour();if(a.setAttribute("other_function",b),a.setAttribute("color",c),this.getInput("expr")){var d=this.getInput("expr");a.setAttribute("expr",d)}if(this.getInput("expr2")){var d=this.getInput("expr2");a.setAttribute("expr2",d)}return a.setAttribute("value",this.valueCount_),a},domToMutation:function(a){var b=a.attributes[0].value,c=a.getAttribute("color");if("least"==b||"greatest"==b){this.updateShape(a.attributes[0].value),this.valueCount_=parseInt(a.getAttribute("value"),10);for(var d=2;d<=this.valueCount_;d++)this.setup2(this,d)}else this.updateShape(a.attributes[0].value);c?this.setColour(c):this.setColour(this.getColour())},decompose:function(a){var b=sqlHelp.createBlock(a,"ADD");b.setColour(SQLBlockly.Colours.list);for(var c=b.getInput("STACK").connection,d=2;d<=this.valueCount_;d++){var e=sqlHelp.createBlock(a,"more");c.connect(e.previousConnection),c=e.nextConnection}return b},compose:function(a){for(var b=this.valueCount_;b>1;b--)this.removeInput("object"+b);this.valueCount_=1;for(var c=a.getInputTargetBlock("STACK");c;){switch(c.type){case"more":this.valueCount_++;var d=this.setup2(this,this.valueCount_);c.valueConnection_&&d.connection.connect(c.valueConnection_);break;default:throw"Unknown block type."}c=c.nextConnection&&c.nextConnection.targetBlock()}},saveConnections:function(a){for(var b=a.getInputTargetBlock("STACK"),c=2;b;){switch(b.type){case"more":var d=this.getInput("option"+c);b.valueConnection_=d&&d.connection.targetConnection,c++;break;default:throw"Unknown block type."}b=b.nextConnection&&b.nextConnection.targetBlock()}},updateShape:function(a){if(0!=a){if(this.getInput("object1"))for(var b=1;b<=this.valueCount_;b++)this.removeInput("object"+b);this.getInput("object")&&this.removeInput("object"),this.getInput("expr")&&this.removeInput("expr"),this.getInput("expr2")&&this.removeInput("expr2"),this.getInput("")&&this.removeInput("")}this.valueCount_=1,this.setup(this,a)},getVars:function(){return[this.getFieldValue("VAR")]},renameVar:function(a,b){Blockly.Names.equals(a,this.getFieldValue("VAR"))&&this.setFieldValue(b,"VAR")},onchange:function(){this.workspace}},Blockly.Blocks.charfunction={init:function(){this.setColour(SQLBlockly.Colours.string),this.setOutput(!0,"charfunction"),this.setup(this,"lower"),this.setHelpUrl(this.type)},setup:function(a,b){var c=new Blockly.FieldDropdown(SQLBlocks.Msg.DROPDOWN.CHARFUNCTION,function(a){this.sourceBlock_.updateShape(a)});if(""!=b)if(c.setValue(b),"lpad"==b||"rpad"==b){var d=a.appendValueInput("option").appendField(c,"char_function").setAlign(Blockly.ALIGN_RIGHT).setCheck(["string","table_column_var"]),e=a.appendValueInput("num").setAlign(Blockly.ALIGN_RIGHT).setCheck("number"),f=a.appendValueInput("option2").setAlign(Blockly.ALIGN_RIGHT).setCheck(["string","table_column_var"]),g=a;a.setTooltip(function(){var a=g.getFieldValue("char_function");return{rpad:SQLBlocks.Msg.Tooltips.CHAR_FUNCTION.RPAD,lpad:SQLBlocks.Msg.Tooltips.CHAR_FUNCTION.LPAD}[a]}),this.valueConnection1_&&d.connection.connect(this.valueConnection1_),this.valueConnection2_&&f.connection.connect(this.valueConnection2_),this.valueConnection3_&&e.connection.connect(this.valueConnection3_)}else if("replace"==b){var d=a.appendValueInput("option").appendField(c,"char_function").setAlign(Blockly.ALIGN_RIGHT).setCheck(["string","table_column_var"]),f=a.appendValueInput("option2").setAlign(Blockly.ALIGN_RIGHT).setCheck(["string","table_column_var"]),h=a.appendValueInput("option3").setAlign(Blockly.ALIGN_RIGHT).setCheck(["string","table_colum_var"]);this.valueConnection1_&&d.connection.connect(this.valueConnection1_),this.valueConnection2_&&f.connection.connect(this.valueConnection2_),this.valueConnection4_&&h.connection.connect(this.valueConnection4_),a.setTooltip(SQLBlocks.Msg.Tooltips.CHAR_FUNCTION.REPLACE)}else if("substring"==b){var d=a.appendValueInput("option").appendField(c,"char_function").setAlign(Blockly.ALIGN_RIGHT).setCheck(["string","table_column_var"]),e=a.appendValueInput("num").setAlign(Blockly.ALIGN_RIGHT).setCheck("number");this.valueConnection1_&&d.connection.connect(this.valueConnection1_),this.valueConnection3_&&e.connection.connect(this.valueConnection3_),a.setTooltip(SQLBlocks.Msg.Tooltips.CHAR_FUNCTION.SUBSTRING)}else if("instr"==b){var d=a.appendValueInput("option").appendField(c,"char_function").setAlign(Blockly.ALIGN_RIGHT).setCheck(["string","table_column_var"]),f=a.appendValueInput("option2").setAlign(Blockly.ALIGN_RIGHT).setCheck(["string","table_column_var"]);this.valueConnection1_&&d.connection.connect(this.valueConnection1_),this.valueConnection2_&&f.connection.connect(this.valueConnection2_),a.setTooltip(SQLBlocks.Msg.Tooltips.CHAR_FUNCTION.INSTR)}else if("str_to_date"==b)d=a.appendValueInput("option").appendField(c,"char_function").setAlign(Blockly.ALIGN_LEFT).setCheck(["string","table_column_var"]),a.appendDummyInput("option4").appendField(new Blockly.FieldTextInput("%d,%m,%Y"),"charsets"),a.setTooltip(SQLBlocks.Msg.Tooltips.CONVERSION_FUNCTION.STR_TO_DATE),this.valueConnection1_&&d.connection.connect(this.valueConnection1_);else{var d=a.appendValueInput("option").appendField(c,"char_function").setAlign(Blockly.ALIGN_RIGHT).setCheck(["string","table_column_var"]);this.valueConnection1_&&d.connection.connect(this.valueConnection1_);var g=this;this.setTooltip(function(){var a=g.getFieldValue("char_function");return{lower:SQLBlocks.Msg.Tooltips.CHAR_FUNCTION.LOWER,ltrim:SQLBlocks.Msg.Tooltips.CHAR_FUNCTION.LTRIM,rtrim:SQLBlocks.Msg.Tooltips.CHAR_FUNCTION.RTRIM,soundex:SQLBlocks.Msg.Tooltips.CHAR_FUNCTION.SOUNDEX,upper:SQLBlocks.Msg.Tooltips.CHAR_FUNCTION.UPPER,ascii:SQLBlocks.Msg.Tooltips.CHAR_FUNCTION.ASCII,length:SQLBlocks.Msg.Tooltips.CHAR_FUNCTION.LENGTH}[a]})}},mutationToDom:function(){var a=document.createElement("mutation"),b=this.getFieldValue("char_function");return a.setAttribute("charfunction",b),a},domToMutation:function(a){this.updateShape(a.attributes[0].value)},saveConnections:function(){var a=this,b=this.getInput("option");if(a.valueConnection1_=b&&b.connection.targetConnection,this.getInput("option2")){var c=this.getInput("option2");a.valueConnection2_=c&&c.connection.targetConnection}if(this.getInput("num")){var d=this.getInput("num");a.valueConnection3_=d&&d.connection.targetConnection}if(this.getInput("option3")){var c=this.getInput("option3");a.valueConnection4_=c&&c.connection.targetConnection}},updateShape:function(a){this.saveConnections(),0!=a&&(this.removeInput("option"),this.getInput("option2")&&this.removeInput("option2"),this.getInput("option3")&&this.removeInput("option3"),this.getInput("option3")&&this.removeInput("option3"),this.getInput("option4")&&this.removeInput("option4"),this.getInput("num")&&this.removeInput("num"),this.setup(this,a))},onchange:function(){this.workspace&&(sqlHelp.colourTheParent(this),chareval(this))}},Blockly.Blocks.datefunction={init:function(){this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.date),this.setup(this,"now"),this.setOutput(!0,"datefunction")},setup:function(a,b){var c=new Blockly.FieldDropdown(SQLBlocks.Msg.DROPDOWN.DATEFUNCTION,function(a){this.sourceBlock_.updateShape(a)});if(""!=b){if(c.setValue(b),"sysdate"==b||"now"==b||"curdate"==b){a.appendDummyInput("vals3").setAlign(Blockly.ALIGN_LEFT).appendField(c,"date_function");var d=a;a.setHelpUrl(function(){return{now:"datefunction_now",sysdate:"datefunction_sysdate",curdate:"datefunction_curdate"}[d.getFieldValue("date_function")]}),a.setTooltip(function(){var a=d.getFieldValue("date_function");return{now:SQLBlocks.Msg.Tooltips.DATE_FUNCTION.NOW,sysdate:SQLBlocks.Msg.Tooltips.DATE_FUNCTION.SYSDATE,curdate:SQLBlocks.Msg.Tooltips.DATE_FUNCTION.CURDATE}[a]})}if("date_format"==b&&(e=a.appendValueInput("object").appendField(c,"date_function").setAlign(Blockly.ALIGN_RIGHT).setCheck(["date","datefunction","table_column_var"]),a.appendDummyInput("vals3").appendField(new Blockly.FieldTextInput("%d,%m,%Y"),"vals"),a.setHelpUrl("conversion_date_format"),a.setTooltip(SQLBlocks.Msg.Tooltips.CONVERSION_FUNCTION.DATE_FORMAT),this.valueConnection1_&&e.connection.connect(this.valueConnection1_)),"add_months"==b||"sub_months"==b){var e=a.appendValueInput("object").appendField(c,"date_function").setAlign(Blockly.ALIGN_LEFT).setCheck(["date","datefunction","table_column_var"]);a.appendDummyInput("vals").appendField(SQLBlocks.Msg.Blocks.INTERVAL).appendField(" ").appendField(new Blockly.FieldTextInput("",checkNumeric),"intervallvalue").appendField(" ").appendField(new Blockly.FieldDropdown(SQLBlocks.Msg.DROPDOWN.TIME),"UNIT");var d=this;a.setHelpUrl(function(){return{add_months:"datefunction_date_add",sub_months:"datefunction_date_sub"}[d.getFieldValue("date_function")]}),a.setTooltip(SQLBlocks.Msg.Tooltips.DATE_FUNCTION.ADD_MONTHS),this.valueConnection1_&&e.connection.connect(this.valueConnection1_)}if("extract"==b){var f=new Blockly.FieldDropdown(SQLBlocks.Msg.DROPDOWN.TIME);a.appendDummyInput("vals2").appendField(c,"date_function").appendField(" ","Abstand"),a.appendDummyInput("vals").appendField(f,"UNIT");var e=a.appendValueInput("object").appendField("FROM").setAlign(Blockly.ALIGN_LEFT).setCheck(["date","datefunction","table_column_var"]);a.setHelpUrl("datefunction_extract"),a.setTooltip(SQLBlocks.Msg.Tooltips.DATE_FUNCTION.EXTRACT),this.valueConnection1_&&e.connection.connect(this.valueConnection1_)}if("last_day"==b||"month"==b||"year"==b||"date"==b){var e=a.appendValueInput("object").appendField(c,"date_function").setAlign(Blockly.ALIGN_LEFT).setCheck(["date","datefunction","table_column_var"]),d=this;a.setHelpUrl(function(){return{last_day:"datefunction_last-day",month:"datefunction_month",year:"datefunction_year",date:"datefunction_date"}[d.getFieldValue("date_function")]}),a.setTooltip(function(){var a=d.getFieldValue("date_function");return{last_day:SQLBlocks.Msg.Tooltips.DATE_FUNCTION.LAST_DAY,date:SQLBlocks.Msg.Tooltips.DATE_FUNCTION.DATE,month:SQLBlocks.Msg.Tooltips.DATE_FUNCTION.MONTH,year:SQLBlocks.Msg.Tooltips.DATE_FUNCTION.YEAR}[a]}),this.valueConnection1_&&e.connection.connect(this.valueConnection1_)}}},mutationToDom:function(){var a=document.createElement("mutation"),b=this.getFieldValue("date_function");if(a.setAttribute("date_function",b),this.getInput("vals")){var c=this.getFieldValue("UNIT");a.setAttribute("UNIT",c)}return a},domToMutation:function(a){this.updateShape(a.attributes[0].value),this.getInput("vals")&&this.setFieldValue(a.attributes[1].value,"UNIT")},saveConnections:function(){var a=this,b=this.getInput("object");a.valueConnection1_=b&&b.connection.targetConnection},updateShape:function(a){this.saveConnections(),0!=a&&(this.getInput("object")&&this.removeInput("object"),this.getInput("vals")&&this.removeInput("vals"),this.getInput("vals2")&&this.removeInput("vals2"),this.getInput("vals3")&&this.removeInput("vals3"),this.setup(this,a))},onchange:function(){this.workspace&&(sqlHelp.colourTheParent(this),dateeval(this))}};var FirstTime=1;Blockly.BlockSvg.prototype.showHelp_=function(){if(this.helpUrl){var a=document.getElementById("help"),b=document.getElementById("helpcontent"),c=this.getColour();b.childNodes.length>0&&b.removeChild(b.childNodes[0]);var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4==this.readyState&&200==this.status){if(b.innerHTML=d.response.replace(/<a href=[^>]+class="media"[^>]+">/g,"").replace(/(<img[^>]+class="media"[^>]+\/>)<\/a>/g,"$1"),1==FirstTime){document.body.clientWidth<900?(a.style.width="80%",a.style.left="15%"):(a.style.width="800px",a.style.left=document.body.clientWidth-850+"px");var e=document.body.clientHeight-a.offsetTop-30;a.style.maxWidth="800px",a.style.maxHeight=e+"px",a.style.height=e/3+"px",FirstTime=0}a.style.border="solid 3px "+c,a.style.visibility="visible",a.style.display=""}},d.open("GET","help/"+SQLBlockly.LANG+"/"+this.type+".html"),d.send()}},Blockly.Blocks.select={init:function(){this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.list),this.gradient=new ColourGradient,this.appendDummyInput("dummy_variable"),this.appendStatementInput("select").appendField(SQLBlocks.Msg.Blocks.SELECT).setAlign(Blockly.ALIGN_CENTER).setCheck(["table_column","distinct","group_function","otherfunction","sub_select"]),this.appendValueInput("Clause").setAlign(Blockly.ALIGN_CENTER).appendField(SQLBlocks.Msg.Blocks.WHERE).setCheck(["BolleanOPs","LogicOPs","bool","condition"]),this.setTooltip(SQLBlocks.Msg.Tooltips.SELECT),this.duplicate_=!1,this.setMutator(new Blockly.Mutator(["group_by","having","order_by","limit"])),this.limitCount_=0,this.groupByCount_=0,this.groupByHavingCount_=0,this.orderByCount_=0,this.sortDirection="asc"},mutationToDom:function(){var a=document.createElement("mutation");return a.setAttribute("limit",this.limitCount_),a.setAttribute("groupby",this.groupByCount_),a.setAttribute("groupbyhaving",this.groupByHavingCount_),a.setAttribute("orderby",this.orderByCount_),a.setAttribute("color",this.getColour()),a.setAttribute("sortDirection",this.sortDirection),a},domToMutation:function(a){if(!a)return null;this.limitCount_=parseInt(a.getAttribute("limit"),10),this.groupByCount_=parseInt(a.getAttribute("groupby"),10),this.groupByHavingCount_=parseInt(a.getAttribute("groupbyhaving"),10),this.orderByCount_=parseInt(a.getAttribute("orderby"),10),this.groupByCount_&&sqlHelp.addGroupByInput(this),this.groupByHavingCount_&&sqlHelp.addHavingInput(this),this.orderByCount_&&sqlHelp.addOrderByInput(this),this.limitCount_&&sqlHelp.addLimitInput(this)},decompose:function(a){var b=sqlHelp.createBlock(a,"opts_select");return sqlHelp.decomposeGroupBy(a,this,b),sqlHelp.decomposeOrderBy(a,this,b),sqlHelp.decomposeLimit(a,this,b),sqlHelp.decomposeAlias(a,this,b),b},compose:function(a){sqlHelp.composeGroupBy(this,a),sqlHelp.composeOrderBy(this,a),sqlHelp.composeLimit(this,a),sqlHelp.composeAlias(this,a),sqlHelp.sortInputs(this)},onchange:function(){if(this.workspace){var a=["Clause","limit","group_by","having","order_by","sort"];this.gradient.setVerticalGradient(this,{start:"#5BA58C",stop:sqlHelp.getChildColour(this)},a)}}},Blockly.Blocks.insert={init:function(){this.setHelpUrl(this.type),this.gradient=new ColourGradient,this.setColour(SQLBlockly.Colours.list),this.appendDummyInput("bl"),this.appendDummyInput("ins").appendField(SQLBlocks.Msg.Blocks.INSERT_VALUES),this.appendValueInput("set0").setCheck("TO").appendField(SQLBlocks.Msg.Blocks.SET),this.setTooltip(SQLBlocks.Msg.Tooltips.INSERT),this.duplicate_=!1,this.setMutator(new Blockly.Mutator(["into"])),this.setCount_=0},mutationToDom:function(){var a=document.createElement("mutation");return a.setAttribute("set",this.setCount_),a},domToMutation:function(a){this.setCount_=parseInt(a.getAttribute("set"),10);for(var b=1;b<=this.setCount_;b++)this.appendValueInput("set"+b).setCheck("TO").appendField(SQLBlocks.Msg.Blocks.SET)},decompose:function(a){var b=sqlHelp.createBlock(a,"ADD");b.setColour(SQLBlockly.Colours.list);for(var c=b.getInput("STACK").connection,d=1;d<=this.setCount_;d++){var e=sqlHelp.createBlock(a,"into");c.connect(e.previousConnection),c=e.nextConnection}return b},compose:function(a){if(this.setCount_)for(var b=1;b<=this.setCount_;b++)this.removeInput("set"+b);this.setCount_=0;for(var c=a.getInputTargetBlock("STACK");c;){switch(c.type){case"into":this.setCount_++;var d=this.appendValueInput("set"+this.setCount_).setCheck("TO").appendField(SQLBlocks.Msg.Blocks.SET);c.valueConnection_&&d.connection.connect(c.valueConnection_);break;default:throw"Unknown block type."}c=c.nextConnection&&c.nextConnection.targetBlock()}},saveConnections:function(a){for(var b=a.getInputTargetBlock("STACK"),c=1;b;){switch(b.type){case"into":var d=this.getInput("set"+c);b.valueConnection_=d&&d.connection.targetConnection,c++;break;default:throw"Unknown block type."}b=b.nextConnection&&b.nextConnection.targetBlock()}},onchange:function(){if(this.workspace){for(this.setCount_=0;null!==this.getInput("set"+(this.setCount_+1));)this.setCount_++;checkInsertStatement(this)}}},Blockly.Blocks.update={init:function(){this.gradient=new ColourGradient,this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.list),this.appendDummyInput("bl"),this.appendDummyInput("up").appendField(SQLBlocks.Msg.Blocks.UPDATE),this.appendValueInput("set0").setCheck("TO").appendField(SQLBlocks.Msg.Blocks.SET),this.appendValueInput("Clause").appendField(SQLBlocks.Msg.Blocks.WHERE).setCheck(["BolleanOPs","LogicOPs","bool","condition"]),this.setTooltip(SQLBlocks.Msg.Tooltips.UPDATE),this.duplicate_=!1,this.setMutator(new Blockly.Mutator(["set"])),this.setCount_=0},mutationToDom:function(){if(!this.setCount_)return null;var a=document.createElement("mutation");this.setCount_&&a.setAttribute("set",this.setCount_);var b=this.getColour();return a.setAttribute("color",b),a},domToMutation:function(a){this.setCount_=parseInt(a.getAttribute("set"),10);var b=a.getAttribute("color");if(b?this.setColour(b):this.setColour(this.getColour()),this.setCount_)for(var c=1;c<=this.setCount_;c++){for(var d=this.appendValueInput("set"+c).setCheck("TO").appendField(SQLBlocks.Msg.Blocks.SET),e=this.inputList,f=new Array,g=0,h=0,i=0;i<e.length;i++)if(e[i].name==d.name){g=i,f=e[i];for(var j=0;j<e.length;j++)"Clause"==e[j].name&&(h=j);e[g]=e[h],e[h]=f}this.inputList=e}},decompose:function(a){var b=sqlHelp.createBlock(a,"ADD");b.setColour(SQLBlockly.Colours.list);for(var c=b.getInput("STACK").connection,d=1;d<=this.setCount_;d++){var e=sqlHelp.createBlock(a,"set");c.connect(e.previousConnection),c=e.nextConnection}return b},compose:function(a){if(this.setCount_)for(var b=1;b<=this.setCount_;b++)this.removeInput("set"+b);this.setCount_=0;for(var c=a.getInputTargetBlock("STACK");c;){switch(c.type){case"set":this.setCount_++;var d=this.appendValueInput("set"+this.setCount_).setCheck("TO").appendField(SQLBlocks.Msg.Blocks.SET);c.valueConnection_&&d.connection.connect(c.valueConnection_);for(var e=this.inputList,f=new Array,g=0,h=0,i=0;i<e.length;i++)if(e[i].name==d.name){g=i,f=e[i];for(var j=0;j<e.length;j++)"Clause"==e[j].name&&(h=j);e[g]=e[h],e[h]=f}this.inputList=e;break;default:throw"Unknown block type."}c=c.nextConnection&&c.nextConnection.targetBlock()}},saveConnections:function(a){for(var b=a.getInputTargetBlock("STACK"),c=1;b;){switch(b.type){case"set":var d=this.getInput("set"+c);b.valueConnection_=d&&d.connection.targetConnection,c++;break;default:throw"Unknown block type."}b=b.nextConnection&&b.nextConnection.targetBlock()}},onchange:function(){this.workspace&&(this.gradient.setVerticalGradient(this,{start:"#5BA58C",stop:sqlHelp.getChildColour(this)},["Clause"]),checkUpdate(this))}},Blockly.Blocks.sub_select={init:function(){this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.list),this.gradient=new ColourGradient,this.appendDummyInput("bla"),this.appendStatementInput("select").appendField(SQLBlocks.Msg.Blocks.SUBSELECT).setCheck(["table_column","group_function","distinct","otherfunction"]),this.appendValueInput("Clause").appendField(SQLBlocks.Msg.Blocks.WHERE).setCheck(["BolleanOPs","LogicOPs","bool","condition"]),this.setPreviousStatement(!0,"sub_select"),this.setNextStatement(!0,"sub_select"),this.setTooltip(SQLBlocks.Msg.Tooltips.SUB_SELECT),this.setMutator(new Blockly.Mutator(["group_by","having","order_by","limit","alias"])),this.limitCount_=0,this.groupByCount_=0,this.groupByHavingCount_=0,this.orderByCount_=0,this.aliasCount_=0},mutationToDom:function(){if(!(this.limitCount_||this.groupByCount_||this.groupByHavingCount_||this.aliasCount_||this.orderByCount_))return null;var a=document.createElement("mutation");this.limitCount_&&a.setAttribute("limit",this.limitCount_),this.groupByCount_&&a.setAttribute("groupby",this.groupByCount_),this.groupByHavingCount_&&a.setAttribute("having",this.groupByHavingCount_),this.orderByCount_&&a.setAttribute("orderby",this.orderByCount_),this.aliasCount_&&a.setAttribute("alias",this.aliasCount_);var b=this.getColour();return a.setAttribute("color",b),a},domToMutation:function(a){this.limitCount_=parseInt(a.getAttribute("limit"),10),this.groupByCount_=parseInt(a.getAttribute("groupby"),10),this.groupByHavingCount_=parseInt(a.getAttribute("having"),10),this.orderByCount_=parseInt(a.getAttribute("orderby"),10),this.aliasCount_=parseInt(a.getAttribute("alias"),10);var b=a.getAttribute("color");b?this.setColour(b):this.setColour(this.getColour()),this.aliasCount_&&sqlHelp.addAliasInput(this),this.groupByCount_&&sqlHelp.addGroupByInput(this),this.groupByHavingCount_&&sqlHelp.addHavingInput(this),this.orderByCount_&&sqlHelp.addOrderByInput(this),this.limitCount_&&sqlHelp.addLimitInput(this)},decompose:function(a){var b=sqlHelp.createBlock(a,"opts_subselect");return sqlHelp.decomposeGroupBy(a,this,b),sqlHelp.decomposeOrderBy(a,this,b),sqlHelp.decomposeLimit(a,this,b),sqlHelp.decomposeAlias(a,this,b),b},compose:function(a){sqlHelp.composeGroupBy(this,a),sqlHelp.composeOrderBy(this,a),sqlHelp.composeLimit(this,a),sqlHelp.composeAlias(this,a),sqlHelp.sortInputs(this)},getVars:function(){return[this.getFieldValue("VAR")]},renameVar:function(a,b){Blockly.Names.equals(a,this.getFieldValue("VAR"))&&this.setFieldValue(b,"VAR")},onchange:function(){this.workspace&&this.gradient.setVerticalGradient(this,{start:"#5BA58C",stop:sqlHelp.getChildColour(this)},["Clause","limit","group_by","having","order_by","alias","bla"])}},Blockly.Blocks.sub_select_where={init:function(){this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.list),this.gradient=new ColourGradient,this.appendDummyInput("bla"),this.appendStatementInput("select").appendField(SQLBlocks.Msg.Blocks.SUBSELECT).setCheck(["table_column","group_function","distinct","otherfunction"]),this.appendValueInput("Clause").appendField(SQLBlocks.Msg.Blocks.WHERE).setCheck(["BolleanOPs","LogicOPs","bool","condition"]),this.setOutput(!0,"sub_select"),this.setMutator(new Blockly.Mutator(["group_by","having","order_by","limit","alias"])),this.setTooltip(SQLBlocks.Msg.Tooltips.SUB_SELECT),this.contextMenuMsg_=Blockly.Msg.VARIABLES_SET_CREATE_GET,this.contextMenuType_="fieldname_get",this.limitCount_=0,this.groupByCount_=0,this.groupByHavingCount_=0,this.orderByCount_=0,this.aliasCount_=0},mutationToDom:function(){var a=document.createElement("mutation"),b=this.getColour();return a.setAttribute("color",b),this.limitCount_||this.groupByCount_||this.groupByHavingCount_||this.aliasCount_||this.orderByCount_?(this.limitCount_&&a.setAttribute("limit",this.limitCount_),this.groupByCount_&&a.setAttribute("groupby",this.groupByCount_),this.groupByHavingCount_&&a.setAttribute("groupbyhaving",this.groupByHavingCount_),this.orderByCount_&&a.setAttribute("orderby",this.orderByCount_),this.aliasCount_&&a.setAttribute("alias",this.aliasCount_),a):null},domToMutation:function(a){this.limitCount_=parseInt(a.getAttribute("limit"),10),this.groupByCount_=parseInt(a.getAttribute("groupby"),10),this.groupByHavingCount_=parseInt(a.getAttribute("having"),10),this.orderByCount_=parseInt(a.getAttribute("orderby"),10),this.aliasCount_=parseInt(a.getAttribute("alias"),10);var b=a.getAttribute("color");b?this.setColour(b):this.setColour(this.getColour()),this.aliasCount_&&sqlHelp.addAliasInput(this),this.groupByCount_&&sqlHelp.addGroupByInput(this),this.groupByHavingCount_&&sqlHelp.addHavingInput(this),this.orderByCount_&&sqlHelp.addOrderByInput(this),this.limitCount_&&sqlHelp.addLimitInput(this)},decompose:function(a){var b=sqlHelp.createBlock(a,"opts_subselect");return sqlHelp.decomposeGroupBy(a,this,b),sqlHelp.decomposeOrderBy(a,this,b),sqlHelp.decomposeLimit(a,this,b),sqlHelp.decomposeAlias(a,this,b),b},compose:function(a){sqlHelp.composeGroupBy(this,a),sqlHelp.composeOrderBy(this,a),sqlHelp.composeLimit(this,a),sqlHelp.composeAlias(this,a),sqlHelp.sortInputs(this)},getVars:function(){return[this.getFieldValue("VAR")]},renameVar:function(a,b){Blockly.Names.equals(a,this.getFieldValue("VAR"))&&this.setFieldValue(b,"VAR")},onchange:function(){this.workspace&&this.gradient.setVerticalGradient(this,{start:"#5BA58C",stop:sqlHelp.getChildColour(this)},["Clause","limit","group_by","having","order_by","alias","bla"])}},Blockly.Blocks.distinct={init:function(){this.setHelpUrl(this.type),this.setColour(SQLBlockly.Colours.list),this.appendDummyInput("distinct2").appendField(SQLBlocks.Msg.Blocks.DISTINCT),this.setPreviousStatement(!0,"distinct"),this.setNextStatement(!0,["table_column","group_function","sub_select"]),this.setTooltip(SQLBlocks.Msg.Tooltips.DISTINCT)}},Blockly.Blocks.ADD={init:function(){this.setColour(SQLBlockly.Colours.mutators),this.appendDummyInput().appendField(SQLBlocks.Msg.Blocks.ADD),this.appendStatementInput("STACK"),this.setTooltip(SQLBlocks.Msg.Tooltips.Mutators.ADD),this.contextMenu=!1}},Blockly.Blocks.opts_select={init:function(){this.setColour(SQLBlockly.Colours.mutators),this.appendValueInput("group_by").appendField(SQLBlocks.Msg.Blocks.GROUP_BY).setCheck(["group_by"]),this.appendValueInput("order_by").appendField(SQLBlocks.Msg.Blocks.ORDER_BY).setCheck(["order_by"]),this.appendValueInput("limit").appendField(SQLBlocks.Msg.Blocks.LIMIT).setCheck(["limit"]),this.setTooltip(SQLBlocks.Msg.Tooltips.Mutators.ADD),this.contextMenu=!1}},Blockly.Blocks.opts_subselect={init:function(){this.setColour(SQLBlockly.Colours.mutators),this.appendValueInput("group_by").appendField(SQLBlocks.Msg.Blocks.GROUP_BY).setCheck(["group_by"]),this.appendValueInput("order_by").appendField(SQLBlocks.Msg.Blocks.ORDER_BY).setCheck(["order_by"]),this.appendValueInput("limit").appendField(SQLBlocks.Msg.Blocks.LIMIT).setCheck(["limit"]),this.appendValueInput("alias").appendField(SQLBlocks.Msg.Blocks.AS).setCheck(["alias"]),this.setTooltip(SQLBlocks.Msg.Tooltips.Mutators.ADD),this.contextMenu=!1}},Blockly.Blocks.more={init:function(){this.setColour(SQLBlockly.Colours.list),this.appendDummyInput().appendField(SQLBlocks.Msg.Blocks.MORE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(SQLBlocks.Msg.Tooltips.Mutators.OR),this.contextMenu=!1}},Blockly.Blocks.alias={init:function(){this.setColour(SQLBlockly.Colours.list),this.appendDummyInput().appendField(SQLBlocks.Msg.Blocks.AS),this.setOutput(!0,"alias"),this.setTooltip(SQLBlocks.Msg.Tooltips.Mutators.AS),this.contextMenu=!1}},Blockly.Blocks.group_by={init:function(){this.setColour(SQLBlockly.Colours.list),this.appendValueInput("having").appendField(SQLBlocks.Msg.Blocks.GROUP_BY).setCheck(["having"]),this.setOutput(!0,"group_by"),this.setTooltip(SQLBlocks.Msg.Tooltips.Mutators.GROUP_BY),this.contextMenu=!1}},Blockly.Blocks.having={init:function(){this.setColour(SQLBlockly.Colours.list),this.appendDummyInput("having").appendField(SQLBlocks.Msg.Blocks.HAVING),this.setOutput(!0,"having"),this.setTooltip(SQLBlocks.Msg.Tooltips.Mutators.GROUP_BY_HAVING),this.contextMenu=!1}},Blockly.Blocks.order_by={init:function(){this.setColour(SQLBlockly.Colours.list),this.appendDummyInput().appendField(SQLBlocks.Msg.Blocks.ORDER_BY),this.setOutput(!0,"order_by"),this.setTooltip(SQLBlocks.Msg.Tooltips.Mutators.ORDER_BY),this.contextMenu=!1}},Blockly.Blocks.limit={init:function(){this.setColour(SQLBlockly.Colours.list),this.appendDummyInput().appendField(SQLBlocks.Msg.Blocks.LIMIT),this.setOutput(!0,"limit"),this.setTooltip(SQLBlocks.Msg.Tooltips.Mutators.LIMIT),this.contextMenu=!1}},Blockly.Blocks.set={init:function(){this.setColour(SQLBlockly.Colours.list),this.appendDummyInput().appendField(SQLBlocks.Msg.Blocks.SET),this.setPreviousStatement(!0,"set"),this.setNextStatement(!0,"set"),this.setTooltip(SQLBlocks.Msg.Tooltips.Mutators.SET),this.contextMenu=!1}},Blockly.Blocks.into={init:function(){this.setColour(SQLBlockly.Colours.list),this.appendDummyInput().appendField(SQLBlocks.Msg.Blocks.SET),this.setPreviousStatement(!0,"into"),this.setNextStatement(!0,"into"),this.setTooltip(SQLBlocks.Msg.Tooltips.Mutators.INTO),this.contextMenu=!1}};var dbStructure={},editor=null,selected=null,x_pos=0,y_pos=0,x_elem=0,y_elem=0,parser=function(){function a(){this.yy={}}var b=function(a,b,c,d){for(c=c||{},d=a.length;d--;c[a[d]]=b);return c},c=[1,5],d=[1,7,8],e=[2,155],f=[1,11],g=[1,12],h=[1,14],i=[1,15],j=[1,32],k=[1,23],l=[1,22],m=[1,24],n=[1,25],o=[1,26],p=[1,27],q=[1,28],r=[1,29],s=[1,30],t=[1,31],u=[23,30,47,52,66,69,75,76,78,81,82,83,84,85,86,87,88,92,93,94,97,98,99,100,101,102,103,104,105,109,110,111,112,113,114,115,116,117,118,119,120],v=[1,34],w=[1,7,8,23,25,26,29,30,32,36,48,51,60,80],x=[12,29],y=[2,102],z=[1,40],A=[1,41],B=[12,25,29,30,80],C=[2,15],D=[1,48],E=[1,49],F=[1,51],G=[1,7,8,12,25,29,32,36,48,51],H=[1,77],I=[1,80],J=[1,76],K=[1,69],L=[1,68],M=[1,78],N=[1,79],O=[1,92],P=[1,89],Q=[1,90],R=[1,91],S=[1,93],T=[1,94],U=[1,95],V=[1,96],W=[1,97],X=[1,98],Y=[1,99],Z=[1,100],$=[1,101],_=[1,102],aa=[1,103],ba=[1,104],ca=[1,105],da=[1,106],ea=[1,107],fa=[1,108],ga=[1,109],ha=[1,110],ia=[1,111],ja=[1,112],ka=[1,113],la=[25,29,38],ma=[1,7,8,25,36,48,51],na=[1,7,8,25,29,32,36,48,51],oa=[1,130],pa=[1,131],qa=[1,132],ra=[1,133],sa=[1,134],ta=[1,135],ua=[1,136],va=[1,138],wa=[1,127],xa=[1,126],ya=[1,128],za=[1,129],Aa=[1,137],Ba=[1,139],Ca=[1,140],Da=[1,7,8,25,29,36,37,38,39,40,41,42,43,44,45,48,51,63,64,68,69,70,72,73,123,124],Ea=[1,146],Fa=[1,145],Ga=[1,144],Ha=[1,7,8,25,29,32,36,37,38,39,40,41,42,43,44,45,48,51,63,64,68,69,70,72,73,123,124],Ia=[1,7,8,29,32],Ja=[2,51],Ka=[1,163],La=[1,166],Ma=[1,164],Na=[1,165],Oa=[1,169],Pa=[25,29],Qa=[1,7,8,25,48,51],Ra=[1,7,8,25,29,32],Sa=[1,225],Ta=[1,7,8,25,51],Ua=[1,7,8,25,29,36,37,38,39,40,41,42,43,44,45,48,51,63,64,70,72,73,123,124],Va=[1,7,8,25,29,36,37,38,39,40,41,42,43,44,45,48,51,70,72,73,123,124],Wa=[2,73],Xa=[2,74],Ya=[2,75],Za=[2,76],$a=[2,77],_a=[2,78],ab=[2,79],bb=[1,236],cb=[1,238],db=[2,82],eb=[1,7,8,25],fb=[1,255],gb=[1,7,8,25,29,37,48,51,123,124],hb=[2,83],ib=[38,39,40,41,42,43,44,45,70,72,73],jb=[2,23],kb=[2,24],lb=[2,25],mb=[2,26],nb=[2,27],ob=[2,28],pb=[2,29],qb=[38,39,40,41,42,43,44,45,63,64,68,69,70,72,73],rb=[2,30],sb=[2,31],tb={trace:function(){Jison.print.apply(null,arguments)},yy:{},symbols_:{error:2,SQL:3,SELECT_COMMAND:4,UPDATE_COMMAND:5,INSERT_COMMAND:6,EOF:7,SEMICOLON:8,SELECT:9,SELECTION:10,DISPLAYED_COLUMNS:11,FROM:12,SELECTED_TABLES:13,WHERE_CLAUSE:14,GROUPBY_CLAUSE:15,ORDERBY_CLAUSE:16,LIMIT_CLAUSE:17,UPDATE:18,TABLE_NAME:19,SETS:20,INSERT:21,INTO:22,LPAREN:23,INSERT_COLUMN_LIST:24,RPAREN:25,VALUES:26,VALUE_LIST:27,INSERT_COLUMN:28,COMMA:29,IDENTIFIER:30,PERIOD:31,WHERE:32,EXPR:33,EXPRESSIONS:34,VARIABLE:35,GROUPBY:36,HAVING:37,EQ:38,NEQ:39,GT:40,LT:41,GTE:42,LTE:43,LIKE:44,IS:45,NULL:46,NOT:47,ORDERBY:48,SORTED_DEF:49,DIRECTION:50,LIMIT:51,NUMBER:52,SUBQUERY:53,DISPLAYED_COLUMN:54,COLUMN_NAME:55,AS_ALIAS:56,GROUP_FUNCTION:57,COLUMN_LIST:58,SELECTED_TABLE:59,SET:60,VALUE:61,QUOTED_STRING:62,MINUS:63,PLUS:64,FUNCTION:65,BOOL:66,DATETIME:67,DIVIDE:68,MULTIPLICATE:69,IN:70,ARRAY:71,AND:72,OR:73,ARRAY_ENTRY:74,QUOTE:75,DOUBLEQUOTE:76,SCHEMA_NAME:77,DATE:78,TIME:79,AS:80,BACKTICKS:81,AVG:82,COUNT:83,MIN:84,MAX:85,STDDEV:86,SUM:87,VARIANCE:88,NUMBER_FUNCTION:89,CHAR_FUNCTION:90,DATE_FUNCTION:91,NOW:92,CURDATE:93,CURTIME:94,NUMBER_FUNCTION_ONE_PARAM:95,NUMBER_FUNCTION_TWO_PARAM:96,ABS:97,CEIL:98,FLOOR:99,SIGN:100,SQRT:101,MOD:102,POWER:103,ROUND:104,TRUNCATE:105,CHAR_FUNCTION_ONE_PARAM:106,CHAR_FUNCTION_TWO_PARAM:107,CHAR_FUNCTION_THREE_PARAM:108,LOWER:109,LTRIM:110,RTRIM:111,UPPER:112,ASCII:113,LENGTH:114,TO:115,INSTR:116,SUBSTRING:117,LPAD:118,REPLACE:119,RPAD:120,DISTINCT:121,ALL:122,ASC:123,DESC:124,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",8:"SEMICOLON",9:"SELECT",12:"FROM",18:"UPDATE",21:"INSERT",22:"INTO",23:"LPAREN",25:"RPAREN",26:"VALUES",29:"COMMA",30:"IDENTIFIER",31:"PERIOD",32:"WHERE",36:"GROUPBY",37:"HAVING",38:"EQ",39:"NEQ",40:"GT",41:"LT",42:"GTE",43:"LTE",44:"LIKE",45:"IS",46:"NULL",47:"NOT",48:"ORDERBY",51:"LIMIT",52:"NUMBER",60:"SET",63:"MINUS",64:"PLUS",66:"BOOL",68:"DIVIDE",69:"MULTIPLICATE",70:"IN",72:"AND",73:"OR",75:"QUOTE",76:"DOUBLEQUOTE",78:"DATE",79:"TIME",80:"AS",81:"BACKTICKS",82:"AVG",83:"COUNT",84:"MIN",85:"MAX",86:"STDDEV",87:"SUM",88:"VARIANCE",92:"NOW",93:"CURDATE",94:"CURTIME",97:"ABS",98:"CEIL",99:"FLOOR",100:"SIGN",101:"SQRT",102:"MOD",103:"POWER",104:"ROUND",105:"TRUNCATE",109:"LOWER",110:"LTRIM",111:"RTRIM",112:"UPPER",113:"ASCII",114:"LENGTH",115:"TO",116:"INSTR",117:"SUBSTRING",118:"LPAD",119:"REPLACE",120:"RPAD",121:"DISTINCT",122:"ALL",123:"ASC",124:"DESC"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[3,2],[4,9],[5,4],[6,10],[6,7],[6,4],[24,1],[24,3],[28,1],[28,3],[14,0],[14,2],[34,1],[34,3],[35,1],[35,3],[15,0],[15,2],[15,6],[15,6],[15,6],[15,6],[15,6],[15,6],[15,6],[15,6],[15,7],[16,0],[16,3],[17,0],[17,2],[53,3],[11,1],[11,3],[54,2],[54,6],[54,2],[13,1],[13,3],[59,2],[20,4],[20,5],[58,1],[58,3],[27,1],[27,3],[61,0],[61,1],[61,1],[61,2],[61,2],[61,1],[61,2],[61,2],[61,1],[61,1],[33,1],[33,1],[33,1],[33,1],[33,1],[33,1],[33,1],[33,5],[33,3],[33,3],[33,3],[33,3],[33,3],[33,3],[33,3],[33,3],[33,3],[33,3],[33,3],[33,3],[33,5],[33,3],[33,4],[33,3],[33,3],[33,2],[33,3],[71,1],[71,3],[74,1],[74,1],[74,1],[74,1],[62,2],[62,3],[62,3],[62,3],[62,3],[77,2],[67,3],[67,4],[56,0],[56,1],[56,2],[19,1],[19,3],[55,1],[55,1],[55,3],[55,3],[55,5],[55,3],[55,7],[49,1],[57,1],[57,1],[57,1],[57,1],[57,1],[57,1],[57,1],[65,1],[65,1],[65,1],[91,3],[91,3],[91,3],[91,4],[89,4],[89,6],[95,1],[95,1],[95,1],[95,1],[95,1],[96,1],[96,1],[96,1],[96,1],[90,4],[90,6],[90,8],[106,1],[106,1],[106,1],[106,1],[106,1],[106,1],[106,2],[107,1],[107,1],[108,1],[108,1],[108,1],[10,0],[10,1],[10,1],[50,0],[50,1],[50,1]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:case 2:case 3:d.sqlXML.printSQLOnWorkspace(f[h]),cleanUp();break;case 6:this.$=d.sqlXML.createSelect(d.sqlStatement.setSelect(f[h-7],f[h-6],f[h-4],f[h-3],null,f[h-2],f[h-1],f[h]));break;case 7:this.$=d.sqlXML.createUpdate(d.sqlStatement.setUpdate(f[h-2],f[h-1],f[h]));break;case 8:this.$=d.sqlXML.createInsert(d.sqlStatement.setInsert(f[h-7],f[h-5],f[h-1]));break;case 9:this.$=d.sqlXML.createInsert(d.sqlStatement.setInsert(f[h-4],"*",f[h-1]));break;case 10:this.$=d.sqlXML.createInsert(d.sqlStatement.setInsert(f[h-1],f[h]));break;case 11:case 17:case 42:case 49:this.$=[],this.$.push(f[h]);break;case 12:case 50:this.$.push(f[h]);break;case 14:case 16:case 47:case 104:this.$=f[h];break;case 18:case 43:f[h-2].push(f[h]),this.$=f[h-2];break;case 19:this.$={column:f[h]};break;case 20:this.$={column:f[h],table:f[h-2]};break;case 22:"tables_and_columns_var"===f[h][0].getAttribute("type")&&f[h][0].setAttribute("type","tables_and_columns"),this.$={expressions:f[h][0]};break;case 23:"tables_and_columns_var"===f[h-4][0].getAttribute("type")&&f[h-4][0].setAttribute("type","tables_and_columns"),this.$={expressions:f[h-4][0],having:d.sqlXML.createCompareOperator(f[h-2],f[h],"=")};break;case 24:"tables_and_columns_var"===f[h-4][0].getAttribute("type")&&f[h-4][0].setAttribute("type","tables_and_columns"),this.$={expressions:f[h-4][0],having:d.sqlXML.createCompareOperator(f[h-2],f[h],"!=")};break;case 25:"tables_and_columns_var"===f[h-4][0].getAttribute("type")&&f[h-4][0].setAttribute("type","tables_and_columns"),this.$={expressions:f[h-4][0],having:d.sqlXML.createCompareOperator(f[h-2],f[h],">")};break;case 26:"tables_and_columns_var"===f[h-4][0].getAttribute("type")&&f[h-4][0].setAttribute("type","tables_and_columns"),this.$={expressions:f[h-4][0],having:d.sqlXML.createCompareOperator(f[h-2],f[h],"<")};break;case 27:"tables_and_columns_var"===f[h-4][0].getAttribute("type")&&f[h-4][0].setAttribute("type","tables_and_columns"),this.$={expressions:f[h-4][0],having:d.sqlXML.createCompareOperator(f[h-2],f[h],">=")};break;case 28:"tables_and_columns_var"===f[h-4][0].getAttribute("type")&&f[h-4][0].setAttribute("type","tables_and_columns"),this.$={expressions:f[h-4][0],having:d.sqlXML.createCompareOperator(f[h-2],f[h],"<=")};break;case 29:"tables_and_columns_var"===f[h-4][0].getAttribute("type")&&f[h-4][0].setAttribute("type","tables_and_columns"),this.$={expressions:f[h-4][0],having:d.sqlXML.createCompareOperator(f[h-2],f[h],"like")};break;case 30:"tables_and_columns_var"===f[h-4][0].getAttribute("type")&&f[h-4][0].setAttribute("type","tables_and_columns"),this.$={expressions:f[h-4][0],having:d.sqlXML.createCompareOperator(f[h-2],null,"isnull")};break;case 31:"tables_and_columns_var"===f[h-5][0].getAttribute("type")&&f[h-5][0].setAttribute("type","tables_and_columns"),this.$={expressions:f[h-5][0],having:d.sqlXML.createCompareOperator(f[h-3],null,"isnotnull")};break;case 33:"tables_and_columns_var"===f[h-1][0].getAttribute("type")&&f[h-1][0].setAttribute("type","tables_and_columns"),console.log(f[h]),this.$={expressions:f[h-1][0],direction:f[h]};break;case 35:case 62:this.$=d.sqlXML.createNumber(parseInt(f[h]));break;case 36:"select"===f[h-1].getAttribute("type")&&f[h-1].setAttribute("type","sub_select_where"),this.$=f[h-1];break;case 38:case 48:this.$=d.sqlXML.addTable(f[h-2],f[h]);break;case 39:case 87:case 106:this.$=f[h-1];break;case 40:f[h-3]&&"distinct"===f[h-3].toLowerCase()&&(f[h-2]=d.sqlXML.createDistinct(f[h-2])),"tables_and_columns_var"===f[h-2].getAttribute("type")&&f[h-2].setAttribute("type","tables_and_columns"),this.$=d.sqlXML.createGroupFunction(f[h-5],f[h-2],f[h]);break;case 41:"sub_select_where"===f[h-1].getAttribute("type")&&f[h-1].setAttribute("type","sub_select"),f[h]&&(f[h-1]=d.sqlXML.addAlias(f[h-1],f[h])),this.$=f[h-1];break;case 44:this.$={tablename:f[h-1],alias:f[h]?f[h]:null};break;case 45:this.$=[],this.$.push({column:f[h-2],value:f[h]});break;case 46:this.$.push({column:f[h-2],value:f[h]});break;case 53:case 55:this.$=d.sqlXML.createString(f[h]);break;case 54:this.$=d.sqlXML.createString(f[h-1]+f[h]);break;case 56:case 58:case 91:this.$=d.sqlXML.createNumber(f[h]);break;case 57:var i=f[h-1]?f[h-1]+f[h]:f[h];this.$=d.sqlXML.createNumber(i);break;case 61:case 93:this.$=d.sqlXML.createBool("true"==f[h].toLowerCase());break;case 65:this.$=d.sqlXML.createTableVar(f[h]);break;case 68:"tables_and_columns_var"===f[h-1].getAttribute("type")&&f[h-1].setAttribute("type","tables_and_columns"),f[h-2]&&"distinct"===f[h-2].toLowerCase()&&(f[h-1]=d.sqlXML.createDistinct(f[h-1])),this.$=d.sqlXML.createGroupFunction(f[h-4],f[h-1]);break;case 69:this.$=d.sqlXML.createMath(f[h-2],f[h],"+");break;case 70:this.$=d.sqlXML.createMath(f[h-2],f[h],"-");break;case 71:this.$=d.sqlXML.createMath(f[h-2],f[h],"/");break;case 72:this.$=d.sqlXML.createMath(f[h-2],f[h],"*");break;case 73:this.$=d.sqlXML.createCompareOperator(f[h-2],f[h],"=");break;case 74:this.$=d.sqlXML.createCompareOperator(f[h-2],f[h],"!=");break;case 75:this.$=d.sqlXML.createCompareOperator(f[h-2],f[h],">");break;case 76:this.$=d.sqlXML.createCompareOperator(f[h-2],f[h],"<");break;case 77:this.$=d.sqlXML.createCompareOperator(f[h-2],f[h],">=");break;case 78:this.$=d.sqlXML.createCompareOperator(f[h-2],f[h],"<=");break;case 79:this.$=d.sqlXML.createCompareOperator(f[h-2],f[h],"like");break;case 80:this.$=d.sqlXML.createCompareOperator(f[h-2],f[h],"in");break;case 81:this.$=d.sqlXML.createCompareOperator(f[h-4],f[h-1],"in");break;case 82:this.$=d.sqlXML.createCompareOperator(f[h-2],null,"isnull");break;case 83:this.$=d.sqlXML.createCompareOperator(f[h-3],null,"isnotnull");break;case 84:this.$=d.sqlXML.createAnd(f[h-2],f[h]);break;case 85:this.$=d.sqlXML.createOr(f[h-2],f[h]);break;case 86:this.$=d.sqlXML.negate(f[h]);break;case 88:this.$=d.sqlXML.createArray(f[h]);break;case 89:this.$=d.sqlXML.addArray(f[h-2],f[h]);break;case 94:this.$=d.sqlXML.createString("");break;case 95:case 96:case 97:case 98:this.$=d.sqlXML.createString(f[h-1]);break;case 100:this.$=d.sqlXML.createDate(f[h-1]);break;case 101:this.$=d.sqlXML.createDate(f[h-2]+" "+f[h-1]);break;case 107:this.$=d.sqlXML.createTable("*");break;case 108:this.$=d.sqlXML.createTable(f[h]);break;case 109:this.$=d.sqlXML.createTable(f[h-1]);break;case 110:this.$=d.sqlXML.createTable("*",f[h-2]);break;case 111:this.$=d.sqlXML.createTable("*",f[h-3]);break;case 112:this.$=d.sqlXML.createTable(f[h],f[h-2]);break;case 113:this.$=d.sqlXML.createTable(f[h-1],f[h-5]);break;case 125:case 126:case 127:this.$=d.sqlXML.createDateFunction(f[h-2]);break;case 128:this.$=d.sqlXML.createDateFunction(f[h-3],f[h-1]);break;case 129:this.$=d.sqlXML.createNumberFunction(f[h-3],f[h-1]);break;case 130:this.$=d.sqlXML.createNumberFunction(f[h-5],f[h-3],f[h-1]);break;case 140:this.$=d.sqlXML.createCharFunction(f[h-3],f[h-1]);break;case 141:this.$=d.sqlXML.createCharFunction(f[h-5],f[h-3],f[h-1]);break;case 142:this.$=d.sqlXML.createCharFunction(f[h-7],f[h-5],f[h-3],f[h-1]);break;case 149:this.$=f[h-1]+f[h];break;case 156:this.$=d.sqlXML.createDistinct()}},table:[{3:1,4:2,5:3,6:4,9:c,18:[1,6],21:[1,7]},{1:[3],7:[1,8],8:[1,9]},b(d,[2,1]),b(d,[2,2]),b(d,[2,3]),b([23,30,69,81,82,83,84,85,86,87,88],e,{10:10,121:f,122:g}),{19:13,30:h,81:i},{22:[1,16]},b(d,[2,4]),b(d,[2,5]),{11:17,23:j,30:k,53:21,54:18,55:19,57:20,69:l,81:m,82:n,83:o,84:p,85:q,86:r,87:s,88:t},b(u,[2,156]),b(u,[2,157]),{20:33,60:v},b(w,[2,105]),{30:[1,35]},{19:36,30:h,81:i},{12:[1,37],29:[1,38]},b(x,[2,37]),b(x,y,{56:39,30:z,80:A}),{23:[1,42]},b(x,y,{56:43,30:z,80:A}),b(B,[2,107]),b(B,[2,108],{31:[1,44]}),{30:[1,45]},{23:[2,115]},{23:[2,116]},{23:[2,117]},{23:[2,118]},{23:[2,119]},{23:[2,120]},{23:[2,121]},{4:46,9:c},b(d,C,{14:47,29:D,32:E}),{28:50,30:F},{81:[1,52]},{20:55,23:[1,53],26:[1,54],60:v},{13:56,19:58,30:h,59:57,81:i},{23:j,30:k,53:21,54:59,55:19,57:20,69:l,81:m,82:n,83:o,84:p,85:q,86:r,87:s,88:t},b(x,[2,39]),b(G,[2,103]),{30:[1,60]},b([30,69,81],e,{10:61,121:f,122:g}),b(x,[2,41]),{30:[1,63],69:[1,62]},{81:[1,64]},{25:[1,65]},b(d,[2,7]),{28:66,30:F},{23:H,30:I,33:67,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{38:[1,114]},b(la,[2,13],{31:[1,115]}),b(w,[2,106]),{24:116,28:117,30:F},{23:[1,118]},b(d,[2,10],{29:D}),b(ma,C,{14:119,29:[1,120],32:E}),b(na,[2,42]),b(na,y,{56:121,30:z,80:A}),b(x,[2,38]),b(G,[2,104]),{30:k,55:123,58:122,69:l,81:m},b(B,[2,110]),b(B,[2,112]),b(B,[2,109],{31:[1,124]}),b([1,7,8,12,25,29,30,32,36,37,38,39,40,41,42,43,44,45,48,51,63,64,68,69,70,72,73,80,123,124],[2,36]),{38:[1,125]},b(ma,[2,16],{38:oa,39:pa,40:qa,41:ra,42:sa,43:ta,44:ua,45:va,63:wa,64:xa,68:ya,69:za,70:Aa,72:Ba,73:Ca}),b(Da,[2,61]),b(Da,[2,62]),b(Da,[2,63]),b(Da,[2,64]),b(Da,[2,65]),b(Da,[2,66]),b(Da,[2,67]),{23:[1,141]},{23:H,30:I,33:142,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{4:46,9:c,23:H,30:I,33:143,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{30:Ea,52:Fa,75:Ga,78:[1,147]},{30:[1,149],52:[1,148]},b(Da,[2,19],{31:[1,150]}),b(Ha,[2,122]),b(Ha,[2,123]),b(Ha,[2,124]),{23:[1,151]},{23:[1,152]},{23:[1,153]},{23:[1,154]},{23:[1,155]},{23:[1,156]},{23:[1,157]},{23:[1,158]},{23:[1,159]},{23:[2,131]},{23:[2,132]},{23:[2,133]},{23:[2,134]},{23:[2,135]},{23:[2,136]},{23:[2,137]},{23:[2,138]},{23:[2,139]},{23:[2,143]},{23:[2,144]},{23:[2,145]},{23:[2,146]},{23:[2,147]},{23:[2,148]},{78:[1,160]},{23:[2,150]},{23:[2,151]},{23:[2,152]},{23:[2,153]},{23:[2,154]},b(Ia,Ja,{89:81,90:82,91:83,95:84,96:85,106:86,107:87,108:88,61:161,62:162,65:167,53:168,23:j,30:Ka,52:La,63:Ma,64:Na,75:Oa,76:N,78:O,92:P,93:Q,94:R,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka}),{30:[1,170]},{25:[1,171],29:[1,172]},b(Pa,[2,11]),b(Pa,Ja,{89:81,90:82,91:83,95:84,96:85,106:86,107:87,108:88,62:162,65:167,53:168,27:173,61:174,23:j,30:Ka,52:La,63:Ma,64:Na,75:Oa,76:N,78:O,92:P,93:Q,94:R,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka}),b(Qa,[2,21],{15:175,36:[1,176]}),{19:58,30:h,59:177,81:i},b(na,[2,44]),{25:[1,178],29:[1,179]},b(Pa,[2,47]),{69:[1,180],81:[1,181]},b(Ia,Ja,{89:81,90:82,91:83,95:84,96:85,106:86,107:87,108:88,62:162,65:167,53:168,61:182,23:j,30:Ka,52:La,63:Ma,64:Na,75:Oa,76:N,78:O,92:P,93:Q,94:R,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka}),{23:H,30:I,33:183,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:184,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:185,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:186,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:187,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:188,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:189,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:190,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:191,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:192,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:193,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:[1,195],53:194},{46:[1,196],47:[1,197]},{23:H,30:I,33:198,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:199,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},b([23,30,47,52,66,75,76,78,82,83,84,85,86,87,88,92,93,94,97,98,99,100,101,102,103,104,105,109,110,111,112,113,114,115,116,117,118,119,120],e,{10:200,121:f,122:g}),b(Da,[2,86]),{25:[1,201],38:oa,39:pa,40:qa,41:ra,42:sa,43:ta,44:ua,45:va,63:wa,64:xa,68:ya,69:za,70:Aa,72:Ba,73:Ca},b(Ha,[2,94]),{75:[1,202]},{75:[1,203]},{75:[1,204],79:[1,205]},{76:[1,206]},{76:[1,207]},{30:[1,208]},{23:H,30:I,33:209,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:210,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:211,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:212,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:213,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{25:[1,214]},{25:[1,215]},{25:[1,216]},{78:[1,217]},{23:[2,149]},b(Ia,[2,45]),b(Ra,[2,52]),b(Ra,[2,53]),{30:[1,218],52:[1,219]},{30:[1,220],52:[1,221]},b(Ra,[2,56]),b(Ra,[2,59]),b(Ra,[2,60]),{30:Ea,52:Fa,75:Ga},b(la,[2,14]),{26:[1,222]},{28:223,30:F},{25:[1,224],29:Sa},b(Pa,[2,49]),b(Ta,[2,32],{16:226,48:[1,227]}),{23:H,30:I,33:229,34:228,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},b(na,[2,43]),b(x,y,{56:230,30:z,80:A}),{30:k,55:231,69:l,81:m},b(B,[2,111]),{30:[1,232]},b(Ia,[2,46]),b(Ua,[2,69],{68:ya,69:za}),b(Ua,[2,70],{68:ya,69:za}),b(Da,[2,71]),b(Da,[2,72]),b(Va,Wa,{63:wa,64:xa,68:ya,69:za}),b(Va,Xa,{63:wa,64:xa,68:ya,69:za}),b(Va,Ya,{63:wa,64:xa,68:ya,69:za}),b(Va,Za,{63:wa,64:xa,68:ya,69:za}),b(Va,$a,{63:wa,64:xa,68:ya,69:za}),b(Va,_a,{63:wa,64:xa,68:ya,69:za}),b(Va,ab,{63:wa,64:xa,68:ya,69:za}),b(Da,[2,80]),{4:46,9:c,52:bb,62:235,66:cb,67:237,71:233,74:234,75:M,76:N},b(Da,db),{46:[1,239]},b([1,7,8,25,29,36,37,48,51,72,73,123,124],[2,84],{38:oa,39:pa,40:qa,41:ra,42:sa,43:ta,44:ua,45:va,63:wa,64:xa,68:ya,69:za,70:Aa}),b([1,7,8,25,29,36,37,48,51,73,123,124],[2,85],{38:oa,39:pa,40:qa,41:ra,42:sa,43:ta,44:ua,45:va,63:wa,64:xa,68:ya,69:za,70:Aa,72:Ba}),{23:H,30:I,33:240,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},b(Da,[2,87]),b(Ha,[2,95]),b(Ha,[2,96]),b(Da,[2,100]),{75:[1,241]},b(Ha,[2,97]),b(Ha,[2,98]),b(Da,[2,20]),{25:[1,242],38:oa,39:pa,40:qa,41:ra,42:sa,43:ta,44:ua,45:va,63:wa,64:xa,68:ya,69:za,70:Aa,72:Ba,73:Ca},{29:[1,243],38:oa,39:pa,40:qa,41:ra,42:sa,43:ta,44:ua,45:va,63:wa,64:xa,68:ya,69:za,70:Aa,72:Ba,73:Ca},{25:[1,244],38:oa,39:pa,40:qa,41:ra,42:sa,43:ta,44:ua,45:va,63:wa,64:xa,68:ya,69:za,70:Aa,72:Ba,73:Ca},{29:[1,245],38:oa,39:pa,40:qa,41:ra,42:sa,43:ta,44:ua,45:va,63:wa,64:xa,68:ya,69:za,70:Aa,72:Ba,73:Ca},{29:[1,246],38:oa,39:pa,40:qa,41:ra,42:sa,43:ta,44:ua,45:va,63:wa,64:xa,68:ya,69:za,70:Aa,72:Ba,73:Ca},b(Ha,[2,125]),b(Ha,[2,126]),b(Ha,[2,127]),{25:[1,247]},b(Ra,[2,54]),b(Ra,[2,57]),b(Ra,[2,55]),b(Ra,[2,58]),{23:[1,248]},b(Pa,[2,12]),b(d,[2,9]),b(Pa,Ja,{89:81,90:82,91:83,95:84,96:85,106:86,107:87,108:88,62:162,65:167,53:168,61:249,23:j,30:Ka,52:La,63:Ma,64:Na,75:Oa,76:N,78:O,92:P,93:Q,94:R,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka}),b(eb,[2,34],{17:250,51:[1,251]}),{23:H,30:I,33:229,34:253,35:72,47:J,49:252,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},b(Qa,[2,22],{29:fb,37:[1,254]}),b(gb,[2,17],{38:oa,39:pa,40:qa,41:ra,42:sa,43:ta,44:ua,45:va,63:wa,64:xa,68:ya,69:za,70:Aa,72:Ba,73:Ca}),b(x,[2,40]),b(Pa,[2,48]),{81:[1,256]},{25:[1,257],29:[1,258]},b(Pa,[2,88]),b(Pa,[2,90]),b(Pa,[2,91]),b(Pa,[2,92]),b(Pa,[2,93]),b(Da,hb),{25:[1,259],38:oa,39:pa,40:qa,41:ra,42:sa,43:ta,44:ua,45:va,63:wa,64:xa,68:ya,69:za,70:Aa,72:Ba,73:Ca},b(Da,[2,101]),b(Ha,[2,129]),{23:H,30:I,33:260,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},b(Ha,[2,140]),{23:H,30:I,33:261,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:262,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},b(Ha,[2,128]),b(Pa,Ja,{89:81,90:82,91:83,95:84,96:85,106:86,107:87,108:88,62:162,65:167,53:168,61:174,27:263,23:j,30:Ka,52:La,63:Ma,64:Na,75:Oa,76:N,78:O,92:P,93:Q,94:R,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka}),b(Pa,[2,50]),b(eb,[2,6]),{52:[1,264]},b(Ta,[2,158],{50:265,123:[1,266],124:[1,267]}),b([1,7,8,25,51,123,124],[2,114],{29:fb}),{23:H,30:I,33:268,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:269,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},b(B,[2,113]),b(Da,[2,81]),{52:bb,62:235,66:cb,67:237,74:270,75:M,76:N},b(Da,[2,68]),{25:[1,271],38:oa,39:pa,40:qa,41:ra,42:sa,43:ta,44:ua,45:va,63:wa,64:xa,68:ya,69:za,70:Aa,72:Ba,73:Ca},{25:[1,272],38:oa,39:pa,40:qa,41:ra,42:sa,43:ta,44:ua,45:va,63:wa,64:xa,68:ya,69:za,70:Aa,72:Ba,73:Ca},{29:[1,273],38:oa,39:pa,40:qa,41:ra,42:sa,43:ta,44:ua,45:va,63:wa,64:xa,68:ya,69:za,70:Aa,72:Ba,73:Ca},{25:[1,274],29:Sa},b(eb,[2,35]),b(Ta,[2,33]),b(Ta,[2,159]),b(Ta,[2,160]),{38:[1,275],39:[1,276],40:[1,277],41:[1,278],42:[1,279],43:[1,280],44:[1,281],45:[1,282],63:wa,64:xa,68:ya,69:za,70:Aa,72:Ba,73:Ca},b(gb,[2,18],{38:oa,39:pa,40:qa,41:ra,42:sa,43:ta,44:ua,45:va,63:wa,64:xa,68:ya,69:za,70:Aa,72:Ba,73:Ca}),b(Pa,[2,89]),b(Ha,[2,130]),b(Ha,[2,141]),{23:H,30:I,33:283,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},b(d,[2,8]),{23:H,30:I,33:284,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:285,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:286,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:287,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:288,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:289,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{23:H,30:I,33:290,35:72,47:J,52:K,53:73,57:75,62:70,65:74,66:L,67:71,75:M,76:N,78:O,82:n,83:o,84:p,85:q,86:r,87:s,88:t,89:81,90:82,91:83,92:P,93:Q,94:R,95:84,96:85,97:S,98:T,99:U,100:V,101:W,102:X,103:Y,104:Z,105:$,106:86,107:87,108:88,109:_,110:aa,111:ba,112:ca,113:da,114:ea,115:fa,116:ga,117:ha,118:ia,119:ja,120:ka},{46:[1,291],47:[1,292]},{25:[1,293],38:oa,39:pa,40:qa,41:ra,42:sa,43:ta,44:ua,45:va,63:wa,64:xa,68:ya,69:za,70:Aa,72:Ba,73:Ca},b(ib,Wa,{1:jb,7:jb,8:jb,25:jb,48:jb,51:jb,63:wa,64:xa,68:ya,69:za}),b(ib,Xa,{1:kb,7:kb,8:kb,25:kb,48:kb,51:kb,63:wa,64:xa,68:ya,69:za}),b(ib,Ya,{1:lb,7:lb,8:lb,25:lb,48:lb,51:lb,63:wa,64:xa,68:ya,69:za}),b(ib,Za,{1:mb,7:mb,8:mb,25:mb,48:mb,51:mb,63:wa,64:xa,68:ya,69:za}),b(ib,$a,{1:nb,7:nb,8:nb,25:nb,48:nb,51:nb,63:wa,64:xa,68:ya,69:za}),b(ib,_a,{1:ob,7:ob,8:ob,25:ob,48:ob,51:ob,63:wa,64:xa,68:ya,69:za}),b(ib,ab,{1:pb,7:pb,8:pb,25:pb,48:pb,51:pb,63:wa,64:xa,68:ya,69:za}),b(qb,db,{1:rb,7:rb,8:rb,25:rb,48:rb,51:rb}),{46:[1,294]},b(Ha,[2,142]),b(qb,hb,{1:sb,7:sb,8:sb,25:sb,48:sb,51:sb})],defaultActions:{25:[2,115],26:[2,116],27:[2,117],28:[2,118],29:[2,119],30:[2,120],31:[2,121],93:[2,131],94:[2,132],95:[2,133],96:[2,134],97:[2,135],98:[2,136],99:[2,137],100:[2,138],101:[2,139],102:[2,143],103:[2,144],104:[2,145],105:[2,146],106:[2,147],107:[2,148],109:[2,150],110:[2,151],111:[2,152],112:[2,153],113:[2,154],160:[2,149]},parseError:function(a,b){if(!b.recoverable){var c=new Error(a);throw c.hash=b,c}this.trace(a)},parse:function(a){var b=this,c=[0],d=[null],e=[],f=this.table,g="",h=0,i=0,j=0,k=2,l=1,m=e.slice.call(arguments,1),n=Object.create(this.lexer),o={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(o.yy[p]=this.yy[p]);n.setInput(a,o.yy),o.yy.lexer=n,o.yy.parser=this,void 0===n.yylloc&&(n.yylloc={});var q=n.yylloc;e.push(q);var r=n.options&&n.options.ranges;"function"==typeof o.yy.parseError?this.parseError=o.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var s,t,u,v,w,x,y,z,A,B=function(){var a;return a=n.lex()||l,"number"!=typeof a&&(a=b.symbols_[a]||a),a},C={};;){if(u=c[c.length-1],this.defaultActions[u]?v=this.defaultActions[u]:(null!==s&&void 0!==s||(s=B()),v=f[u]&&f[u][s]),void 0===v||!v.length||!v[0]){var D="";A=[];for(x in f[u])this.terminals_[x]&&x>k&&A.push("'"+this.terminals_[x]+"'");D=n.showPosition?"Parse error on line "+(h+1)+":\n"+n.showPosition()+"\nExpecting "+A.join(", ")+", got '"+(this.terminals_[s]||s)+"'":"Parse error on line "+(h+1)+": Unexpected "+(s==l?"end of input":"'"+(this.terminals_[s]||s)+"'"),this.parseError(D,{text:n.match,token:this.terminals_[s]||s,line:n.yylineno,loc:q,expected:A})}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+u+", token: "+s);switch(v[0]){case 1:c.push(s),d.push(n.yytext),e.push(n.yylloc),c.push(v[1]),s=null,t?(s=t,t=null):(i=n.yyleng,g=n.yytext,h=n.yylineno,q=n.yylloc,j>0&&j--);break;case 2:if(y=this.productions_[v[1]][1],C.$=d[d.length-y],C._$={first_line:e[e.length-(y||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(y||1)].first_column,last_column:e[e.length-1].last_column},r&&(C._$.range=[e[e.length-(y||1)].range[0],e[e.length-1].range[1]]),void 0!==(w=this.performAction.apply(C,[g,i,h,o.yy,v[1],d,e].concat(m))))return w;y&&(c=c.slice(0,-1*y*2),d=d.slice(0,-1*y),e=e.slice(0,-1*y)),c.push(this.productions_[v[1]][0]),d.push(C.$),e.push(C._$),z=f[c[c.length-2]][c[c.length-1]],c.push(z);break;case 3:return!0}}return!0}},ub=function(){return{EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a,b){return this.yy=b||this.yy||{},this._input=a,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];return this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a,a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d,e;if(this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0))),d=a[0].match(/(?:\r\n?|\n).*/g),d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length},this.yytext+=a[0],this.match+=a[0],this.matches=a,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(a[0].length),this.matched+=a[0],c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),c)return c;if(this._backtrack){for(var f in e)this[f]=e[f];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d;this._more||(this.yytext="",this.match="");for(var e=this._currentRules(),f=0;f<e.length;f++)if((c=this._input.match(this.rules[e[f]]))&&(!b||c[0].length>b[0].length)){if(b=c,d=f,this.options.backtrack_lexer){if(!1!==(a=this.test_match(c,e[f])))return a;if(this._backtrack){b=!1;continue}return!1}if(!this.options.flex)break}return b?!1!==(a=this.test_match(b,e[d]))&&a:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a||this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){return a=this.conditionStack.length-1-Math.abs(a||0),a>=0?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0},performAction:function(a,b,c,d){a.sqlStatement=new SQLStatement,a.sqlXML=new SQLXML,a.sqlHelp=new SQLHelper;switch(c){case 0:case 1:case 2:case 3:break;case 4:return 7;case 5:return 76;case 6:return"PERCENT";case 7:return"AMPERSAND";case 8:return 75;case 9:return 23;case 10:return 25;case 11:return 29;case 12:return 31;case 13:return"COLON";case 14:return 8;case 15:return 81;case 16:case 17:return 47;case 18:case 19:return 73;case 20:case 21:return 72;case 22:return 38;case 23:return 41;case 24:return 40;case 25:return"QUESTIONMARK";case 26:return 39;case 27:return 43;case 28:return 42;case 29:return 64;case 30:return 63;case 31:return 68;case 32:return 69;case 33:case 34:return 38;case 35:case 36:return 39;case 37:case 38:return 41;case 39:case 40:return 40;case 41:case 42:return 43;case 43:case 44:return 42;case 45:case 46:return 70;case 47:case 48:return 44;case 49:case 50:return 45;case 51:case 52:return"EXISTS";case 53:case 54:return"BETWEEN";case 55:case 56:return 46;case 57:case 58:return"SYSDATE";case 59:case 60:return 78;case 61:case 62:return"ADD";case 63:case 64:return"SUB";case 65:case 66:return"LAST";case 67:return"DAY";case 68:return"day";case 69:case 70:return 92;case 71:case 72:return"MONTH";case 73:case 74:return"YEAR";case 75:case 76:return"EXTRACT";case 77:case 78:return 93;case 79:case 80:return 94;case 81:case 82:return 115;case 83:case 84:return"CHAR";case 85:case 86:return 97;case 87:case 88:return 98;case 89:case 90:return 99;case 91:case 92:return 102;case 93:case 94:return 103;case 95:case 96:return 104;case 97:case 98:return 100;case 99:case 100:return 101;case 101:case 102:return 105;case 103:case 104:return 109;case 105:case 106:return 118;case 107:case 108:return 110;case 109:case 110:return 119;case 111:case 112:return 120;case 113:case 114:return 111;case 115:case 116:return 117;case 117:case 118:return 112;case 119:case 120:return 113;case 121:case 122:return 116;case 123:case 124:return 114;case 125:case 126:return 9;case 127:case 128:return 21;case 129:case 130:return 18;case 131:case 132:return 122;case 133:case 134:return 121;case 135:case 136:return 80;case 137:return 22;case 138:case 139:return 12;case 140:case 141:return 26;case 142:case 143:return 32;case 144:case 145:return 60;case 146:case 147:return 36;case 148:case 149:return 48;case 150:case 151:return 37;case 152:case 153:return 51;case 154:case 155:return 82;case 156:case 157:return 83;case 158:case 159:return 84;case 160:case 161:return 85;case 162:case 163:return 86;case 164:case 165:return 87;case 166:case 167:return 88;case 168:case 169:case 170:case 171:return 66;case 172:case 173:return 123;case 174:case 175:return 124;case 176:case 177:return 80;case 178:return 78;case 179:return 79;case 180:return 52;case 181:case 182:return 30;case 183:console.log(b.yytext)}},rules:[/^(?:\s+)/,/^(?:\n)/,/^(?:[/][*][^*]*[*]+([^*/][^*]*[*]+)*[/])/,/^(?:[-]{2}.*)/,/^(?:$)/,/^(?:")/,/^(?:%)/,/^(?:&)/,/^(?:')/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:\.)/,/^(?::)/,/^(?:;)/,/^(?:`)/,/^(?:NOT)/,/^(?:not)/,/^(?:OR)/,/^(?:or)/,/^(?:AND)/,/^(?:and)/,/^(?:=)/,/^(?:>)/,/^(?:<)/,/^(?:\?)/,/^(?:!=)/,/^(?:>=)/,/^(?:<=)/,/^(?:\+)/,/^(?:-)/,/^(?:\/)/,/^(?:\*)/,/^(?:EQ)/,/^(?:eq)/,/^(?:NEQ)/,/^(?:neq)/,/^(?:LT)/,/^(?:lt)/,/^(?:GT)/,/^(?:gt)/,/^(?:LTE)/,/^(?:lte)/,/^(?:GTE)/,/^(?:gte)/,/^(?:IN)/,/^(?:in)/,/^(?:LIKE)/,/^(?:like)/,/^(?:IS)/,/^(?:is)/,/^(?:EXISTS)/,/^(?:exists)/,/^(?:BETWEEN)/,/^(?:between)/,/^(?:NULL)/,/^(?:null)/,/^(?:SYSDATE)/,/^(?:sysdate)/,/^(?:DATE)/,/^(?:date)/,/^(?:ADD)/,/^(?:add)/,/^(?:SUB)/,/^(?:sub)/,/^(?:LAST)/,/^(?:last)/,/^(?:DAY)/,/^(?:day)/,/^(?:NOW)/,/^(?:now)/,/^(?:MONTH)/,/^(?:month)/,/^(?:YEAR)/,/^(?:year)/,/^(?:EXTRACT)/,/^(?:extract)/,/^(?:CURDATE)/,/^(?:curdate)/,/^(?:CURTIME)/,/^(?:curtime)/,/^(?:TO)/,/^(?:to)/,/^(?:CHAR)/,/^(?:char)/,/^(?:ABS)/,/^(?:abs)/,/^(?:CEIL)/,/^(?:ceil)/,/^(?:FLOOR)/,/^(?:floor)/,/^(?:MOD)/,/^(?:mod)/,/^(?:POWER)/,/^(?:power)/,/^(?:ROUND)/,/^(?:round)/,/^(?:SIGN)/,/^(?:sign)/,/^(?:SQRT)/,/^(?:sqrt)/,/^(?:TRUNC)/,/^(?:trunc)/,/^(?:LOWER)/,/^(?:lower)/,/^(?:LPAD)/,/^(?:lpad)/,/^(?:LTRIM)/,/^(?:ltrim)/,/^(?:REPLACE)/,/^(?:replace)/,/^(?:RPAD)/,/^(?:rpad)/,/^(?:RTRIM)/,/^(?:rtrim)/,/^(?:SUBSTRING)/,/^(?:substring)/,/^(?:UPPER)/,/^(?:upper)/,/^(?:ASCII)/,/^(?:ascii)/,/^(?:INSTR)/,/^(?:instr)/,/^(?:LENGTH)/,/^(?:length)/,/^(?:SELECT)/,/^(?:select)/,/^(?:INSERT)/,/^(?:insert)/,/^(?:UPDATE)/,/^(?:update)/,/^(?:ALL)/,/^(?:all)/,/^(?:DISTINCT)/,/^(?:distinct)/,/^(?:AS)/,/^(?:as)/,/^(?:INTO)/,/^(?:FROM)/,/^(?:from)/,/^(?:VALUES)/,/^(?:values)/,/^(?:WHERE)/,/^(?:where)/,/^(?:SET)/,/^(?:set)/,/^(?:GROUP BY)/,/^(?:group by)/,/^(?:ORDER BY)/,/^(?:order by)/,/^(?:HAVING)/,/^(?:having)/,/^(?:LIMIT)/,/^(?:limit)/,/^(?:AVG)/,/^(?:avg)/,/^(?:COUNT)/,/^(?:count)/,/^(?:MIN)/,/^(?:min)/,/^(?:MAX)/,/^(?:max)/,/^(?:STDDEV)/,/^(?:stddev)/,/^(?:SUM)/,/^(?:sum)/,/^(?:VARIANCE)/,/^(?:variance)/,/^(?:TRUE)/,/^(?:FALSE)/,/^(?:true)/,/^(?:false)/,/^(?:ASC)/,/^(?:asc)/,/^(?:DESC)/,/^(?:desc)/,/^(?:AS)/,/^(?:as)/,/^(?:[0-9]{4}[-]{1}[0-9]{2}[-]{1}[0-9]{2})/,/^(?:[0-9]{2}[:][0-9]{2}[:][0-9]{2})/,/^(?:()?[0-9]+(\.[0-9]+)?\b)/,/^(?:[a-zA-Z]{1}[a-zA-Z0-9_$#]*)/,/^(?:[^ '\f\n\r\t\v​\u00A0\u1680​\u180e\u2000​\u2001\u2002​\u2003\u2004​ \u2005\u2006​\u2007\u2008​\u2009\u200a​\u2028\u2029​\u2028\u2029​ \u202f\u205f​\u3000]*)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183],inclusive:!0}}}}();return tb.lexer=ub,a.prototype=tb,tb.Parser=a,new a}();"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),process.exit(1));var b=require("fs").readFileSync(require("path").normalize(a[1]),"utf8");return exports.parser.parse(b)},"undefined"!=typeof module&&require.main===module&&exports.main(process.argv.slice(1)));
//# sourceMappingURL=SQLBlockly.min.map